var whiskBoxWidth=1;!function(){function t(t){return[0,t.length-1]}function r(t){return[d3.quantile(t,.25),d3.quantile(t,.5),d3.quantile(t,.75)]}d3.box=function(){function n(t){t.each(function(t,r){var n=t[1].sort(d3.ascending),o=d3.select(this),y=n.length,d=n[0],h=n[y-1],f=n.quartiles=c(n),x=u&&u.call(this,n,r),p=x&&x.map(function(t){return n[t]}),g=x?d3.range(0,x[0]).concat(d3.range(x[1]+1,y)):d3.range(y),w=d3.scaleLinear().domain(i&&i.call(this,n,r)||[d,h]).range([e,0]),k=this.__chart__||d3.scaleLinear().domain([0,1/0]).range(w.range());this.__chart__=w;var m=o.selectAll("line.center").data(p?[p]:[]);m.enter().insert("line","rect").attr("class","center").attr("x1",whiskBoxWidth/2).attr("y1",function(t){return k(t[0])}).attr("x2",whiskBoxWidth/2).attr("y2",function(t){return k(t[1])}).style("opacity",1e-6).transition().duration(a).style("opacity",1).attr("y1",function(t){return w(t[0])}).attr("y2",function(t){return w(t[1])}),m.transition().duration(a).style("opacity",1).attr("y1",function(t){return w(t[0])}).attr("y2",function(t){return w(t[1])}),m.exit().transition().duration(a).style("opacity",1e-6).attr("y1",function(t){return w(t[0])}).attr("y2",function(t){return w(t[1])}).remove();var v=o.selectAll("rect.box").data([f]);v.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(t){return k(t[2])}).attr("width",whiskBoxWidth).attr("height",function(t){return k(t[0])-k(t[2])}).transition().duration(a).attr("y",function(t){return w(t[2])}).attr("height",function(t){return w(t[0])-w(t[2])}),v.transition().duration(a).attr("y",function(t){return w(t[2])}).attr("height",function(t){return w(t[0])-w(t[2])});var B=o.selectAll("line.median").data([f[1]]);B.enter().append("line").attr("class","median").attr("x1",0).attr("y1",k).attr("x2",whiskBoxWidth).attr("y2",k).transition().duration(a).attr("y1",w).attr("y2",w),B.transition().duration(a).attr("y1",w).attr("y2",w);var W=o.selectAll("line.whisker").data(p||[]);W.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",k).attr("x2",0+whiskBoxWidth).attr("y2",k).style("opacity",1e-6).transition().duration(a).attr("y1",w).attr("y2",w).style("opacity",1),W.transition().duration(a).attr("y1",w).attr("y2",w).style("opacity",1),W.exit().transition().duration(a).attr("y1",w).attr("y2",w).style("opacity",1e-6).remove();var b=o.selectAll("circle.outlier").data(g,Number);b.enter().insert("circle","text").attr("class","outlier").attr("r",5).attr("cx",whiskBoxWidth/2).attr("cy",function(t){return k(n[t])}).style("opacity",1e-6).transition().duration(a).attr("cy",function(t){return w(n[t])}).style("opacity",1),b.transition().duration(a).attr("cy",function(t){return w(n[t])}).style("opacity",1),b.exit().transition().duration(a).attr("cy",function(t){return w(n[t])}).style("opacity",1e-6).remove();var _=l||w.tickFormat(8),A=o.selectAll("text.box").data(f);1==s&&A.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(t,r){return 1&r?6:-6}).attr("x",function(t,r){return 1&r?+whiskBoxWidth:0}).attr("y",k).attr("text-anchor",function(t,r){return 1&r?"start":"end"}).text(_).transition().duration(a).attr("y",w),A.transition().duration(a).text(_).attr("y",w);var q=o.selectAll("text.whisker").data(p||[]);1==s&&q.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",whiskBoxWidth).attr("y",k).text(_).style("opacity",1e-6).transition().duration(a).attr("y",w).style("opacity",1),q.transition().duration(a).text(_).attr("y",w).style("opacity",1),q.exit().transition().duration(a).attr("y",w).style("opacity",1e-6).remove()}),d3.timerFlush()}var e=1,a=0,i=null,o=Number,u=t,c=r,s=!0,l=null;return n.width=function(t){return arguments.length?(whiskBoxWidth=t,n):whiskBoxWidth},n.height=function(t){return arguments.length?(e=t,n):e},n.tickFormat=function(t){return arguments.length?(l=t,n):l},n.duration=function(t){return arguments.length?(a=t,n):a},d3.functor=function(t){return"function"==typeof t?t:function(){return t}},n.domain=function(t){return arguments.length?(i=null===t?t:d3.functor(t),n):i},n.value=function(t){return arguments.length?(o=t,n):o},n.whiskers=function(t){return arguments.length?(u=t,n):u},n.showLabels=function(t){return arguments.length?(s=t,n):s},n.quartiles=function(t){return arguments.length?(c=t,n):c},n}}();