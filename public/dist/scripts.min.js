var SingleBarModule=function(){function t(t,e,n,a,s,i){var o=[];$(a).find("th").each(function(t,e){0!=t&&o.push({category:$(e).text(),value:0})}),$("#"+t).find("th").each(function(t,e){0!=t?o[t-1].value=$(e).text():title=o[t].value=$(e).text()});var l=-(1/0);$(".cell",s).each(function(){var t=+$(this).attr("origValue");l=t>l?t:l});var c=1/0;$(".cell",s).each(function(){var t=+$(this).attr("origValue");c=t<c?t:c}),r(n,l,c,o,e,i)}function e(t){this.id=t,this.x=d3.scaleBand().range([0,i]).padding(.5),this.y=d3.scaleLinear().range([o,0]).nice(),this.yAxis=d3.axisLeft(),this.xAxis=d3.axisBottom(),this.created=!1,this.svg=null}function r(t,e,r,s,i,o){var c=null;l.forEach(function(e){e.id===t&&(c=e)}),null===c?n(t,e,r,s,i,o):a(c,e,r,s,i)}function n(t,r,n,a,u,d){var f=new e(t);l.push(f);var p=n<0&&r>0,h=0;!p&&n<0?h=n:p||(h=r),p&&(h=r),f.svg=d3.select(t).append("svg").attr("width",i+s.left+s.right).attr("height",o+s.top+s.bottom).append("g").attr("transform","translate("+s.left+","+s.top+")"),f.x.domain(a.map(function(t){return t.category})),f.y.domain([0,h]),f.y.nice(),f.yAxis.scale(f.y),f.svg.selectAll(".bar").data(a).enter().append("rect").attr("class","bar single-bar").attr("x",function(t){return f.x(t.category)}).attr("width",f.x.bandwidth()).attr("y",function(t){return f.y(p?Math.abs(t.value):t.value)}).attr("height",function(t){return o-f.y(p?Math.abs(t.value):t.value)}).attr("fill",function(t){return p?t.value>0?"lightgreen":c:"lightgreen"}),f.svg.append("g").attr("transform","translate(0,"+o+")").call(f.xAxis.scale(f.x)),f.svg.append("g").attr("class","yAxis").call(f.yAxis),f.created=!0,f.svg.append("text").attr("x",i/2).attr("y",0-s.top/2).attr("id","bar-title").attr("text-anchor","middle").style("font-size","24px").text(u),f.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+-(s.left/2+10)+","+o/2+")rotate(-90)").attr("class","unit-text-scaled").text(d),f.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+ +(i/2)+","+(s.top+o-s.bottom+20)+")").attr("class","unit-text-scaled").text("Year")}function a(t,e,r,n,a){var s=r<0&&e>0;t.svg.selectAll(".bar").data(n).transition().duration(750).attr("y",function(e){return t.y(s?Math.abs(e.value):e.value)}).attr("height",function(e){return o-t.y(s?Math.abs(e.value):e.value)}).attr("fill",function(t){return s?t.value>0?"lightgreen":c:"lightgreen"}),t.svg.select("#bar-title").text(a)}var s={top:60,right:20,bottom:50,left:50},i=550-s.left-s.right,o=500-s.top-s.bottom,l=[],c="#FF2626";return{showBarWithRowElem:t,createBarGraph:r}}(),GroupedBarModule=function(){function t(t,e,r,n,a,s){this.x0=t,this.x1=e,this.y=r,this.yAxis=n,this.svg=a,this.id=s,this.created=!1,this.g=null}var e={top:25,right:85,bottom:150,left:80},r=1200-e.left-e.right,n=750-e.top-e.bottom,a=[],s=d3.scaleOrdinal().range(["#BBDEFB","#64B5F6","#1976D2","#1565C0","#0D47A1","#d0743c","#ff8c00"]),i=d3.scaleOrdinal().range(["#FF7373","#FF4C4C","#FF2626","#B20000","#D90000","#d0743c","#ff8c00"]),o=d3.scaleOrdinal().range(["#C1FFC1","#90EE90","#5BC85B","#31A231","#137B13","#d0743c","#ff8c00"]),l=function(t,e){d3.selectAll(".bar-selected").datum(function(t){return t}).attr("fill",function(t){return s(t.key)}),d3.selectAll(".bar-selected").classed("bar-selected",!1),e||d3.selectAll("rect."+t.replace(/ /g,"")).classed("bar-selected",!0).datum(function(t){return t}).attr("fill",function(t){return o(t.key)})},c=function(t,e,r,n){for(var s=0;s<a.length;s++)if(a[s].id===n)return void d(t,e,a[s],r);u(t,e,r,n)},u=function(o,l,c,u){var d=new t(d3.scaleBand().rangeRound([0,r]).paddingInner(.05),d3.scaleBand().padding(.05),d3.scaleLinear().rangeRound([n,0]),d3.axisLeft(),d3.axisBottom(),u);a.push(d),d.svg=d3.select(u).append("svg").attr("width",r+e.left+e.right).attr("height",n+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")"),d.x0.domain(o.map(function(t){return t.edb})),d.x1.domain(l).rangeRound([0,d.x0.bandwidth()]),d.y.domain([0,d3.max(o,function(t){return d3.max(l,function(e){return Math.abs(t[e])})})]).nice();var f=d3.format(".2f"),p=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>Value:</strong> <span style='color:lightgreen'>"+f(t.value)+"</span><br><br><strong>Year:</strong> <span style='color:lightgreen'>"+t.key+"</span>"});d.svg.call(p),d.svg.append("g").selectAll("g").data(o).enter().append("g").attr("transform",function(t){return"translate("+d.x0(t.edb)+",0)"}).selectAll("rect").data(function(t){return l.map(function(e){return{neg:t[e]<0,key:e,edb:t.edb,value:Math.abs(t[e])}})}).enter().append("rect").attr("x",function(t){return d.x1(t.key)}).attr("y",function(t){return d.y(t.value)}).attr("width",d.x1.bandwidth()).attr("height",function(t){return n-d.y(t.value)}).attr("fill",function(t){return t.neg?i(t.key):s(t.key)}).attr("class",function(t){return" "+t.edb.replace(/ /g,"")}).on("mouseover",p.show).on("mouseout",p.hide),d.svg.append("g").attr("class","xAxis axis").attr("transform","translate(0,"+n+")").call(d3.axisBottom(d.x0)).selectAll("text").attr("y",0).attr("x",9).attr("dy",".40em").attr("class","axis-text-scaled").attr("transform","rotate(55)").style("text-anchor","start"),d.svg.append("g").attr("class","yAxis axis").call(d.yAxis.scale(d.y)).append("text").attr("x",2).attr("y",d.y(d.y.ticks().pop())+.5).attr("dy","0.40em").attr("class","axis-text-scaled").attr("text-anchor","start"),d.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+-(e.left/2)+","+n/2+")rotate(-90)").attr("class","unit-text-scaled").text(c);var h=d.svg.append("g").attr("font-family","sans-serif").attr("font-size",8).attr("text-anchor","end").selectAll("g").data(l.slice().reverse()).enter().append("g").attr("transform",function(t,e){return"translate(0,"+10*e+")"});h.append("rect").attr("x",r-100).attr("width",8.5).attr("height",8.5).attr("fill",s),h.append("text").attr("x",r-110).attr("y",4).attr("dy","0.32em").attr("class","g-text").style("font-size","8px").text(function(t){return t}),d.created=!0},d=function(t,e,a,o){a.y.domain([0,d3.max(t,function(t){return d3.max(e,function(e){return Math.abs(t[e])})})]).nice(),a.yAxis.scale(a.y),a.svg.select(".yAxis").remove(),a.svg.append("g").attr("class","yAxis axis").call(a.yAxis);var l=d3.format(".2f"),c=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>Value:</strong> <span style='color:lightgreen'>"+l(t.value)+"</span><br><br><strong>Year:</strong> <span style='color:lightgreen'>"+t.key+"</span>"});a.svg.call(c);a.svg.selectAll(".bar").remove();a.svg.append("g").selectAll("g").data(t).enter().append("g").attr("transform",function(t){return"translate("+a.x0(t.edb)+",0)"}).selectAll("rect").data(function(t){return e.map(function(e){return{neg:t[e]<0,key:e,edb:t.edb,value:Math.abs(t[e])}})}).enter().append("rect").attr("x",function(t){return a.x1(t.key)}).attr("y",function(t){return a.y(t.value)}).attr("class","bar").attr("width",a.x1.bandwidth()).attr("height",function(t){return n-a.y(t.value)}).attr("fill",function(t){return t.neg?i(t.key):s(t.key)}).attr("class",function(t){return""+t.edb.replace(/ /g,"")}).on("mouseover",c.show).on("mouseout",c.hide);var u=a.svg.append("g").attr("font-family","sans-serif").attr("font-size",8).attr("text-anchor","end").selectAll("g").data(e.slice().reverse()).enter().append("g").attr("transform",function(t,e){return"translate(0,"+10*e+")"});u.append("rect").attr("x",r-100).attr("width",8.5).attr("height",8.5).attr("fill",s)};return{highlight:l,createdGroupedBarGraph:c}}(),whiskBoxWidth=1;!function(){function t(t){return[0,t.length-1]}function e(t){return[d3.quantile(t,.25),d3.quantile(t,.5),d3.quantile(t,.75)]}d3.box=function(){function r(t){t.each(function(t,e){var r=t[1].sort(d3.ascending),i=d3.select(this),d=r.length,f=r[0],p=r[d-1],h=r.quartiles=l(r),g=o&&o.call(this,r,e),x=g&&g.map(function(t){return r[t]}),y=g?d3.range(0,g[0]).concat(d3.range(g[1]+1,d)):d3.range(d),v=d3.scaleLinear().domain(s&&s.call(this,r,e)||[f,p]).range([n,0]),m=this.__chart__||d3.scaleLinear().domain([0,1/0]).range(v.range());this.__chart__=v;var b=i.selectAll("line.center").data(x?[x]:[]);b.enter().insert("line","rect").attr("class","center").attr("x1",whiskBoxWidth/2).attr("y1",function(t){return m(t[0])}).attr("x2",whiskBoxWidth/2).attr("y2",function(t){return m(t[1])}).style("opacity",1e-6).transition().duration(a).style("opacity",1).attr("y1",function(t){return v(t[0])}).attr("y2",function(t){return v(t[1])}),b.transition().duration(a).style("opacity",1).attr("y1",function(t){return v(t[0])}).attr("y2",function(t){return v(t[1])}),b.exit().transition().duration(a).style("opacity",1e-6).attr("y1",function(t){return v(t[0])}).attr("y2",function(t){return v(t[1])}).remove();var A=i.selectAll("rect.box").data([h]);A.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(t){return m(t[2])}).attr("width",whiskBoxWidth).attr("height",function(t){return m(t[0])-m(t[2])}).transition().duration(a).attr("y",function(t){return v(t[2])}).attr("height",function(t){return v(t[0])-v(t[2])}),A.transition().duration(a).attr("y",function(t){return v(t[2])}).attr("height",function(t){return v(t[0])-v(t[2])});var w=i.selectAll("line.median").data([h[1]]);w.enter().append("line").attr("class","median").attr("x1",0).attr("y1",m).attr("x2",whiskBoxWidth).attr("y2",m).transition().duration(a).attr("y1",v).attr("y2",v),w.transition().duration(a).attr("y1",v).attr("y2",v);var k=i.selectAll("line.whisker").data(x||[]);k.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",m).attr("x2",0+whiskBoxWidth).attr("y2",m).style("opacity",1e-6).transition().duration(a).attr("y1",v).attr("y2",v).style("opacity",1),k.transition().duration(a).attr("y1",v).attr("y2",v).style("opacity",1),k.exit().transition().duration(a).attr("y1",v).attr("y2",v).style("opacity",1e-6).remove();var B=i.selectAll("circle.outlier").data(y,Number);B.enter().insert("circle","text").attr("class","outlier").attr("r",2).attr("cx",whiskBoxWidth/2).attr("cy",function(t){return m(r[t])}).style("opacity",1e-6).transition().duration(a).attr("cy",function(t){return v(r[t])}).style("opacity",1),B.transition().duration(a).attr("cy",function(t){return v(r[t])}).style("opacity",1),B.exit().transition().duration(a).attr("cy",function(t){return v(r[t])}).style("opacity",1e-6).remove();var E=u||v.tickFormat(8),F=i.selectAll("text.box").data(h);1==c&&F.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(t,e){return 1&e?6:-6}).attr("x",function(t,e){return 1&e?+whiskBoxWidth:0}).attr("y",m).attr("text-anchor",function(t,e){return 1&e?"start":"end"}).text(E).transition().duration(a).attr("y",v),F.transition().duration(a).text(E).attr("y",v);var C=i.selectAll("text.whisker").data(x||[]);1==c&&C.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",whiskBoxWidth).attr("y",m).text(E).style("opacity",1e-6).transition().duration(a).attr("y",v).style("opacity",1),C.transition().duration(a).text(E).attr("y",v).style("opacity",1),C.exit().transition().duration(a).attr("y",v).style("opacity",1e-6).remove()}),d3.timerFlush()}var n=1,a=0,s=null,i=Number,o=t,l=e,c=!0,u=null;return r.width=function(t){return arguments.length?(whiskBoxWidth=t,r):whiskBoxWidth},r.height=function(t){return arguments.length?(n=t,r):n},r.tickFormat=function(t){return arguments.length?(u=t,r):u},r.duration=function(t){return arguments.length?(a=t,r):a},d3.functor=function(t){return"function"==typeof t?t:function(){return t}},r.domain=function(t){return arguments.length?(s=null===t?t:d3.functor(t),r):s},r.value=function(t){return arguments.length?(i=t,r):i},r.whiskers=function(t){return arguments.length?(o=t,r):o},r.showLabels=function(t){return arguments.length?(c=t,r):c},r.quartiles=function(t){return arguments.length?(l=t,r):l},r}}();var BoxPlotModule=function(){function t(t,e,r,n,a,s,i,o){this.x=t,this.y=e,this.xAxis=r,this.yAxis=n,this.svg=a,this.chart=s,this.created=i,this.id=o}function e(e,l,c){var u=null,d=e.data,f=e.min,p=e.max,h=e.scatterData;if(o.forEach(function(t){t.id===l&&(u=t)}),null===u){var g=d3.scaleBand().rangeRound([0,s]).padding(.7,.3);u=new t(g,null,null,null,null,null,!1,l),o.push(u)}else d3.select(l+" svg").remove();u.y=d3.scaleLinear().domain([f,p]).nice().range([i+a.top,0+a.top]),u.chart=d3.box().whiskers(r(1.5)).height(i).domain(u.y.domain()).showLabels(n),u.svg=d3.select(l).append("svg").attr("width",s+a.left+a.right).attr("height",i+a.top+a.bottom).attr("class","box").append("g").attr("transform","translate("+a.left+","+a.top+")"),u.x.domain(d.map(function(t){return t[0]})),u.xAxis=d3.axisBottom(u.x),u.yAxis=d3.axisLeft(u.y),u.svg.selectAll(".box").data(d).enter().append("g").attr("transform",function(t){return"translate("+u.x(t[0])+","+a.top+")"}).call(u.chart.width(u.x.bandwidth())),u.svg.selectAll(".box").data(d).enter().append("g").attr("transform",function(t){return"translate("+u.x(t[0])+","+a.top+")"}).call(u.chart.width(u.x.bandwidth()));var x=d3.format(".2f"),y=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>Value:</strong> <span style='color:lightgreen'>"+x(t.value)+"</span><br><br><strong>EDB:</strong> <span style='color:lightgreen'>"+t.edb+"</span>"});u.svg.call(y),u.svg.selectAll(".dot").data(h).enter().append("circle").attr("class",function(t){return"dot "+t.edb.replace(/ /g,"")}).attr("r",4).attr("cx",function(t){return u.x(t.year)+whiskBoxWidth/2}).attr("cy",function(t){return u.y(t.value)}).on("mouseover",y.show).on("mouseout",y.hide),u.svg.append("g").attr("class","y axis").call(u.yAxis).append("text").attr("transform","rotate(-90)").attr("class","axis-text-scaled").style("text-anchor","end"),u.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+(i+a.top+10)+")").call(u.xAxis).append("text").attr("x",s/2).attr("y",10).attr("dy",".71em").style("text-anchor","middle").attr("class","axis-text-scaled"),u.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+-(a.left/2-10)+","+i/2+")rotate(-90)").attr("class","unit-text-scaled").text(c),u.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+ +(s/2)+","+(a.top+40+i)+")").attr("class","unit-text-scaled").text("Year"),u.created=!0}function r(t){return function(e,r){for(var n=e.quartiles[0],a=e.quartiles[2],s=(a-n)*t,r=-1,i=e.length;e[++r]<n-s;);for(;e[--i]>a+s;);return[r,i]}}var n=!1,a={top:30,right:50,bottom:100,left:100},s=1200-a.left-a.right,i=800-a.top-a.bottom,o=[];return{createBoxPlot:e}}();d3.functor=function(t){return"function"==typeof t?t:function(){return t}},d3.tip=function(){function t(t){b=p(t),A=b.createSVGPoint(),document.body.appendChild(m)}function e(){return"n"}function r(){return[0,0]}function n(){return" "}function a(){var t=g();return{top:t.n.y-m.offsetHeight,left:t.n.x-m.offsetWidth/2}}function s(){var t=g();return{top:t.s.y,left:t.s.x-m.offsetWidth/2}}function i(){var t=g();return{top:t.e.y-m.offsetHeight/2,left:t.e.x}}function o(){var t=g();return{top:t.w.y-m.offsetHeight/2,left:t.w.x-m.offsetWidth}}function l(){var t=g();return{top:t.nw.y-m.offsetHeight,left:t.nw.x-m.offsetWidth}}function c(){var t=g();return{top:t.ne.y-m.offsetHeight,left:t.ne.x}}function u(){var t=g();return{top:t.sw.y,left:t.sw.x-m.offsetWidth}}function d(){var t=g();return{top:t.se.y,left:t.e.x}}function f(){var t=d3.select(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function p(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function h(){return null===m&&(m=f(),document.body.appendChild(m)),d3.select(m)}function g(){for(var t=w||d3.event.target;"undefined"==typeof t.getScreenCTM&&"undefined"===t.parentNode;)t=t.parentNode;var e={},r=t.getScreenCTM(),n=t.getBBox(),a=n.width,s=n.height,i=n.x,o=n.y;return A.x=i,A.y=o,e.nw=A.matrixTransform(r),A.x+=a,e.ne=A.matrixTransform(r),A.y+=s,e.se=A.matrixTransform(r),A.x-=a,e.sw=A.matrixTransform(r),A.y-=s/2,e.w=A.matrixTransform(r),A.x+=a,e.e=A.matrixTransform(r),A.x-=a/2,A.y-=s/2,e.n=A.matrixTransform(r),A.y+=s,e.s=A.matrixTransform(r),e}var x=e,y=r,v=n,m=f(),b=null,A=null,w=null;t.show=function(){var e=Array.prototype.slice.call(arguments);e[e.length-1]instanceof SVGElement&&(w=e.pop());var r,n=v.apply(this,e),a=y.apply(this,e),s=x.apply(this,e),i=h(),o=B.length,l=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;for(i.html(n).style("position","absolute").style("opacity",1).style("pointer-events","all");o--;)i.classed(B[o],!1);return r=k[s].apply(this),i.classed(s,!0).style("top",r.top+a[0]+l+"px").style("left",r.left+a[1]+c+"px"),t},t.hide=function(){var e=h();return e.style("opacity",0).style("pointer-events","none"),t},t.attr=function(e,r){if(arguments.length<2&&"string"==typeof e)return h().attr(e);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(h(),n),t},t.style=function(e,r){if(arguments.length<2&&"string"==typeof e)return h().style(e);var n=Array.prototype.slice.call(arguments);if(1===n.length){var a=n[0];Object.keys(a).forEach(function(t){return d3.selection.prototype.style.apply(h(),[t,a[t]])})}return t},t.direction=function(e){return arguments.length?(x=null==e?e:d3.functor(e),t):x},t.offset=function(e){return arguments.length?(y=null==e?e:d3.functor(e),t):y},t.html=function(e){return arguments.length?(v=null==e?e:d3.functor(e),t):v},t.destroy=function(){return m&&(h().remove(),m=null),t};var k={n:a,s:s,e:i,w:o,nw:l,ne:c,sw:u,se:d},B=Object.keys(k);return t};var Database=function(){function t(t){$.get("/sections/sections",function(e){e.sections.length>0?t(e.sections,!1):t(sections,!0)})}function e(t,e){$.post("/sections/s",{selected:t},function(t){t.categories.length>0&&null!==t.categories[0]?e(t.categories,!1):e([],!0)})}function r(t,e,r){$.post("/sections/sc",{section:t,category:e},function(t){t.subCategories.length>0&&null!==t.subCategories[0]?r(t.subCategories,!1):r([],!0)})}function n(t,e,r,n){$.post("/sections/desc",{category:e,section:t,subCategory:r},function(t){t.descriptions.length>0&&null!==t.descriptions[0]?n(t.descriptions,!1):n(t.descriptions,!0)})}function a(t,e){$.post("/compare/search",{company:"",selections:JSON.stringify(t)},function(t){e(t.rows)})}return{getCategoriesFromDatabase:e,getSubCategoriesFromDatabase:r,getDescriptionsFromDatabase:n,getSectionsFromDatabase:t,getRowsForSearch:a}}(),events={events:{},on:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},off:function(t,e){if(this.events[t])for(var r=0;r<this.events[t].length;r++)if(this.events[t][r]===e){this.events[t].splice(r,1);break}},emit:function(t,e){this.events[t]&&this.events[t].forEach(function(t){t(e)})}},VectorModule=function(){function t(t){this.id=t,this.created=!1,this.xAxis=d3.axisBottom(),this.yAxis=d3.axisLeft(),this.x=d3.scaleLinear().rangeRound([n,0]),this.y=d3.scaleLinear().rangeRound([a,0]),this.svg=null}function e(e,i,o,l){var c=null;s.forEach(function(t){t.id===l&&(c=t)}),null===c&&(c=new t(l),s.push(c));var u=[];e.forEach(function(t){u.push(t.edb)});var d=d3.scaleOrdinal().domain(u).range(["#e69a61","#9817ff","#18c61a","#33b4ff","#c9167e","#297853","#d7011b","#7456c7","#7e6276","#afb113","#fd879c","#fb78fa","#24c373","#45bbc5","#766b21","#abad93","#c19ce3","#fd8f11","#2f56ff","#307a11","#b3483c","#0d7396","#94b665","#9d4d91","#b807c8","#086cbf","#a2abc5","#a35702","#d3084b"]),f=[];e.forEach(function(t){t.years.forEach(function(e){e.edb=t.edb,f.push(e)})});var p=[];f.forEach(function(t){p.push(t.valueB)});var h=[];f.forEach(function(t){h.push(t.valueA)}),c.created||(c.svg=d3.select(l).append("svg").attr("width",n+r.left+r.right).attr("height",a+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")"));var g=d3.max(p,function(t){return t}),v=d3.max(h,function(t){return t});c.x.domain([g,0]).nice(),c.y.domain([0,v]).nice(),c.created?(c.svg.select(".yAxis").call(c.yAxis),c.svg.select(".xAxis").call(c.xAxis)):(c.xAxis.scale(c.x),c.yAxis.scale(c.y)),c.svg.append("g").attr("class","xAxis").attr("transform","translate(0,"+a+")").call(c.xAxis.scale(c.x));var m=d3.format(".2f");c.svg.append("g").attr("class","yAxis").attr("fill","black").call(c.yAxis);var b=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>EDB:</strong> <span style='color:lightgreen'>"+t.edb+"</span><br><br><strong>Year:</strong> <span style='color:lightgreen'>"+t.year+"</span><br><br><strong>Value:</strong> <span style='color:lightgreen'>["+m(t.valueA)+", "+m(t.valueB)+"]</span>"});c.svg.call(b),c.created?c.svg.selectAll(".dotm").data(f).attr("class","dot").attr("r",3.5).attr("cx",function(t){return c.x(t.valueB)}).attr("cy",function(t){return c.y(t.valueA)}).attr("fill",function(t){return d(t.edb)}).on("mouseover",b.show).on("mouseout",b.hide):c.svg.selectAll(".dotm").data(f).enter().append("circle").attr("class","dotm").attr("r",3.5).attr("cx",function(t){return c.x(t.valueB)}).attr("cy",function(t){return c.y(t.valueA)}).attr("fill",function(t){return d(t.edb)}).on("mouseover",b.show).on("mouseout",b.hide);for(var A=[],w=0;w<e.length;w++)for(var k=0;k<e[w].years.length-1;k++)A.push({end:!0,edb:e[w].edb,x:e[w].years[k].valueB,y:e[w].years[k].valueA,x1:e[w].years[k+1].valueB,y1:e[w].years[k+1].valueA});c.created||c.svg.append("svg:defs").selectAll("marker").data(A).enter().append("svg:marker").attr("id",function(t){if(t.end)return"end"+t.edb.replace(/ /g,"")}).attr("viewBox","0 -5 10 10").attr("refX",9).attr("refY",-.5).attr("markerWidth",9).attr("markerHeight",9).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5").style("fill",function(t){return d(t.edb)}),c.created?c.svg.selectAll(".line").data(A).attr("x1",function(t){return x(t.x)}).attr("y1",function(t){return y(t.y)}).attr("x2",function(t){return x(t.x1)}).attr("y2",function(t){return y(t.y1)}).attr("stroke-width",2).attr("class",function(t){return""+t.edb.replace(/ /g,"")}).attr("stroke",function(t){return d(t.edb)}).attr("marker-end",function(t){if(t.end)return"url(#end"+t.edb.replace(/ /g,"")+")"}):c.svg.selectAll(".line").data(A).enter().append("line").attr("x1",function(t){return c.x(t.x)}).attr("y1",function(t){return c.y(t.y)}).attr("x2",function(t){return c.x(t.x1)}).attr("y2",function(t){return c.y(t.y1)}).attr("stroke-width",2).attr("class",function(t){return""+t.edb.replace(/ /g,"")}).attr("stroke",function(t){return d(t.edb)}).attr("marker-end",function(t){if(t.end)return"url(#end"+t.edb.replace(/ /g,"")+")"});var B="",E="";if(l.includes("abcd")?(B="C / D",E="A / B"):l.includes("ab")?(B="B",E="A"):l.includes("cd")&&(B="D",E="C"),c.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+-(r.left/2)+","+ +a/2+")rotate(-90)").attr("class","unit-text").text(E+"     ("+o+")"),c.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+n/2+","+ +(a+r.bottom/4)+")").attr("class","unit-text").text(B+"     ("+i+")"),!c.created){var F=c.svg.append("g").attr("class","vector-key-text").attr("text-anchor","end").selectAll("g").data(u).enter().append("g").append("svg:a").attr("transform",function(t,e){var n=20*Math.floor(e/5),s=160*(e-5*Math.floor(e/5));return s+=r.left,"translate("+s+","+(n+a+r.bottom/3)+")"}).on("mouseover",function(t){c.svg.selectAll("line."+t.replace(/ /g,"")).classed("line-selected",!0)}).on("mouseout",function(t){c.svg.selectAll("line."+t.replace(/ /g,"")).classed("line-selected",!1)});F.append("circle").attr("cx",r.left+55).attr("cy",9.5).attr("r",7.5).attr("fill",d),F.append("text").attr("x",r.left+40).attr("y",9.5).attr("dy","0.32em").attr("class","g-text").style("font-size","14px").text(function(t){return t})}c.created=!0}var r={top:30,right:20,bottom:180,left:70},n=1e3-r.left-r.right,a=800-r.top-r.bottom,s=[];return{createVectorGraph:e}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhci5qcyIsImJhckdyb3VwLmpzIiwiYm94LmpzIiwiYm94UGxvdC5qcyIsImQzLXRpcC5qcyIsIkRhdGFiYXNlLmpzIiwiRXZlbnRzLmpzIiwidmVjdG9yR3JhcGguanMiXSwibmFtZXMiOlsiU2luZ2xlQmFyTW9kdWxlIiwic2hvd0JhcldpdGhSb3dFbGVtIiwicm93SUQiLCJlZGIiLCJkaXYiLCJoZWFkUm93IiwidGFibGVJRCIsInVuaXQiLCJkYXRhIiwiJCIsImZpbmQiLCJlYWNoIiwiaW5kZXgiLCJlbGVtZW50IiwicHVzaCIsImNhdGVnb3J5IiwidGV4dCIsInZhbHVlIiwidGl0bGUiLCJtYXgiLCJJbmZpbml0eSIsInZhbCIsInRoaXMiLCJhdHRyIiwibWluIiwiY3JlYXRlQmFyR3JhcGgiLCJCYXJHcmFwaCIsImlkIiwieCIsImQzIiwic2NhbGVCYW5kIiwicmFuZ2UiLCJiYXJXaWR0aCIsInBhZGRpbmciLCJ5Iiwic2NhbGVMaW5lYXIiLCJiYXJIZWlnaHQiLCJuaWNlIiwieUF4aXMiLCJheGlzTGVmdCIsInhBeGlzIiwiYXhpc0JvdHRvbSIsImNyZWF0ZWQiLCJzdmciLCJkaXZJRCIsInRhYmxlTWF4IiwidGFibGVNaW4iLCJ5TGFiZWwiLCJiYXJHcmFwaCIsInNpbmdsZWJhckdyYXBocyIsImZvckVhY2giLCJiYXJFbGVtIiwiY3JlYXRlTmV3R3JhcGgiLCJ1cGRhdGVHcmFwaCIsIm1peGVkIiwic2VsZWN0IiwiYXBwZW5kIiwiYmFyTWFyZ2luIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiZG9tYWluIiwibWFwIiwiZCIsInNjYWxlIiwic2VsZWN0QWxsIiwiZW50ZXIiLCJiYW5kd2lkdGgiLCJNYXRoIiwiYWJzIiwicmVkIiwiY2FsbCIsInN0eWxlIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiR3JvdXBlZEJhck1vZHVsZSIsIkdyb3VwZWRCYXJEYXRhIiwieDAiLCJ4MSIsImciLCJtYXJnaW4iLCJ3aWR0aCIsImhlaWdodCIsImJhckdyYXBocyIsInoiLCJzY2FsZU9yZGluYWwiLCJ6UmVkIiwielNlbGVjdGVkIiwiaGlnaGxpZ2h0IiwiYWxyZWFkeVNlbGVjdGVkIiwiZGF0dW0iLCJrZXkiLCJjbGFzc2VkIiwicmVwbGFjZSIsImNyZWF0ZWRHcm91cGVkQmFyR3JhcGgiLCJrZXlzIiwiaSIsImxlbmd0aCIsInVwZGF0ZUV4aXN0aW5nR3JhcGgiLCJjcmVhdGVOZXdHcm91cGVkQmFyR3JhcGgiLCJjdXJCYXJHcmFwaCIsInJhbmdlUm91bmQiLCJwYWRkaW5nSW5uZXIiLCJkcEZvcm1hdCIsImZvcm1hdCIsInRpcCIsIm9mZnNldCIsImh0bWwiLCJuZWciLCJvbiIsInNob3ciLCJoaWRlIiwidGlja3MiLCJwb3AiLCJsZWdlbmQiLCJzbGljZSIsInJldmVyc2UiLCJyZW1vdmUiLCJ3aGlza0JveFdpZHRoIiwiYm94V2hpc2tlcnMiLCJib3hRdWFydGlsZXMiLCJxdWFudGlsZSIsImJveCIsInNvcnQiLCJhc2NlbmRpbmciLCJuIiwicXVhcnRpbGVEYXRhIiwicXVhcnRpbGVzIiwid2hpc2tlckluZGljZXMiLCJ3aGlza2VycyIsIndoaXNrZXJEYXRhIiwib3V0bGllckluZGljZXMiLCJjb25jYXQiLCJfX2NoYXJ0X18iLCJjZW50ZXIiLCJpbnNlcnQiLCJleGl0IiwibWVkaWFuTGluZSIsIndoaXNrZXIiLCJvdXRsaWVyIiwiTnVtYmVyIiwidGlja0Zvcm1hdCIsImJveFRpY2siLCJzaG93TGFiZWxzIiwid2hpc2tlclRpY2siLCJ0aW1lckZsdXNoIiwiYXJndW1lbnRzIiwiZnVuY3RvciIsInYiLCJCb3hQbG90TW9kdWxlIiwiQm94UGxvdERhdGEiLCJjaGFydCIsImNyZWF0ZUJveFBsb3QiLCJkYXRhT2JqZWN0IiwiYm94UGxvdE9iamVjdHMiLCJzY2F0dGVyRGF0YSIsInBsb3RzIiwicGxvdCIsImJveFdpZHRoIiwiYm94SGVpZ2h0IiwiYm94TWFyZ2luIiwiaXFyIiwibGFiZWxzIiwieWVhciIsImsiLCJxMSIsInEzIiwiaiIsInZpcyIsImdldFNWR05vZGUiLCJwb2ludCIsImNyZWF0ZVNWR1BvaW50IiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJub2RlIiwiZDNfdGlwX2RpcmVjdGlvbiIsImQzX3RpcF9vZmZzZXQiLCJkM190aXBfaHRtbCIsImRpcmVjdGlvbl9uIiwiYmJveCIsImdldFNjcmVlbkJCb3giLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRXaWR0aCIsImRpcmVjdGlvbl9zIiwicyIsImRpcmVjdGlvbl9lIiwiZSIsImRpcmVjdGlvbl93IiwidyIsImRpcmVjdGlvbl9udyIsIm53IiwiZGlyZWN0aW9uX25lIiwibmUiLCJkaXJlY3Rpb25fc3ciLCJzdyIsImRpcmVjdGlvbl9zZSIsInNlIiwiaW5pdE5vZGUiLCJjcmVhdGVFbGVtZW50IiwiZWwiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJvd25lclNWR0VsZW1lbnQiLCJnZXROb2RlRWwiLCJ0YXJnZXRlbCIsInRhcmdldCIsImV2ZW50IiwiZ2V0U2NyZWVuQ1RNIiwicGFyZW50Tm9kZSIsIm1hdHJpeCIsInRiYm94IiwiZ2V0QkJveCIsIm1hdHJpeFRyYW5zZm9ybSIsImRpcmVjdGlvbiIsImFyZ3MiLCJBcnJheSIsInByb3RvdHlwZSIsIlNWR0VsZW1lbnQiLCJjb29yZHMiLCJjb250ZW50IiwiYXBwbHkiLCJwb2Zmc2V0IiwiZGlyIiwibm9kZWwiLCJkaXJlY3Rpb25zIiwic2Nyb2xsVG9wIiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsTGVmdCIsImRpcmVjdGlvbl9jYWxsYmFja3MiLCJzZWxlY3Rpb24iLCJzdHlsZXMiLCJPYmplY3QiLCJkZXN0cm95IiwiRGF0YWJhc2UiLCJnZXRTZWN0aW9uc0Zyb21EYXRhYmFzZSIsImNhbGxiYWNrIiwiZ2V0Iiwic2VjdGlvbnMiLCJnZXRDYXRlZ29yaWVzRnJvbURhdGFiYXNlIiwic2VjdGlvbiIsInBvc3QiLCJzZWxlY3RlZCIsImNhdGVnb3JpZXMiLCJnZXRTdWJDYXRlZ29yaWVzRnJvbURhdGFiYXNlIiwic3ViQ2F0ZWdvcmllcyIsImdldERlc2NyaXB0aW9uc0Zyb21EYXRhYmFzZSIsInN1YkNhdGVnb3J5IiwiZGVzY3JpcHRpb25zIiwiZ2V0Um93c0ZvclNlYXJjaCIsInNlbGVjdGlvbnMiLCJjb21wYW55IiwiSlNPTiIsInN0cmluZ2lmeSIsInJvd3MiLCJldmVudHMiLCJldmVudE5hbWUiLCJmbiIsIm9mZiIsInNwbGljZSIsImVtaXQiLCJWZWN0b3JNb2R1bGUiLCJWZWN0b3JHcmFwaERhdGEiLCJ2V2lkdGgiLCJ2SGVpZ2h0IiwiY3JlYXRlVmVjdG9yR3JhcGgiLCJ4TGFiZWwiLCJ2ZWN0b3JHcmFwaCIsInZlY3RvckdyYXBocyIsImVsZW0iLCJlZGJzIiwiY29sb3IiLCJhbGxWYWx1ZXMiLCJ5ZWFycyIsImUxIiwieFZhbHVlcyIsInZhbHVlQiIsInlWYWx1ZXMiLCJ2YWx1ZUEiLCJ2TWFyZ2luIiwibWF4WCIsIm1heFkiLCJsaW5lcyIsImVuZCIsInkxIiwieE1ldHJpY0xhYmVsIiwieU1ldHJpY0xhYmVsIiwiaW5jbHVkZXMiLCJmbG9vciJdLCJtYXBwaW5ncyI6IkFBSUEsR0FBQUEsaUJBQUEsV0FRQSxRQUFBQyxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEtBRUFDLEdBQUFKLEdBQUFLLEtBQUEsTUFBQUMsS0FBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFELEdBQ0FKLEVBQUFNLE1BQUFDLFNBQUFOLEVBQUFJLEdBQUFHLE9BQUFDLE1BQUEsTUFLQVIsRUFBQSxJQUFBUCxHQUFBUSxLQUFBLE1BQUFDLEtBQUEsU0FBQUMsRUFBQUMsR0FDQSxHQUFBRCxFQUNBSixFQUFBSSxFQUFBLEdBQUFLLE1BQUFSLEVBQUFJLEdBQUFHLE9BRUFFLE1BQUFWLEVBQUFJLEdBQUFLLE1BQUFSLEVBQUFJLEdBQUFHLFFBSUEsSUFBQUcsS0FBQUMsRUFBQUEsRUFDQVgsR0FBQSxRQUFBSCxHQUFBSyxLQUFBLFdBQ0EsR0FBQVUsSUFBQVosRUFBQWEsTUFBQUMsS0FBQSxZQUNBSixHQUFBRSxFQUFBRixFQUFBRSxFQUFBRixHQUdBLElBQUFLLEdBQUFKLEVBQUFBLENBQ0FYLEdBQUEsUUFBQUgsR0FBQUssS0FBQSxXQUNBLEdBQUFVLElBQUFaLEVBQUFhLE1BQUFDLEtBQUEsWUFDQUMsR0FBQUgsRUFBQUcsRUFBQUgsRUFBQUcsSUFFQUMsRUFBQXJCLEVBQUFlLEVBQUFLLEVBQUFoQixFQUFBTCxFQUFBSSxHQVlBLFFBQUFtQixHQUFBQyxHQUNBTCxLQUFBSyxHQUFBQSxFQUNBTCxLQUFBTSxFQUFBQyxHQUFBQyxZQUFBQyxPQUFBLEVBQUFDLElBQUFDLFFBQUEsSUFDQVgsS0FBQVksRUFBQUwsR0FBQU0sY0FBQUosT0FBQUssRUFBQSxJQUFBQyxPQUNBZixLQUFBZ0IsTUFBQVQsR0FBQVUsV0FDQWpCLEtBQUFrQixNQUFBWCxHQUFBWSxhQUNBbkIsS0FBQW9CLFNBQUEsRUFDQXBCLEtBQUFxQixJQUFBLEtBTUEsUUFBQWxCLEdBQUFtQixFQUFBQyxFQUFBQyxFQUFBdEMsRUFBQUwsRUFBQTRDLEdBQ0EsR0FBQUMsR0FBQSxJQUNBQyxHQUFBQyxRQUFBLFNBQUFDLEdBQ0FBLEVBQUF4QixLQUFBaUIsSUFDQUksRUFBQUcsS0FJQSxPQUFBSCxFQUNBSSxFQUFBUixFQUFBQyxFQUFBQyxFQUFBdEMsRUFBQUwsRUFBQTRDLEdBRUFNLEVBQUFMLEVBQUFILEVBQUFDLEVBQUF0QyxFQUFBTCxHQUlBLFFBQUFpRCxHQUFBUixFQUFBQyxFQUFBQyxFQUFBdEMsRUFBQUwsRUFBQTRDLEdBQ0EsR0FBQUMsR0FBQSxHQUFBdEIsR0FBQWtCLEVBQ0FLLEdBQUFuQyxLQUFBa0MsRUFFQSxJQUFBTSxHQUFBUixFQUFBLEdBQUFELEVBQUEsRUFDQTFCLEVBQUEsR0FDQW1DLEdBQUFSLEVBQUEsRUFDQTNCLEVBQUEyQixFQUNBUSxJQUNBbkMsRUFBQTBCLEdBR0FTLElBQ0FuQyxFQUFBMEIsR0FHQUcsRUFBQUwsSUFBQWQsR0FBQTBCLE9BQUFYLEdBQUFZLE9BQUEsT0FDQWpDLEtBQUEsUUFBQVMsRUFBQXlCLEVBQUFDLEtBQUFELEVBQUFFLE9BQ0FwQyxLQUFBLFNBQUFhLEVBQUFxQixFQUFBRyxJQUFBSCxFQUFBSSxRQUNBTCxPQUFBLEtBQ0FqQyxLQUFBLFlBQ0EsYUFBQWtDLEVBQUFDLEtBQUEsSUFBQUQsRUFBQUcsSUFBQSxLQUdBWixFQUFBcEIsRUFBQWtDLE9BQUF0RCxFQUFBdUQsSUFBQSxTQUFBQyxHQUFBLE1BQUFBLEdBQUFqRCxZQUNBaUMsRUFBQWQsRUFBQTRCLFFBQUEsRUFBQTNDLElBQ0E2QixFQUFBZCxFQUFBRyxPQUNBVyxFQUFBVixNQUFBMkIsTUFBQWpCLEVBQUFkLEdBR0FjLEVBQUFMLElBQUF1QixVQUFBLFFBQ0ExRCxLQUFBQSxHQUNBMkQsUUFDQVgsT0FBQSxRQUNBakMsS0FBQSxRQUFBLGtCQUNBQSxLQUFBLElBQUEsU0FBQXlDLEdBQUEsTUFBQWhCLEdBQUFwQixFQUFBb0MsRUFBQWpELFlBQ0FRLEtBQUEsUUFBQXlCLEVBQUFwQixFQUFBd0MsYUFDQTdDLEtBQUEsSUFBQSxTQUFBeUMsR0FBQSxNQUFBaEIsR0FBQWQsRUFBQW9CLEVBQUFlLEtBQUFDLElBQUFOLEVBQUEvQyxPQUFBK0MsRUFBQS9DLFNBQ0FNLEtBQUEsU0FBQSxTQUFBeUMsR0FBQSxNQUFBNUIsR0FBQVksRUFBQWQsRUFBQW9CLEVBQUFlLEtBQUFDLElBQUFOLEVBQUEvQyxPQUFBK0MsRUFBQS9DLFNBQ0FNLEtBQUEsT0FBQSxTQUFBeUMsR0FBQSxNQUFBVixHQUFBVSxFQUFBL0MsTUFBQSxFQUFBLGFBQUFzRCxFQUFBLGVBR0F2QixFQUFBTCxJQUFBYSxPQUFBLEtBQ0FqQyxLQUFBLFlBQUEsZUFBQWEsRUFBQSxLQUNBb0MsS0FBQXhCLEVBQUFSLE1BQUF5QixNQUFBakIsRUFBQXBCLElBR0FvQixFQUFBTCxJQUFBYSxPQUFBLEtBQUFqQyxLQUFBLFFBQUEsU0FBQWlELEtBQUF4QixFQUFBVixPQUNBVSxFQUFBTixTQUFBLEVBSUFNLEVBQUFMLElBQUFhLE9BQUEsUUFDQWpDLEtBQUEsSUFBQVMsRUFBQSxHQUNBVCxLQUFBLElBQUEsRUFBQWtDLEVBQUFHLElBQUEsR0FDQXJDLEtBQUEsS0FBQSxhQUNBQSxLQUFBLGNBQUEsVUFDQWtELE1BQUEsWUFBQSxRQUNBekQsS0FBQWIsR0FFQTZDLEVBQUFMLElBQUFhLE9BQUEsUUFDQWpDLEtBQUEsY0FBQSxVQUNBQSxLQUFBLFlBQUEsZUFBQWtDLEVBQUFDLEtBQUEsRUFBQSxJQUFBLElBQUF0QixFQUFBLEVBQUEsZ0JBQ0FiLEtBQUEsUUFBQSxvQkFDQVAsS0FBQStCLEdBR0FDLEVBQUFMLElBQUFhLE9BQUEsUUFDQWpDLEtBQUEsY0FBQSxVQUNBQSxLQUFBLFlBQUEsZ0JBQUFTLEVBQUEsR0FBQSxLQUFBeUIsRUFBQUcsSUFBQXhCLEVBQUFxQixFQUFBSSxPQUFBLElBQUEsS0FDQXRDLEtBQUEsUUFBQSxvQkFDQVAsS0FBQSxRQUlBLFFBQUFxQyxHQUFBTCxFQUFBSCxFQUFBQyxFQUFBdEMsRUFBQUwsR0FDQSxHQUFBbUQsR0FBQVIsRUFBQSxHQUFBRCxFQUFBLENBRUFHLEdBQUFMLElBQUF1QixVQUFBLFFBQ0ExRCxLQUFBQSxHQUNBa0UsYUFDQUMsU0FBQSxLQUNBcEQsS0FBQSxJQUFBLFNBQUF5QyxHQUFBLE1BQUFoQixHQUFBZCxFQUFBb0IsRUFBQWUsS0FBQUMsSUFBQU4sRUFBQS9DLE9BQUErQyxFQUFBL0MsU0FDQU0sS0FBQSxTQUFBLFNBQUF5QyxHQUFBLE1BQUE1QixHQUFBWSxFQUFBZCxFQUFBb0IsRUFBQWUsS0FBQUMsSUFBQU4sRUFBQS9DLE9BQUErQyxFQUFBL0MsU0FDQU0sS0FBQSxPQUFBLFNBQUF5QyxHQUFBLE1BQUFWLEdBQUFVLEVBQUEvQyxNQUFBLEVBQUEsYUFBQXNELEVBQUEsZUFHQXZCLEVBQUFMLElBQUFZLE9BQUEsY0FBQXZDLEtBQUFiLEdBMUhBLEdBQUFzRCxJQUFBRyxJQUFBLEdBQUFELE1BQUEsR0FBQUUsT0FBQSxHQUFBSCxLQUFBLElBQ0ExQixFQUFBLElBQUF5QixFQUFBQyxLQUFBRCxFQUFBRSxNQUNBdkIsRUFBQSxJQUFBcUIsRUFBQUcsSUFBQUgsRUFBQUksT0FHQVosS0FZQXNCLEVBQUEsU0E0R0EsUUFDQXRFLG1CQUFBQSxFQUNBd0IsZUFBQUEsTUM3S0FtRCxpQkFBQSxXQVdBLFFBQUFDLEdBQUFDLEVBQUFDLEVBQUE3QyxFQUFBSSxFQUFBSyxFQUFBaEIsR0FDQUwsS0FBQXdELEdBQUFBLEVBQ0F4RCxLQUFBeUQsR0FBQUEsRUFDQXpELEtBQUFZLEVBQUFBLEVBQ0FaLEtBQUFnQixNQUFBQSxFQUNBaEIsS0FBQXFCLElBQUFBLEVBQ0FyQixLQUFBSyxHQUFBQSxFQUNBTCxLQUFBb0IsU0FBQSxFQUNBcEIsS0FBQTBELEVBQUEsS0FoQkEsR0FBQUMsSUFBQXJCLElBQUEsR0FBQUQsTUFBQSxHQUFBRSxPQUFBLElBQUFILEtBQUEsSUFDQXdCLEVBQUEsS0FBQUQsRUFBQXZCLEtBQUF1QixFQUFBdEIsTUFDQXdCLEVBQUEsSUFBQUYsRUFBQXJCLElBQUFxQixFQUFBcEIsT0FHQXVCLEtBZUFDLEVBQUF4RCxHQUFBeUQsZUFBQXZELE9BQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFHQXdELEVBQUExRCxHQUFBeUQsZUFBQXZELE9BQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFHQXlELEVBQUEzRCxHQUFBeUQsZUFBQXZELE9BQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFHQTBELEVBQUEsU0FBQXRGLEVBQUF1RixHQUVBN0QsR0FBQXFDLFVBQUEsaUJBQUF5QixNQUFBLFNBQUEzQixHQUFBLE1BQUFBLEtBQ0F6QyxLQUFBLE9BQUEsU0FBQXlDLEdBQUEsTUFBQXFCLEdBQUFyQixFQUFBNEIsT0FHQS9ELEdBQUFxQyxVQUFBLGlCQUFBMkIsUUFBQSxnQkFBQSxHQUVBSCxHQUVBN0QsR0FBQXFDLFVBQUEsUUFBQS9ELEVBQUEyRixRQUFBLEtBQUEsS0FDQUQsUUFBQSxnQkFBQSxHQUNBRixNQUFBLFNBQUEzQixHQUFBLE1BQUFBLEtBQ0F6QyxLQUFBLE9BQUEsU0FBQXlDLEdBQUEsTUFBQXdCLEdBQUF4QixFQUFBNEIsUUFLQUcsRUFBQSxTQUFBdkYsRUFBQXdGLEVBQUFqRCxFQUFBSCxHQUNBLElBQUEsR0FBQXFELEdBQUEsRUFBQUEsRUFBQWIsRUFBQWMsT0FBQUQsSUFDQSxHQUFBYixFQUFBYSxHQUFBdEUsS0FBQWlCLEVBRUEsV0FEQXVELEdBQUEzRixFQUFBd0YsRUFBQVosRUFBQWEsR0FBQWxELEVBSUFxRCxHQUFBNUYsRUFBQXdGLEVBQUFqRCxFQUFBSCxJQUtBd0QsRUFBQSxTQUFBNUYsRUFBQXdGLEVBQUFqRCxFQUFBSCxHQUdBLEdBQUF5RCxHQUFBLEdBQUF4QixHQUNBaEQsR0FBQUMsWUFBQXdFLFlBQUEsRUFBQXBCLElBQUFxQixhQUFBLEtBQ0ExRSxHQUFBQyxZQUFBRyxRQUFBLEtBQ0FKLEdBQUFNLGNBQUFtRSxZQUFBbkIsRUFBQSxJQUNBdEQsR0FBQVUsV0FDQVYsR0FBQVksYUFDQUcsRUFFQXdDLEdBQUF0RSxLQUFBdUYsR0FFQUEsRUFBQTFELElBQUFkLEdBQUEwQixPQUFBWCxHQUFBWSxPQUFBLE9BQ0FqQyxLQUFBLFFBQUEyRCxFQUFBRCxFQUFBdkIsS0FBQXVCLEVBQUF0QixPQUNBcEMsS0FBQSxTQUFBNEQsRUFBQUYsRUFBQXJCLElBQUFxQixFQUFBcEIsUUFDQUwsT0FBQSxLQUNBakMsS0FBQSxZQUFBLGFBQUEwRCxFQUFBdkIsS0FBQSxJQUFBdUIsRUFBQXJCLElBQUEsS0FFQXlDLEVBQUF2QixHQUFBaEIsT0FBQXRELEVBQUF1RCxJQUFBLFNBQUFDLEdBQUEsTUFBQUEsR0FBQTdELE9BQ0FrRyxFQUFBdEIsR0FBQWpCLE9BQUFrQyxHQUFBTSxZQUFBLEVBQUFELEVBQUF2QixHQUFBVixjQUNBaUMsRUFBQW5FLEVBQUE0QixRQUFBLEVBQUFqQyxHQUFBVixJQUFBWCxFQUFBLFNBQUF3RCxHQUFBLE1BQUFuQyxJQUFBVixJQUFBNkUsRUFBQSxTQUFBSixHQUFBLE1BQUF2QixNQUFBQyxJQUFBTixFQUFBNEIsVUFBQXZELE1BSUEsSUFBQW1FLEdBQUEzRSxHQUFBNEUsT0FBQSxPQUdBQyxFQUFBN0UsR0FBQTZFLE1BQ0FuRixLQUFBLFFBQUEsVUFDQW9GLFNBQUEsR0FBQSxJQUNBQyxLQUFBLFNBQUE1QyxHQUNBLE1BQUEsMERBQUF3QyxFQUFBeEMsRUFBQS9DLE9BQUEsd0VBQUErQyxFQUFBNEIsSUFBQSxXQUdBUyxHQUFBMUQsSUFBQTZCLEtBQUFrQyxHQUVBTCxFQUFBMUQsSUFBQWEsT0FBQSxLQUNBVSxVQUFBLEtBQ0ExRCxLQUFBQSxHQUNBMkQsUUFBQVgsT0FBQSxLQUNBakMsS0FBQSxZQUFBLFNBQUF5QyxHQUFBLE1BQUEsYUFBQXFDLEVBQUF2QixHQUFBZCxFQUFBN0QsS0FBQSxRQUNBK0QsVUFBQSxRQUNBMUQsS0FBQSxTQUFBd0QsR0FBQSxNQUFBZ0MsR0FBQWpDLElBQUEsU0FBQTZCLEdBQUEsT0FBQWlCLElBQUE3QyxFQUFBNEIsR0FBQSxFQUFBQSxJQUFBQSxFQUFBekYsSUFBQTZELEVBQUE3RCxJQUFBYyxNQUFBb0QsS0FBQUMsSUFBQU4sRUFBQTRCLFNBQ0F6QixRQUFBWCxPQUFBLFFBQ0FqQyxLQUFBLElBQUEsU0FBQXlDLEdBQUEsTUFBQXFDLEdBQUF0QixHQUFBZixFQUFBNEIsT0FDQXJFLEtBQUEsSUFBQSxTQUFBeUMsR0FBQSxNQUFBcUMsR0FBQW5FLEVBQUE4QixFQUFBL0MsU0FDQU0sS0FBQSxRQUFBOEUsRUFBQXRCLEdBQUFYLGFBQ0E3QyxLQUFBLFNBQUEsU0FBQXlDLEdBQUEsTUFBQW1CLEdBQUFrQixFQUFBbkUsRUFBQThCLEVBQUEvQyxTQUNBTSxLQUFBLE9BQUEsU0FBQXlDLEdBQUEsTUFBQUEsR0FBQTZDLElBQ0F0QixFQUFBdkIsRUFBQTRCLEtBRUFQLEVBQUFyQixFQUFBNEIsT0FFQXJFLEtBQUEsUUFBQSxTQUFBeUMsR0FBQSxNQUFBLElBQUFBLEVBQUE3RCxJQUFBMkYsUUFBQSxLQUFBLE1BQ0FnQixHQUFBLFlBQUFKLEVBQUFLLE1BQ0FELEdBQUEsV0FBQUosRUFBQU0sTUFHQVgsRUFBQTFELElBQUFhLE9BQUEsS0FDQWpDLEtBQUEsUUFBQSxjQUNBQSxLQUFBLFlBQUEsZUFBQTRELEVBQUEsS0FDQVgsS0FBQTNDLEdBQUFZLFdBQUE0RCxFQUFBdkIsS0FDQVosVUFBQSxRQUNBM0MsS0FBQSxJQUFBLEdBQ0FBLEtBQUEsSUFBQSxHQUNBQSxLQUFBLEtBQUEsU0FDQUEsS0FBQSxRQUFBLG9CQUNBQSxLQUFBLFlBQUEsY0FDQWtELE1BQUEsY0FBQSxTQUVBNEIsRUFBQTFELElBQUFhLE9BQUEsS0FDQWpDLEtBQUEsUUFBQSxjQUNBaUQsS0FBQTZCLEVBQUEvRCxNQUFBMkIsTUFBQW9DLEVBQUFuRSxJQUNBc0IsT0FBQSxRQUNBakMsS0FBQSxJQUFBLEdBQ0FBLEtBQUEsSUFBQThFLEVBQUFuRSxFQUFBbUUsRUFBQW5FLEVBQUErRSxRQUFBQyxPQUFBLElBQ0EzRixLQUFBLEtBQUEsVUFDQUEsS0FBQSxRQUFBLG9CQUNBQSxLQUFBLGNBQUEsU0FHQThFLEVBQUExRCxJQUFBYSxPQUFBLFFBQ0FqQyxLQUFBLGNBQUEsVUFDQUEsS0FBQSxZQUFBLGVBQUEwRCxFQUFBdkIsS0FBQSxHQUFBLElBQUF5QixFQUFBLEVBQUEsZ0JBQ0E1RCxLQUFBLFFBQUEsb0JBQ0FQLEtBQUErQixFQUdBLElBQUFvRSxHQUFBZCxFQUFBMUQsSUFBQWEsT0FBQSxLQUNBakMsS0FBQSxjQUFBLGNBQ0FBLEtBQUEsWUFBQSxHQUNBQSxLQUFBLGNBQUEsT0FDQTJDLFVBQUEsS0FDQTFELEtBQUF3RixFQUFBb0IsUUFBQUMsV0FDQWxELFFBQUFYLE9BQUEsS0FDQWpDLEtBQUEsWUFBQSxTQUFBeUMsRUFBQWlDLEdBQUEsTUFBQSxlQUFBLEdBQUFBLEVBQUEsS0FFQWtCLEdBQUEzRCxPQUFBLFFBQ0FqQyxLQUFBLElBQUEyRCxFQUFBLEtBQ0EzRCxLQUFBLFFBQUEsS0FDQUEsS0FBQSxTQUFBLEtBQ0FBLEtBQUEsT0FBQThELEdBRUE4QixFQUFBM0QsT0FBQSxRQUNBakMsS0FBQSxJQUFBMkQsRUFBQSxLQUNBM0QsS0FBQSxJQUFBLEdBQ0FBLEtBQUEsS0FBQSxVQUNBQSxLQUFBLFFBQUEsVUFDQWtELE1BQUEsWUFBQSxPQUNBekQsS0FBQSxTQUFBZ0QsR0FBQSxNQUFBQSxLQUVBcUMsRUFBQTNELFNBQUEsR0FHQXlELEVBQUEsU0FBQTNGLEVBQUF3RixFQUFBSyxFQUFBdEQsR0FFQXNELEVBQUFuRSxFQUFBNEIsUUFBQSxFQUFBakMsR0FBQVYsSUFBQVgsRUFBQSxTQUFBd0QsR0FBQSxNQUFBbkMsSUFBQVYsSUFBQTZFLEVBQUEsU0FBQUosR0FBQSxNQUFBdkIsTUFBQUMsSUFBQU4sRUFBQTRCLFVBQUF2RCxPQUVBZ0UsRUFBQS9ELE1BQUEyQixNQUFBb0MsRUFBQW5FLEdBR0FtRSxFQUFBMUQsSUFBQVksT0FBQSxVQUFBK0QsU0FDQWpCLEVBQUExRCxJQUFBYSxPQUFBLEtBQ0FqQyxLQUFBLFFBQUEsY0FDQWlELEtBQUE2QixFQUFBL0QsTUFLQSxJQUFBa0UsR0FBQTNFLEdBQUE0RSxPQUFBLE9BR0FDLEVBQUE3RSxHQUFBNkUsTUFDQW5GLEtBQUEsUUFBQSxVQUNBb0YsU0FBQSxHQUFBLElBQ0FDLEtBQUEsU0FBQTVDLEdBQ0EsTUFBQSwwREFBQXdDLEVBQUF4QyxFQUFBL0MsT0FBQSx3RUFBQStDLEVBQUE0QixJQUFBLFdBR0FTLEdBQUExRCxJQUFBNkIsS0FBQWtDLEVBRUFMLEdBQUExRCxJQUFBdUIsVUFBQSxRQUFBb0QsUUFHQWpCLEdBQUExRCxJQUFBYSxPQUFBLEtBQ0FVLFVBQUEsS0FDQTFELEtBQUFBLEdBQ0EyRCxRQUFBWCxPQUFBLEtBQ0FqQyxLQUFBLFlBQUEsU0FBQXlDLEdBQUEsTUFBQSxhQUFBcUMsRUFBQXZCLEdBQUFkLEVBQUE3RCxLQUFBLFFBQ0ErRCxVQUFBLFFBQ0ExRCxLQUFBLFNBQUF3RCxHQUFBLE1BQUFnQyxHQUFBakMsSUFBQSxTQUFBNkIsR0FBQSxPQUFBaUIsSUFBQTdDLEVBQUE0QixHQUFBLEVBQUFBLElBQUFBLEVBQUF6RixJQUFBNkQsRUFBQTdELElBQUFjLE1BQUFvRCxLQUFBQyxJQUFBTixFQUFBNEIsU0FDQXpCLFFBQUFYLE9BQUEsUUFDQWpDLEtBQUEsSUFBQSxTQUFBeUMsR0FBQSxNQUFBcUMsR0FBQXRCLEdBQUFmLEVBQUE0QixPQUNBckUsS0FBQSxJQUFBLFNBQUF5QyxHQUFBLE1BQUFxQyxHQUFBbkUsRUFBQThCLEVBQUEvQyxTQUNBTSxLQUFBLFFBQUEsT0FDQUEsS0FBQSxRQUFBOEUsRUFBQXRCLEdBQUFYLGFBQ0E3QyxLQUFBLFNBQUEsU0FBQXlDLEdBQUEsTUFBQW1CLEdBQUFrQixFQUFBbkUsRUFBQThCLEVBQUEvQyxTQUNBTSxLQUFBLE9BQUEsU0FBQXlDLEdBQUEsTUFBQUEsR0FBQTZDLElBQ0F0QixFQUFBdkIsRUFBQTRCLEtBRUFQLEVBQUFyQixFQUFBNEIsT0FFQXJFLEtBQUEsUUFBQSxTQUFBeUMsR0FBQSxNQUFBLEdBQUFBLEVBQUE3RCxJQUFBMkYsUUFBQSxLQUFBLE1BQ0FnQixHQUFBLFlBQUFKLEVBQUFLLE1BQ0FELEdBQUEsV0FBQUosRUFBQU0sS0FHQSxJQUFBRyxHQUFBZCxFQUFBMUQsSUFBQWEsT0FBQSxLQUNBakMsS0FBQSxjQUFBLGNBQ0FBLEtBQUEsWUFBQSxHQUNBQSxLQUFBLGNBQUEsT0FDQTJDLFVBQUEsS0FDQTFELEtBQUF3RixFQUFBb0IsUUFBQUMsV0FDQWxELFFBQUFYLE9BQUEsS0FDQWpDLEtBQUEsWUFBQSxTQUFBeUMsRUFBQWlDLEdBQUEsTUFBQSxlQUFBLEdBQUFBLEVBQUEsS0FFQWtCLEdBQUEzRCxPQUFBLFFBQ0FqQyxLQUFBLElBQUEyRCxFQUFBLEtBQ0EzRCxLQUFBLFFBQUEsS0FDQUEsS0FBQSxTQUFBLEtBQ0FBLEtBQUEsT0FBQThELEdBR0EsUUFDQUksVUFBQUEsRUFDQU0sdUJBQUFBLE1DdlBBd0IsY0FBQSxHQUVBLFdBeVRBLFFBQUFDLEdBQUF4RCxHQUNBLE9BQUEsRUFBQUEsRUFBQWtDLE9BQUEsR0FHQSxRQUFBdUIsR0FBQXpELEdBQ0EsT0FDQW5DLEdBQUE2RixTQUFBMUQsRUFBQSxLQUNBbkMsR0FBQTZGLFNBQUExRCxFQUFBLElBQ0FuQyxHQUFBNkYsU0FBQTFELEVBQUEsTUE5VEFuQyxHQUFBOEYsSUFBQSxXQWNBLFFBQUFBLEdBQUEzQyxHQUNBQSxFQUFBckUsS0FBQSxTQUFBSCxFQUFBeUYsR0FDQSxHQUFBakMsR0FBQXhELEVBQUEsR0FBQW9ILEtBQUEvRixHQUFBZ0csV0FFQTdDLEVBQUFuRCxHQUFBMEIsT0FBQWpDLE1BQ0F3RyxFQUFBOUQsRUFBQWtDLE9BQ0ExRSxFQUFBd0MsRUFBQSxHQUNBN0MsRUFBQTZDLEVBQUE4RCxFQUFBLEdBSUFDLEVBQUEvRCxFQUFBZ0UsVUFBQUEsRUFBQWhFLEdBR0FpRSxFQUFBQyxHQUFBQSxFQUFBMUQsS0FBQWxELEtBQUEwQyxFQUFBaUMsR0FDQWtDLEVBQUFGLEdBQUFBLEVBQUFsRSxJQUFBLFNBQUFrQyxHQUFBLE1BQUFqQyxHQUFBaUMsS0FJQW1DLEVBQUFILEVBQ0FwRyxHQUFBRSxNQUFBLEVBQUFrRyxFQUFBLElBQUFJLE9BQUF4RyxHQUFBRSxNQUFBa0csRUFBQSxHQUFBLEVBQUFILElBQ0FqRyxHQUFBRSxNQUFBK0YsR0FJQS9DLEVBQUFsRCxHQUFBTSxjQUNBMkIsT0FBQUEsR0FBQUEsRUFBQVUsS0FBQWxELEtBQUEwQyxFQUFBaUMsS0FBQXpFLEVBQUFMLElBQ0FZLE9BQUFvRCxFQUFBLElBSUFMLEVBQUF4RCxLQUFBZ0gsV0FBQXpHLEdBQUFNLGNBQ0EyQixRQUFBLEVBQUExQyxFQUFBQSxJQUVBVyxNQUFBZ0QsRUFBQWhELFFBR0FULE1BQUFnSCxVQUFBdkQsQ0FRQSxJQUFBd0QsR0FBQXZELEVBQUFkLFVBQUEsZUFDQTFELEtBQUEySCxHQUFBQSxNQUdBSSxHQUFBcEUsUUFBQXFFLE9BQUEsT0FBQSxRQUNBakgsS0FBQSxRQUFBLFVBQ0FBLEtBQUEsS0FBQWdHLGNBQUEsR0FDQWhHLEtBQUEsS0FBQSxTQUFBeUMsR0FBQSxNQUFBYyxHQUFBZCxFQUFBLE1BQ0F6QyxLQUFBLEtBQUFnRyxjQUFBLEdBQ0FoRyxLQUFBLEtBQUEsU0FBQXlDLEdBQUEsTUFBQWMsR0FBQWQsRUFBQSxNQUNBUyxNQUFBLFVBQUEsTUFDQUMsYUFDQUMsU0FBQUEsR0FDQUYsTUFBQSxVQUFBLEdBQ0FsRCxLQUFBLEtBQUEsU0FBQXlDLEdBQUEsTUFBQWUsR0FBQWYsRUFBQSxNQUNBekMsS0FBQSxLQUFBLFNBQUF5QyxHQUFBLE1BQUFlLEdBQUFmLEVBQUEsTUFFQXVFLEVBQUE3RCxhQUNBQyxTQUFBQSxHQUNBRixNQUFBLFVBQUEsR0FDQWxELEtBQUEsS0FBQSxTQUFBeUMsR0FBQSxNQUFBZSxHQUFBZixFQUFBLE1BQ0F6QyxLQUFBLEtBQUEsU0FBQXlDLEdBQUEsTUFBQWUsR0FBQWYsRUFBQSxNQUVBdUUsRUFBQUUsT0FBQS9ELGFBQ0FDLFNBQUFBLEdBQ0FGLE1BQUEsVUFBQSxNQUNBbEQsS0FBQSxLQUFBLFNBQUF5QyxHQUFBLE1BQUFlLEdBQUFmLEVBQUEsTUFDQXpDLEtBQUEsS0FBQSxTQUFBeUMsR0FBQSxNQUFBZSxHQUFBZixFQUFBLE1BQ0FzRCxRQUdBLElBQUFLLEdBQUEzQyxFQUFBZCxVQUFBLFlBQ0ExRCxNQUFBdUgsR0FFQUosR0FBQXhELFFBQUFYLE9BQUEsUUFDQWpDLEtBQUEsUUFBQSxPQUNBQSxLQUFBLElBQUEsR0FDQUEsS0FBQSxJQUFBLFNBQUF5QyxHQUFBLE1BQUFjLEdBQUFkLEVBQUEsTUFDQXpDLEtBQUEsUUFBQWdHLGVBQ0FoRyxLQUFBLFNBQUEsU0FBQXlDLEdBQUEsTUFBQWMsR0FBQWQsRUFBQSxJQUFBYyxFQUFBZCxFQUFBLE1BQ0FVLGFBQ0FDLFNBQUFBLEdBQ0FwRCxLQUFBLElBQUEsU0FBQXlDLEdBQUEsTUFBQWUsR0FBQWYsRUFBQSxNQUNBekMsS0FBQSxTQUFBLFNBQUF5QyxHQUFBLE1BQUFlLEdBQUFmLEVBQUEsSUFBQWUsRUFBQWYsRUFBQSxNQUVBMkQsRUFBQWpELGFBQ0FDLFNBQUFBLEdBQ0FwRCxLQUFBLElBQUEsU0FBQXlDLEdBQUEsTUFBQWUsR0FBQWYsRUFBQSxNQUNBekMsS0FBQSxTQUFBLFNBQUF5QyxHQUFBLE1BQUFlLEdBQUFmLEVBQUEsSUFBQWUsRUFBQWYsRUFBQSxLQUdBLElBQUEwRSxHQUFBMUQsRUFBQWQsVUFBQSxlQUNBMUQsTUFBQXVILEVBQUEsSUFHQVcsR0FBQXZFLFFBQUFYLE9BQUEsUUFDQWpDLEtBQUEsUUFBQSxVQUNBQSxLQUFBLEtBQUEsR0FDQUEsS0FBQSxLQUFBdUQsR0FDQXZELEtBQUEsS0FBQWdHLGVBQ0FoRyxLQUFBLEtBQUF1RCxHQUNBSixhQUNBQyxTQUFBQSxHQUNBcEQsS0FBQSxLQUFBd0QsR0FDQXhELEtBQUEsS0FBQXdELEdBRUEyRCxFQUFBaEUsYUFDQUMsU0FBQUEsR0FDQXBELEtBQUEsS0FBQXdELEdBQ0F4RCxLQUFBLEtBQUF3RCxFQUdBLElBQUE0RCxHQUFBM0QsRUFBQWQsVUFBQSxnQkFDQTFELEtBQUEySCxNQUdBUSxHQUFBeEUsUUFBQXFFLE9BQUEsT0FBQSxnQkFDQWpILEtBQUEsUUFBQSxXQUNBQSxLQUFBLEtBQUEsR0FDQUEsS0FBQSxLQUFBdUQsR0FDQXZELEtBQUEsS0FBQSxFQUFBZ0csZUFDQWhHLEtBQUEsS0FBQXVELEdBQ0FMLE1BQUEsVUFBQSxNQUNBQyxhQUNBQyxTQUFBQSxHQUNBcEQsS0FBQSxLQUFBd0QsR0FDQXhELEtBQUEsS0FBQXdELEdBQ0FOLE1BQUEsVUFBQSxHQUVBa0UsRUFBQWpFLGFBQ0FDLFNBQUFBLEdBQ0FwRCxLQUFBLEtBQUF3RCxHQUNBeEQsS0FBQSxLQUFBd0QsR0FDQU4sTUFBQSxVQUFBLEdBRUFrRSxFQUFBRixPQUFBL0QsYUFDQUMsU0FBQUEsR0FDQXBELEtBQUEsS0FBQXdELEdBQ0F4RCxLQUFBLEtBQUF3RCxHQUNBTixNQUFBLFVBQUEsTUFDQTZDLFFBR0EsSUFBQXNCLEdBQUE1RCxFQUFBZCxVQUFBLGtCQUNBMUQsS0FBQTRILEVBQUFTLE9BRUFELEdBQUF6RSxRQUFBcUUsT0FBQSxTQUFBLFFBQ0FqSCxLQUFBLFFBQUEsV0FDQUEsS0FBQSxJQUFBLEdBQ0FBLEtBQUEsS0FBQWdHLGNBQUEsR0FDQWhHLEtBQUEsS0FBQSxTQUFBMEUsR0FBQSxNQUFBbkIsR0FBQWQsRUFBQWlDLE1BQ0F4QixNQUFBLFVBQUEsTUFDQUMsYUFDQUMsU0FBQUEsR0FDQXBELEtBQUEsS0FBQSxTQUFBMEUsR0FBQSxNQUFBbEIsR0FBQWYsRUFBQWlDLE1BQ0F4QixNQUFBLFVBQUEsR0FFQW1FLEVBQUFsRSxhQUNBQyxTQUFBQSxHQUNBcEQsS0FBQSxLQUFBLFNBQUEwRSxHQUFBLE1BQUFsQixHQUFBZixFQUFBaUMsTUFDQXhCLE1BQUEsVUFBQSxHQUVBbUUsRUFBQUgsT0FBQS9ELGFBQ0FDLFNBQUFBLEdBQ0FwRCxLQUFBLEtBQUEsU0FBQTBFLEdBQUEsTUFBQWxCLEdBQUFmLEVBQUFpQyxNQUNBeEIsTUFBQSxVQUFBLE1BQ0E2QyxRQUdBLElBQUFiLEdBQUFxQyxHQUFBL0QsRUFBQStELFdBQUEsR0FHQUMsRUFBQS9ELEVBQUFkLFVBQUEsWUFDQTFELEtBQUF1SCxFQUNBLElBQUFpQixHQUNBRCxFQUFBNUUsUUFBQVgsT0FBQSxRQUNBakMsS0FBQSxRQUFBLE9BQ0FBLEtBQUEsS0FBQSxRQUNBQSxLQUFBLEtBQUEsU0FBQXlDLEVBQUFpQyxHQUFBLE1BQUEsR0FBQUEsRUFBQSxHQUFBLElBQ0ExRSxLQUFBLElBQUEsU0FBQXlDLEVBQUFpQyxHQUFBLE1BQUEsR0FBQUEsR0FBQXNCLGNBQUEsSUFDQWhHLEtBQUEsSUFBQXVELEdBQ0F2RCxLQUFBLGNBQUEsU0FBQXlDLEVBQUFpQyxHQUFBLE1BQUEsR0FBQUEsRUFBQSxRQUFBLFFBQ0FqRixLQUFBeUYsR0FDQS9CLGFBQ0FDLFNBQUFBLEdBQ0FwRCxLQUFBLElBQUF3RCxHQUdBZ0UsRUFBQXJFLGFBQ0FDLFNBQUFBLEdBQ0EzRCxLQUFBeUYsR0FDQWxGLEtBQUEsSUFBQXdELEVBS0EsSUFBQWtFLEdBQUFqRSxFQUFBZCxVQUFBLGdCQUNBMUQsS0FBQTJILE1BQ0EsSUFBQWEsR0FDQUMsRUFBQTlFLFFBQUFYLE9BQUEsUUFDQWpDLEtBQUEsUUFBQSxXQUNBQSxLQUFBLEtBQUEsUUFDQUEsS0FBQSxLQUFBLEdBQ0FBLEtBQUEsSUFBQWdHLGVBQ0FoRyxLQUFBLElBQUF1RCxHQUNBOUQsS0FBQXlGLEdBQ0FoQyxNQUFBLFVBQUEsTUFDQUMsYUFDQUMsU0FBQUEsR0FDQXBELEtBQUEsSUFBQXdELEdBQ0FOLE1BQUEsVUFBQSxHQUVBd0UsRUFBQXZFLGFBQ0FDLFNBQUFBLEdBQ0EzRCxLQUFBeUYsR0FDQWxGLEtBQUEsSUFBQXdELEdBQ0FOLE1BQUEsVUFBQSxHQUVBd0UsRUFBQVIsT0FBQS9ELGFBQ0FDLFNBQUFBLEdBQ0FwRCxLQUFBLElBQUF3RCxHQUNBTixNQUFBLFVBQUEsTUFDQTZDLFdBRUF6RixHQUFBcUgsYUFqUEEsR0FBQS9ELEdBQUEsRUFDQVIsRUFBQSxFQUNBYixFQUFBLEtBQ0E3QyxFQUFBNEgsT0FDQVgsRUFBQVYsRUFDQVEsRUFBQVAsRUFDQXVCLEdBQUEsRUFHQUYsRUFBQSxJQXdTQSxPQTdEQW5CLEdBQUF6QyxNQUFBLFNBQUF0RCxHQUNBLE1BQUF1SCxXQUFBakQsUUFDQXFCLGNBQUEzRixFQUNBK0YsR0FGQUosZUFLQUksRUFBQXhDLE9BQUEsU0FBQXZELEdBQ0EsTUFBQXVILFdBQUFqRCxRQUNBZixFQUFBdkQsRUFDQStGLEdBRkF4QyxHQUtBd0MsRUFBQW1CLFdBQUEsU0FBQWxILEdBQ0EsTUFBQXVILFdBQUFqRCxRQUNBNEMsRUFBQWxILEVBQ0ErRixHQUZBbUIsR0FLQW5CLEVBQUFoRCxTQUFBLFNBQUEvQyxHQUNBLE1BQUF1SCxXQUFBakQsUUFDQXZCLEVBQUEvQyxFQUNBK0YsR0FGQWhELEdBS0E5QyxHQUFBdUgsUUFBQSxTQUFBQyxHQUNBLE1BQUEsa0JBQUFBLEdBQUFBLEVBQUEsV0FDQSxNQUFBQSxLQUtBMUIsRUFBQTdELE9BQUEsU0FBQWxDLEdBQ0EsTUFBQXVILFdBQUFqRCxRQUNBcEMsRUFBQSxPQUFBbEMsRUFBQUEsRUFBQUMsR0FBQXVILFFBQUF4SCxHQUNBK0YsR0FGQTdELEdBS0E2RCxFQUFBMUcsTUFBQSxTQUFBVyxHQUNBLE1BQUF1SCxXQUFBakQsUUFDQWpGLEVBQUFXLEVBQ0ErRixHQUZBMUcsR0FLQTBHLEVBQUFPLFNBQUEsU0FBQXRHLEdBQ0EsTUFBQXVILFdBQUFqRCxRQUNBZ0MsRUFBQXRHLEVBQ0ErRixHQUZBTyxHQUtBUCxFQUFBcUIsV0FBQSxTQUFBcEgsR0FDQSxNQUFBdUgsV0FBQWpELFFBQ0E4QyxFQUFBcEgsRUFDQStGLEdBRkFxQixHQUtBckIsRUFBQUssVUFBQSxTQUFBcEcsR0FDQSxNQUFBdUgsV0FBQWpELFFBQ0E4QixFQUFBcEcsRUFDQStGLEdBRkFLLEdBS0FMLEtDelRBLElBQUEyQixlQUFBLFdBYUEsUUFBQUMsR0FBQTNILEVBQUFNLEVBQUFNLEVBQUFGLEVBQUFLLEVBQUE2RyxFQUFBOUcsRUFBQWYsR0FDQUwsS0FBQU0sRUFBQUEsRUFDQU4sS0FBQVksRUFBQUEsRUFDQVosS0FBQWtCLE1BQUFBLEVBQ0FsQixLQUFBZ0IsTUFBQUEsRUFDQWhCLEtBQUFxQixJQUFBQSxFQUNBckIsS0FBQWtJLE1BQUFBLEVBQ0FsSSxLQUFBb0IsUUFBQUEsRUFDQXBCLEtBQUFLLEdBQUFBLEVBS0EsUUFBQThILEdBQUFDLEVBQUE5RyxFQUFBckMsR0FDQSxHQUFBb0osR0FBQSxLQUNBbkosRUFBQWtKLEVBQUFsSixLQUNBZ0IsRUFBQWtJLEVBQUFsSSxJQUNBTCxFQUFBdUksRUFBQXZJLElBQ0F5SSxFQUFBRixFQUFBRSxXQVVBLElBUEFDLEVBQUEzRyxRQUFBLFNBQUE0RyxHQUNBQSxFQUFBbkksS0FBQWlCLElBQ0ErRyxFQUFBRyxLQUtBLE9BQUFILEVBQUEsQ0FDQSxHQUFBL0gsR0FBQUMsR0FBQUMsWUFBQXdFLFlBQUEsRUFBQXlELElBQUE5SCxRQUFBLEdBQUEsR0FDQTBILEdBQUEsR0FBQUosR0FBQTNILEVBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxNQUFBLEVBQUFnQixHQUNBaUgsRUFBQS9JLEtBQUE2SSxPQUVBOUgsSUFBQTBCLE9BQUFYLEVBQUEsUUFBQTBFLFFBSUFxQyxHQUFBekgsRUFBQUwsR0FBQU0sY0FDQTJCLFFBQUF0QyxFQUFBTCxJQUFBa0IsT0FDQU4sT0FBQWlJLEVBQUFDLEVBQUFyRyxJQUFBLEVBQUFxRyxFQUFBckcsTUFFQStGLEVBQUFILE1BQUEzSCxHQUFBOEYsTUFDQU8sU0FBQWdDLEVBQUEsTUFDQS9FLE9BQUE2RSxHQUNBbEcsT0FBQTZGLEVBQUF6SCxFQUFBNEIsVUFDQWtGLFdBQUFtQixHQUdBUixFQUFBaEgsSUFBQWQsR0FBQTBCLE9BQUFYLEdBQUFZLE9BQUEsT0FDQWpDLEtBQUEsUUFBQXdJLEVBQUFFLEVBQUF2RyxLQUFBdUcsRUFBQXRHLE9BQ0FwQyxLQUFBLFNBQUF5SSxFQUFBQyxFQUFBckcsSUFBQXFHLEVBQUFwRyxRQUNBdEMsS0FBQSxRQUFBLE9BQ0FpQyxPQUFBLEtBQ0FqQyxLQUFBLFlBQUEsYUFBQTBJLEVBQUF2RyxLQUFBLElBQUF1RyxFQUFBckcsSUFBQSxLQUVBK0YsRUFBQS9ILEVBQUFrQyxPQUFBdEQsRUFBQXVELElBQUEsU0FBQUMsR0FBQSxNQUFBQSxHQUFBLE1BQ0EyRixFQUFBbkgsTUFBQVgsR0FBQVksV0FBQWtILEVBQUEvSCxHQUNBK0gsRUFBQXJILE1BQUFULEdBQUFVLFNBQUFvSCxFQUFBekgsR0FFQXlILEVBQUFoSCxJQUFBdUIsVUFBQSxRQUNBMUQsS0FBQUEsR0FDQTJELFFBQUFYLE9BQUEsS0FDQWpDLEtBQUEsWUFBQSxTQUFBeUMsR0FBQSxNQUFBLGFBQUEyRixFQUFBL0gsRUFBQW9DLEVBQUEsSUFBQSxJQUFBaUcsRUFBQXJHLElBQUEsTUFDQVksS0FBQW1GLEVBQUFILE1BQUF0RSxNQUFBeUUsRUFBQS9ILEVBQUF3QyxjQUdBdUYsRUFBQWhILElBQUF1QixVQUFBLFFBQ0ExRCxLQUFBQSxHQUNBMkQsUUFBQVgsT0FBQSxLQUNBakMsS0FBQSxZQUFBLFNBQUF5QyxHQUFBLE1BQUEsYUFBQTJGLEVBQUEvSCxFQUFBb0MsRUFBQSxJQUFBLElBQUFpRyxFQUFBckcsSUFBQSxNQUNBWSxLQUFBbUYsRUFBQUgsTUFBQXRFLE1BQUF5RSxFQUFBL0gsRUFBQXdDLGFBR0EsSUFBQW9DLEdBQUEzRSxHQUFBNEUsT0FBQSxPQUdBQyxFQUFBN0UsR0FBQTZFLE1BQ0FuRixLQUFBLFFBQUEsVUFDQW9GLFNBQUEsR0FBQSxJQUNBQyxLQUFBLFNBQUE1QyxHQUNBLE1BQUEsMERBQUF3QyxFQUFBeEMsRUFBQS9DLE9BQUEsdUVBQUErQyxFQUFBN0QsSUFBQSxXQUVBd0osR0FBQWhILElBQUE2QixLQUFBa0MsR0FHQWlELEVBQUFoSCxJQUFBdUIsVUFBQSxRQUNBMUQsS0FBQW9KLEdBQ0F6RixRQUFBWCxPQUFBLFVBQ0FqQyxLQUFBLFFBQUEsU0FBQXlDLEdBQUEsTUFBQSxPQUFBQSxFQUFBN0QsSUFBQTJGLFFBQUEsS0FBQSxNQUNBdkUsS0FBQSxJQUFBLEdBQ0FBLEtBQUEsS0FBQSxTQUFBeUMsR0FBQSxNQUFBMkYsR0FBQS9ILEVBQUFvQyxFQUFBb0csTUFBQTdDLGNBQUEsSUFDQWhHLEtBQUEsS0FBQSxTQUFBeUMsR0FBQSxNQUFBMkYsR0FBQXpILEVBQUE4QixFQUFBL0MsU0FDQTZGLEdBQUEsWUFBQUosRUFBQUssTUFDQUQsR0FBQSxXQUFBSixFQUFBTSxNQUdBMkMsRUFBQWhILElBQUFhLE9BQUEsS0FDQWpDLEtBQUEsUUFBQSxVQUNBaUQsS0FBQW1GLEVBQUFySCxPQUNBa0IsT0FBQSxRQUNBakMsS0FBQSxZQUFBLGVBQ0FBLEtBQUEsUUFBQSxvQkFDQWtELE1BQUEsY0FBQSxPQUdBa0YsRUFBQWhILElBQUFhLE9BQUEsS0FDQWpDLEtBQUEsUUFBQSxVQUNBQSxLQUFBLFlBQUEsZ0JBQUF5SSxFQUFBQyxFQUFBckcsSUFBQSxJQUFBLEtBQ0FZLEtBQUFtRixFQUFBbkgsT0FDQWdCLE9BQUEsUUFDQWpDLEtBQUEsSUFBQXdJLEVBQUEsR0FDQXhJLEtBQUEsSUFBQSxJQUNBQSxLQUFBLEtBQUEsU0FDQWtELE1BQUEsY0FBQSxVQUNBbEQsS0FBQSxRQUFBLG9CQUdBb0ksRUFBQWhILElBQUFhLE9BQUEsUUFDQWpDLEtBQUEsY0FBQSxVQUNBQSxLQUFBLFlBQUEsZUFBQTBJLEVBQUF2RyxLQUFBLEVBQUEsSUFBQSxJQUFBc0csRUFBQSxFQUFBLGdCQUNBekksS0FBQSxRQUFBLG9CQUNBUCxLQUFBVCxHQUdBb0osRUFBQWhILElBQUFhLE9BQUEsUUFDQWpDLEtBQUEsY0FBQSxVQUNBQSxLQUFBLFlBQUEsZ0JBQUF3SSxFQUFBLEdBQUEsS0FBQUUsRUFBQXJHLElBQUEsR0FBQW9HLEdBQUEsS0FDQXpJLEtBQUEsUUFBQSxvQkFDQVAsS0FBQSxRQUVBMkksRUFBQWpILFNBQUEsRUFLQSxRQUFBd0gsR0FBQUcsR0FDQSxNQUFBLFVBQUFyRyxFQUFBaUMsR0FNQSxJQUxBLEdBQUFxRSxHQUFBdEcsRUFBQWdFLFVBQUEsR0FDQXVDLEVBQUF2RyxFQUFBZ0UsVUFBQSxHQUNBa0MsR0FBQUssRUFBQUQsR0FBQUQsRUFDQXBFLEdBQUEsRUFDQXVFLEVBQUF4RyxFQUFBa0MsT0FDQWxDLElBQUFpQyxHQUFBcUUsRUFBQUosSUFDQSxLQUFBbEcsSUFBQXdHLEdBQUFELEVBQUFMLElBQ0EsT0FBQWpFLEVBQUF1RSxJQTVKQSxHQUFBTCxJQUFBLEVBR0FGLEdBQUFyRyxJQUFBLEdBQUFELE1BQUEsR0FBQUUsT0FBQSxJQUFBSCxLQUFBLEtBQ0FxRyxFQUFBLEtBQUFFLEVBQUF2RyxLQUFBdUcsRUFBQXRHLE1BQ0FxRyxFQUFBLElBQUFDLEVBQUFyRyxJQUFBcUcsRUFBQXBHLE9BSUFnRyxJQXlKQSxRQUNBSixjQUFBQSxLQzdKQTVILElBQUF1SCxRQUFBLFNBQUFDLEdBQ0EsTUFBQSxrQkFBQUEsR0FBQUEsRUFBQSxXQUNBLE1BQUFBLEtBSUF4SCxHQUFBNkUsSUFBQSxXQVVBLFFBQUFBLEdBQUErRCxHQUNBOUgsRUFBQStILEVBQUFELEdBQ0FFLEVBQUFoSSxFQUFBaUksaUJBQ0FDLFNBQUFDLEtBQUFDLFlBQUFDLEdBb0lBLFFBQUFDLEtBQUEsTUFBQSxJQUNBLFFBQUFDLEtBQUEsT0FBQSxFQUFBLEdBQ0EsUUFBQUMsS0FBQSxNQUFBLElBZUEsUUFBQUMsS0FDQSxHQUFBQyxHQUFBQyxHQUNBLFFBQ0ExSCxJQUFBeUgsRUFBQXZELEVBQUE1RixFQUFBOEksRUFBQU8sYUFDQTdILEtBQUEySCxFQUFBdkQsRUFBQWxHLEVBQUFvSixFQUFBUSxZQUFBLEdBSUEsUUFBQUMsS0FDQSxHQUFBSixHQUFBQyxHQUNBLFFBQ0ExSCxJQUFBeUgsRUFBQUssRUFBQXhKLEVBQ0F3QixLQUFBMkgsRUFBQUssRUFBQTlKLEVBQUFvSixFQUFBUSxZQUFBLEdBSUEsUUFBQUcsS0FDQSxHQUFBTixHQUFBQyxHQUNBLFFBQ0ExSCxJQUFBeUgsRUFBQU8sRUFBQTFKLEVBQUE4SSxFQUFBTyxhQUFBLEVBQ0E3SCxLQUFBMkgsRUFBQU8sRUFBQWhLLEdBSUEsUUFBQWlLLEtBQ0EsR0FBQVIsR0FBQUMsR0FDQSxRQUNBMUgsSUFBQXlILEVBQUFTLEVBQUE1SixFQUFBOEksRUFBQU8sYUFBQSxFQUNBN0gsS0FBQTJILEVBQUFTLEVBQUFsSyxFQUFBb0osRUFBQVEsYUFJQSxRQUFBTyxLQUNBLEdBQUFWLEdBQUFDLEdBQ0EsUUFDQTFILElBQUF5SCxFQUFBVyxHQUFBOUosRUFBQThJLEVBQUFPLGFBQ0E3SCxLQUFBMkgsRUFBQVcsR0FBQXBLLEVBQUFvSixFQUFBUSxhQUlBLFFBQUFTLEtBQ0EsR0FBQVosR0FBQUMsR0FDQSxRQUNBMUgsSUFBQXlILEVBQUFhLEdBQUFoSyxFQUFBOEksRUFBQU8sYUFDQTdILEtBQUEySCxFQUFBYSxHQUFBdEssR0FJQSxRQUFBdUssS0FDQSxHQUFBZCxHQUFBQyxHQUNBLFFBQ0ExSCxJQUFBeUgsRUFBQWUsR0FBQWxLLEVBQ0F3QixLQUFBMkgsRUFBQWUsR0FBQXhLLEVBQUFvSixFQUFBUSxhQUlBLFFBQUFhLEtBQ0EsR0FBQWhCLEdBQUFDLEdBQ0EsUUFDQTFILElBQUF5SCxFQUFBaUIsR0FBQXBLLEVBQ0F3QixLQUFBMkgsRUFBQU8sRUFBQWhLLEdBSUEsUUFBQTJLLEtBQ0EsR0FBQXZCLEdBQUFuSixHQUFBMEIsT0FBQXNILFNBQUEyQixjQUFBLE9BUUEsT0FQQXhCLEdBQ0F2RyxNQUFBLFdBQUEsWUFDQUEsTUFBQSxNQUFBLEdBQ0FBLE1BQUEsVUFBQSxHQUNBQSxNQUFBLGlCQUFBLFFBQ0FBLE1BQUEsYUFBQSxjQUVBdUcsRUFBQUEsT0FHQSxRQUFBTixHQUFBK0IsR0FFQSxNQURBQSxHQUFBQSxFQUFBekIsT0FDQSxRQUFBeUIsRUFBQUMsUUFBQUMsY0FDQUYsRUFFQUEsRUFBQUcsZ0JBR0EsUUFBQUMsS0FNQSxNQUxBLFFBQUE3QixJQUNBQSxFQUFBdUIsSUFFQTFCLFNBQUFDLEtBQUFDLFlBQUFDLElBRUFuSixHQUFBMEIsT0FBQXlILEdBZ0JBLFFBQUFNLEtBR0EsSUFGQSxHQUFBd0IsR0FBQUMsR0FBQWxMLEdBQUFtTCxNQUFBRCxPQUVBLG1CQUFBRCxHQUFBRyxjQUFBLGNBQUFILEVBQUFJLFlBQ0FKLEVBQUFBLEVBQUFJLFVBR0EsSUFBQTdCLE1BQ0E4QixFQUFBTCxFQUFBRyxlQUNBRyxFQUFBTixFQUFBTyxVQUNBbkksRUFBQWtJLEVBQUFsSSxNQUNBQyxFQUFBaUksRUFBQWpJLE9BQ0F2RCxFQUFBd0wsRUFBQXhMLEVBQ0FNLEVBQUFrTCxFQUFBbEwsQ0FxQkEsT0FuQkF5SSxHQUFBL0ksRUFBQUEsRUFDQStJLEVBQUF6SSxFQUFBQSxFQUNBbUosRUFBQVcsR0FBQXJCLEVBQUEyQyxnQkFBQUgsR0FDQXhDLEVBQUEvSSxHQUFBc0QsRUFDQW1HLEVBQUFhLEdBQUF2QixFQUFBMkMsZ0JBQUFILEdBQ0F4QyxFQUFBekksR0FBQWlELEVBQ0FrRyxFQUFBaUIsR0FBQTNCLEVBQUEyQyxnQkFBQUgsR0FDQXhDLEVBQUEvSSxHQUFBc0QsRUFDQW1HLEVBQUFlLEdBQUF6QixFQUFBMkMsZ0JBQUFILEdBQ0F4QyxFQUFBekksR0FBQWlELEVBQUEsRUFDQWtHLEVBQUFTLEVBQUFuQixFQUFBMkMsZ0JBQUFILEdBQ0F4QyxFQUFBL0ksR0FBQXNELEVBQ0FtRyxFQUFBTyxFQUFBakIsRUFBQTJDLGdCQUFBSCxHQUNBeEMsRUFBQS9JLEdBQUFzRCxFQUFBLEVBQ0F5RixFQUFBekksR0FBQWlELEVBQUEsRUFDQWtHLEVBQUF2RCxFQUFBNkMsRUFBQTJDLGdCQUFBSCxHQUNBeEMsRUFBQXpJLEdBQUFpRCxFQUNBa0csRUFBQUssRUFBQWYsRUFBQTJDLGdCQUFBSCxHQUVBOUIsRUE1U0EsR0FBQWtDLEdBQUF0QyxFQUNBdEUsRUFBQXVFLEVBQ0F0RSxFQUFBdUUsRUFDQUgsRUFBQXVCLElBQ0E1SixFQUFBLEtBQ0FnSSxFQUFBLEtBQ0FvQyxFQUFBLElBV0FyRyxHQUFBSyxLQUFBLFdBQ0EsR0FBQXlHLEdBQUFDLE1BQUFDLFVBQUF0RyxNQUFBNUMsS0FBQTJFLFVBQ0FxRSxHQUFBQSxFQUFBdEgsT0FBQSxZQUFBeUgsY0FBQVosRUFBQVMsRUFBQXRHLE1BRUEsSUFLQTBHLEdBTEFDLEVBQUFqSCxFQUFBa0gsTUFBQXhNLEtBQUFrTSxHQUNBTyxFQUFBcEgsRUFBQW1ILE1BQUF4TSxLQUFBa00sR0FDQVEsRUFBQVQsRUFBQU8sTUFBQXhNLEtBQUFrTSxHQUNBUyxFQUFBcEIsSUFDQTVHLEVBQUFpSSxFQUFBaEksT0FFQWlJLEVBQUF0RCxTQUFBdUQsZ0JBQUFELFdBQUF0RCxTQUFBQyxLQUFBcUQsVUFDQUUsRUFBQXhELFNBQUF1RCxnQkFBQUMsWUFBQXhELFNBQUFDLEtBQUF1RCxVQU9BLEtBTEFKLEVBQUFySCxLQUFBaUgsR0FDQXBKLE1BQUEsV0FBQSxZQUNBQSxNQUFBLFVBQUEsR0FDQUEsTUFBQSxpQkFBQSxPQUVBd0IsS0FBQWdJLEVBQUFwSSxRQUFBcUksRUFBQWpJLElBQUEsRUFNQSxPQUxBMkgsR0FBQVUsRUFBQU4sR0FBQUYsTUFBQXhNLE1BQ0EyTSxFQUFBcEksUUFBQW1JLEdBQUEsR0FDQXZKLE1BQUEsTUFBQW1KLEVBQUFoSyxJQUFBbUssRUFBQSxHQUFBSSxFQUFBLE1BQ0ExSixNQUFBLE9BQUFtSixFQUFBbEssS0FBQXFLLEVBQUEsR0FBQU0sRUFBQSxNQUVBM0gsR0FNQUEsRUFBQU0sS0FBQSxXQUNBLEdBQUFpSCxHQUFBcEIsR0FJQSxPQUhBb0IsR0FDQXhKLE1BQUEsVUFBQSxHQUNBQSxNQUFBLGlCQUFBLFFBQ0FpQyxHQVNBQSxFQUFBbkYsS0FBQSxTQUFBdUcsRUFBQXVCLEdBQ0EsR0FBQUYsVUFBQWpELE9BQUEsR0FBQSxnQkFBQTRCLEdBQ0EsTUFBQStFLEtBQUF0TCxLQUFBdUcsRUFFQSxJQUFBMEYsR0FBQUMsTUFBQUMsVUFBQXRHLE1BQUE1QyxLQUFBMkUsVUFJQSxPQUhBdEgsSUFBQTBNLFVBQUFiLFVBQUFuTSxLQUFBdU0sTUFBQWpCLElBQUFXLEdBR0E5RyxHQVNBQSxFQUFBakMsTUFBQSxTQUFBcUQsRUFBQXVCLEdBRUEsR0FBQUYsVUFBQWpELE9BQUEsR0FBQSxnQkFBQTRCLEdBQ0EsTUFBQStFLEtBQUFwSSxNQUFBcUQsRUFFQSxJQUFBMEYsR0FBQUMsTUFBQUMsVUFBQXRHLE1BQUE1QyxLQUFBMkUsVUFDQSxJQUFBLElBQUFxRSxFQUFBdEgsT0FBQSxDQUNBLEdBQUFzSSxHQUFBaEIsRUFBQSxFQUNBaUIsUUFBQXpJLEtBQUF3SSxHQUFBdEwsUUFBQSxTQUFBMEMsR0FDQSxNQUFBL0QsSUFBQTBNLFVBQUFiLFVBQUFqSixNQUFBcUosTUFBQWpCLEtBQUFqSCxFQUFBNEksRUFBQTVJLE9BS0EsTUFBQWMsSUFTQUEsRUFBQTZHLFVBQUEsU0FBQWxFLEdBQ0EsTUFBQUYsV0FBQWpELFFBQ0FxSCxFQUFBLE1BQUFsRSxFQUFBQSxFQUFBeEgsR0FBQXVILFFBQUFDLEdBRUEzQyxHQUhBNkcsR0FXQTdHLEVBQUFDLE9BQUEsU0FBQTBDLEdBQ0EsTUFBQUYsV0FBQWpELFFBQ0FTLEVBQUEsTUFBQTBDLEVBQUFBLEVBQUF4SCxHQUFBdUgsUUFBQUMsR0FFQTNDLEdBSEFDLEdBV0FELEVBQUFFLEtBQUEsU0FBQXlDLEdBQ0EsTUFBQUYsV0FBQWpELFFBQ0FVLEVBQUEsTUFBQXlDLEVBQUFBLEVBQUF4SCxHQUFBdUgsUUFBQUMsR0FFQTNDLEdBSEFFLEdBU0FGLEVBQUFnSSxRQUFBLFdBS0EsTUFKQTFELEtBQ0E2QixJQUFBdkYsU0FDQTBELEVBQUEsTUFFQXRFLEVBT0EsSUFBQTRILElBQ0F4RyxFQUFBc0QsRUFDQU0sRUFBQUQsRUFDQUcsRUFBQUQsRUFDQUcsRUFBQUQsRUFDQUcsR0FBQUQsRUFDQUcsR0FBQUQsRUFDQUcsR0FBQUQsRUFDQUcsR0FBQUQsR0FHQTZCLEVBQUFPLE9BQUF6SSxLQUFBc0ksRUFpSkEsT0FBQTVILEdDOVRBLElBQUFpSSxVQUFBLFdBUUEsUUFBQUMsR0FBQUMsR0FDQXBPLEVBQUFxTyxJQUFBLHFCQUFBLFNBQUF0TyxHQUNBQSxFQUFBdU8sU0FBQTdJLE9BQUEsRUFDQTJJLEVBQUFyTyxFQUFBdU8sVUFBQSxHQUVBRixFQUFBRSxVQUFBLEtBV0EsUUFBQUMsR0FBQUMsRUFBQUosR0FFQXBPLEVBQUF5TyxLQUFBLGVBQUFDLFNBQUFGLEdBQUEsU0FBQXpPLEdBQ0FBLEVBQUE0TyxXQUFBbEosT0FBQSxHQUFBLE9BQUExRixFQUFBNE8sV0FBQSxHQUNBUCxFQUFBck8sRUFBQTRPLFlBQUEsR0FFQVAsTUFBQSxLQVlBLFFBQUFRLEdBQUFKLEVBQUFsTyxFQUFBOE4sR0FDQXBPLEVBQUF5TyxLQUFBLGdCQUFBRCxRQUFBQSxFQUFBbE8sU0FBQUEsR0FBQSxTQUFBUCxHQUNBQSxFQUFBOE8sY0FBQXBKLE9BQUEsR0FBQSxPQUFBMUYsRUFBQThPLGNBQUEsR0FDQVQsRUFBQXJPLEVBQUE4TyxlQUFBLEdBRUFULE1BQUEsS0FlQSxRQUFBVSxHQUFBTixFQUFBbE8sRUFBQXlPLEVBQUFYLEdBRUFwTyxFQUFBeU8sS0FBQSxrQkFBQW5PLFNBQUFBLEVBQUFrTyxRQUFBQSxFQUFBTyxZQUFBQSxHQUFBLFNBQUFoUCxHQUNBQSxFQUFBaVAsYUFBQXZKLE9BQUEsR0FBQSxPQUFBMUYsRUFBQWlQLGFBQUEsR0FDQVosRUFBQXJPLEVBQUFpUCxjQUFBLEdBRUFaLEVBQUFyTyxFQUFBaVAsY0FBQSxLQVlBLFFBQUFDLEdBQUFDLEVBQUFkLEdBQ0FwTyxFQUFBeU8sS0FBQSxtQkFBQVUsUUFBQSxHQUFBRCxXQUFBRSxLQUFBQyxVQUFBSCxJQUFBLFNBQUFuUCxHQUNBcU8sRUFBQXJPLEVBQUF1UCxRQUtBLE9BQ0FmLDBCQUFBQSxFQUNBSyw2QkFBQUEsRUFDQUUsNEJBQUFBLEVBQ0FYLHdCQUFBQSxFQUNBYyxpQkFBQUEsTUM1RkFNLFFBQ0FBLFVBQ0FsSixHQUFBLFNBQUFtSixFQUFBQyxHQUNBNU8sS0FBQTBPLE9BQUFDLEdBQUEzTyxLQUFBME8sT0FBQUMsT0FDQTNPLEtBQUEwTyxPQUFBQyxHQUFBblAsS0FBQW9QLElBRUFDLElBQUEsU0FBQUYsRUFBQUMsR0FDQSxHQUFBNU8sS0FBQTBPLE9BQUFDLEdBQ0EsSUFBQSxHQUFBaEssR0FBQSxFQUFBQSxFQUFBM0UsS0FBQTBPLE9BQUFDLEdBQUEvSixPQUFBRCxJQUNBLEdBQUEzRSxLQUFBME8sT0FBQUMsR0FBQWhLLEtBQUFpSyxFQUFBLENBQ0E1TyxLQUFBME8sT0FBQUMsR0FBQUcsT0FBQW5LLEVBQUEsRUFDQSxTQUtBb0ssS0FBQSxTQUFBSixFQUFBelAsR0FDQWMsS0FBQTBPLE9BQUFDLElBQ0EzTyxLQUFBME8sT0FBQUMsR0FBQS9NLFFBQUEsU0FBQWdOLEdBQ0FBLEVBQUExUCxPQ25CQThQLGFBQUEsV0FRQSxRQUFBQyxHQUFBNU8sR0FDQUwsS0FBQUssR0FBQUEsRUFDQUwsS0FBQW9CLFNBQUEsRUFDQXBCLEtBQUFrQixNQUFBWCxHQUFBWSxhQUNBbkIsS0FBQWdCLE1BQUFULEdBQUFVLFdBQ0FqQixLQUFBTSxFQUFBQyxHQUFBTSxjQUFBbUUsWUFBQWtLLEVBQUEsSUFDQWxQLEtBQUFZLEVBQUFMLEdBQUFNLGNBQUFtRSxZQUFBbUssRUFBQSxJQUNBblAsS0FBQXFCLElBQUEsS0FHQSxRQUFBK04sR0FBQWxRLEVBQUFtUSxFQUFBNU4sRUFBQUgsR0FDQSxHQUFBZ08sR0FBQSxJQUVBQyxHQUFBM04sUUFBQSxTQUFBNE4sR0FDQUEsRUFBQW5QLEtBQUFpQixJQUFBZ08sRUFBQUUsS0FHQSxPQUFBRixJQUNBQSxFQUFBLEdBQUFMLEdBQUEzTixHQUNBaU8sRUFBQS9QLEtBQUE4UCxHQUlBLElBQUFHLEtBQ0F2USxHQUFBMEMsUUFBQSxTQUFBMEksR0FDQW1GLEVBQUFqUSxLQUFBOEssRUFBQXpMLE1BR0EsSUFBQTZRLEdBQUFuUCxHQUFBeUQsZUFBQXhCLE9BQUFpTixHQUNBaFAsT0FBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBRUFrUCxJQUNBelEsR0FBQTBDLFFBQUEsU0FBQTBJLEdBQ0FBLEVBQUFzRixNQUFBaE8sUUFBQSxTQUFBaU8sR0FDQUEsRUFBQSxJQUFBdkYsRUFBQXpMLElBQ0E4USxFQUFBblEsS0FBQXFRLE1BSUEsSUFBQUMsS0FDQUgsR0FBQS9OLFFBQUEsU0FBQTBJLEdBQUF3RixFQUFBdFEsS0FBQThLLEVBQUF5RixTQUVBLElBQUFDLEtBQ0FMLEdBQUEvTixRQUFBLFNBQUEwSSxHQUFBMEYsRUFBQXhRLEtBQUE4SyxFQUFBMkYsVUFHQVgsRUFBQWxPLFVBQ0FrTyxFQUFBak8sSUFBQWQsR0FBQTBCLE9BQUFYLEdBQUFZLE9BQUEsT0FDQWpDLEtBQUEsUUFBQWlQLEVBQUFnQixFQUFBOU4sS0FBQThOLEVBQUE3TixPQUNBcEMsS0FBQSxTQUFBa1AsRUFBQWUsRUFBQTVOLElBQUE0TixFQUFBM04sUUFDQUwsT0FBQSxLQUNBakMsS0FBQSxZQUFBLGFBQUFpUSxFQUFBOU4sS0FBQSxJQUFBOE4sRUFBQTVOLElBQUEsS0FLQSxJQUFBNk4sR0FBQTVQLEdBQUFWLElBQUFpUSxFQUFBLFNBQUFwTixHQUFBLE1BQUFBLEtBQ0EwTixFQUFBN1AsR0FBQVYsSUFBQW1RLEVBQUEsU0FBQXROLEdBQUEsTUFBQUEsSUFHQTRNLEdBQUFoUCxFQUFBa0MsUUFBQTJOLEVBQUEsSUFBQXBQLE9BQ0F1TyxFQUFBMU8sRUFBQTRCLFFBQUEsRUFBQTROLElBQUFyUCxPQUdBdU8sRUFBQWxPLFNBQ0FrTyxFQUFBak8sSUFBQVksT0FBQSxVQUFBaUIsS0FBQW9NLEVBQUF0TyxPQUNBc08sRUFBQWpPLElBQUFZLE9BQUEsVUFBQWlCLEtBQUFvTSxFQUFBcE8sU0FFQW9PLEVBQUFwTyxNQUFBeUIsTUFBQTJNLEVBQUFoUCxHQUNBZ1AsRUFBQXRPLE1BQUEyQixNQUFBMk0sRUFBQTFPLElBR0EwTyxFQUFBak8sSUFBQWEsT0FBQSxLQUNBakMsS0FBQSxRQUFBLFNBQ0FBLEtBQUEsWUFBQSxlQUFBa1AsRUFBQSxLQUNBak0sS0FBQW9NLEVBQUFwTyxNQUFBeUIsTUFBQTJNLEVBQUFoUCxHQUNBLElBQUE0RSxHQUFBM0UsR0FBQTRFLE9BQUEsTUFHQW1LLEdBQUFqTyxJQUFBYSxPQUFBLEtBQ0FqQyxLQUFBLFFBQUEsU0FDQUEsS0FBQSxPQUFBLFNBQ0FpRCxLQUFBb00sRUFBQXRPLE1BRUEsSUFBQW9FLEdBQUE3RSxHQUFBNkUsTUFDQW5GLEtBQUEsUUFBQSxVQUNBb0YsU0FBQSxHQUFBLElBQ0FDLEtBQUEsU0FBQTVDLEdBQ0EsTUFBQSx3REFBQUEsRUFBQTdELElBQUEsd0VBQUE2RCxFQUFBb0csS0FBQSwwRUFBQTVELEVBQUF4QyxFQUFBdU4sUUFBQSxLQUFBL0ssRUFBQXhDLEVBQUFxTixRQUFBLFlBRUFULEdBQUFqTyxJQUFBNkIsS0FBQWtDLEdBRUFrSyxFQUFBbE8sUUFDQWtPLEVBQUFqTyxJQUFBdUIsVUFBQSxTQUNBMUQsS0FBQXlRLEdBQ0ExUCxLQUFBLFFBQUEsT0FDQUEsS0FBQSxJQUFBLEtBQ0FBLEtBQUEsS0FBQSxTQUFBeUMsR0FBQSxNQUFBNE0sR0FBQWhQLEVBQUFvQyxFQUFBcU4sVUFDQTlQLEtBQUEsS0FBQSxTQUFBeUMsR0FBQSxNQUFBNE0sR0FBQTFPLEVBQUE4QixFQUFBdU4sVUFDQWhRLEtBQUEsT0FBQSxTQUFBeUMsR0FBQSxNQUFBZ04sR0FBQWhOLEVBQUE3RCxPQUNBMkcsR0FBQSxZQUFBSixFQUFBSyxNQUNBRCxHQUFBLFdBQUFKLEVBQUFNLE1BRUE0SixFQUFBak8sSUFBQXVCLFVBQUEsU0FDQTFELEtBQUF5USxHQUNBOU0sUUFBQVgsT0FBQSxVQUNBakMsS0FBQSxRQUFBLFFBQ0FBLEtBQUEsSUFBQSxLQUNBQSxLQUFBLEtBQUEsU0FBQXlDLEdBQUEsTUFBQTRNLEdBQUFoUCxFQUFBb0MsRUFBQXFOLFVBQ0E5UCxLQUFBLEtBQUEsU0FBQXlDLEdBQUEsTUFBQTRNLEdBQUExTyxFQUFBOEIsRUFBQXVOLFVBQ0FoUSxLQUFBLE9BQUEsU0FBQXlDLEdBQUEsTUFBQWdOLEdBQUFoTixFQUFBN0QsT0FDQTJHLEdBQUEsWUFBQUosRUFBQUssTUFDQUQsR0FBQSxXQUFBSixFQUFBTSxLQU1BLEtBQUEsR0FIQTJLLE1BR0ExTCxFQUFBLEVBQUFBLEVBQUF6RixFQUFBMEYsT0FBQUQsSUFDQSxJQUFBLEdBQUF1RSxHQUFBLEVBQUFBLEVBQUFoSyxFQUFBeUYsR0FBQWlMLE1BQUFoTCxPQUFBLEVBQUFzRSxJQUNBbUgsRUFBQTdRLE1BQUE4USxLQUFBLEVBQUF6UixJQUFBSyxFQUFBeUYsR0FBQTlGLElBQUF5QixFQUFBcEIsRUFBQXlGLEdBQUFpTCxNQUFBMUcsR0FBQTZHLE9BQUFuUCxFQUFBMUIsRUFBQXlGLEdBQUFpTCxNQUFBMUcsR0FBQStHLE9BQUF4TSxHQUFBdkUsRUFBQXlGLEdBQUFpTCxNQUFBMUcsRUFBQSxHQUFBNkcsT0FBQVEsR0FBQXJSLEVBQUF5RixHQUFBaUwsTUFBQTFHLEVBQUEsR0FBQStHLFFBS0FYLEdBQUFsTyxTQUNBa08sRUFBQWpPLElBQUFhLE9BQUEsWUFBQVUsVUFBQSxVQUNBMUQsS0FBQW1SLEdBQ0F4TixRQUFBWCxPQUFBLGNBQ0FqQyxLQUFBLEtBQUEsU0FBQXlDLEdBQ0EsR0FBQUEsRUFBQTROLElBQ0EsTUFBQSxNQUFBNU4sRUFBQTdELElBQUEyRixRQUFBLEtBQUEsTUFHQXZFLEtBQUEsVUFBQSxjQUNBQSxLQUFBLE9BQUEsR0FDQUEsS0FBQSxRQUFBLElBQ0FBLEtBQUEsY0FBQSxHQUNBQSxLQUFBLGVBQUEsR0FDQUEsS0FBQSxjQUFBLGtCQUNBQSxLQUFBLFNBQUEsUUFDQWlDLE9BQUEsWUFDQWpDLEtBQUEsSUFBQSxrQkFDQWtELE1BQUEsT0FBQSxTQUFBVCxHQUFBLE1BQUFnTixHQUFBaE4sRUFBQTdELE9BR0F5USxFQUFBbE8sUUFDQWtPLEVBQUFqTyxJQUFBdUIsVUFBQSxTQUNBMUQsS0FBQW1SLEdBQ0FwUSxLQUFBLEtBQUEsU0FBQXlDLEdBQUEsTUFBQXBDLEdBQUFvQyxFQUFBcEMsS0FDQUwsS0FBQSxLQUFBLFNBQUF5QyxHQUFBLE1BQUE5QixHQUFBOEIsRUFBQTlCLEtBQ0FYLEtBQUEsS0FBQSxTQUFBeUMsR0FBQSxNQUFBcEMsR0FBQW9DLEVBQUFlLE1BQ0F4RCxLQUFBLEtBQUEsU0FBQXlDLEdBQUEsTUFBQTlCLEdBQUE4QixFQUFBNk4sTUFDQXRRLEtBQUEsZUFBQSxHQUNBQSxLQUFBLFFBQUEsU0FBQXlDLEdBQUEsTUFBQSxHQUFBQSxFQUFBN0QsSUFBQTJGLFFBQUEsS0FBQSxNQUNBdkUsS0FBQSxTQUFBLFNBQUF5QyxHQUFBLE1BQUFnTixHQUFBaE4sRUFBQTdELE9BQ0FvQixLQUFBLGFBQUEsU0FBQXlDLEdBQ0EsR0FBQUEsRUFBQTROLElBQ0EsTUFBQSxXQUFBNU4sRUFBQTdELElBQUEyRixRQUFBLEtBQUEsSUFBQSxNQUlBOEssRUFBQWpPLElBQUF1QixVQUFBLFNBQ0ExRCxLQUFBbVIsR0FDQXhOLFFBQUFYLE9BQUEsUUFDQWpDLEtBQUEsS0FBQSxTQUFBeUMsR0FBQSxNQUFBNE0sR0FBQWhQLEVBQUFvQyxFQUFBcEMsS0FDQUwsS0FBQSxLQUFBLFNBQUF5QyxHQUFBLE1BQUE0TSxHQUFBMU8sRUFBQThCLEVBQUE5QixLQUNBWCxLQUFBLEtBQUEsU0FBQXlDLEdBQUEsTUFBQTRNLEdBQUFoUCxFQUFBb0MsRUFBQWUsTUFDQXhELEtBQUEsS0FBQSxTQUFBeUMsR0FBQSxNQUFBNE0sR0FBQTFPLEVBQUE4QixFQUFBNk4sTUFDQXRRLEtBQUEsZUFBQSxHQUNBQSxLQUFBLFFBQUEsU0FBQXlDLEdBQUEsTUFBQSxHQUFBQSxFQUFBN0QsSUFBQTJGLFFBQUEsS0FBQSxNQUNBdkUsS0FBQSxTQUFBLFNBQUF5QyxHQUFBLE1BQUFnTixHQUFBaE4sRUFBQTdELE9BQ0FvQixLQUFBLGFBQUEsU0FBQXlDLEdBQ0EsR0FBQUEsRUFBQTROLElBQ0EsTUFBQSxXQUFBNU4sRUFBQTdELElBQUEyRixRQUFBLEtBQUEsSUFBQSxLQU1BLElBQUFnTSxHQUFBLEdBQ0FDLEVBQUEsRUEyQkEsSUExQkFuUCxFQUFBb1AsU0FBQSxTQUNBRixFQUFBLFFBQ0FDLEVBQUEsU0FDQW5QLEVBQUFvUCxTQUFBLE9BQ0FGLEVBQUEsSUFDQUMsRUFBQSxLQUNBblAsRUFBQW9QLFNBQUEsUUFDQUYsRUFBQSxJQUNBQyxFQUFBLEtBSUFuQixFQUFBak8sSUFBQWEsT0FBQSxRQUNBakMsS0FBQSxjQUFBLFVBQ0FBLEtBQUEsWUFBQSxlQUFBaVEsRUFBQTlOLEtBQUEsR0FBQSxNQUFBK00sRUFBQSxFQUFBLGdCQUNBbFAsS0FBQSxRQUFBLGFBQ0FQLEtBQUErUSxFQUFBLFNBQUFoUCxFQUFBLEtBR0E2TixFQUFBak8sSUFBQWEsT0FBQSxRQUNBakMsS0FBQSxjQUFBLFVBQ0FBLEtBQUEsWUFBQSxhQUFBaVAsRUFBQSxFQUFBLE9BQUFDLEVBQUFlLEVBQUEzTixPQUFBLEdBQUEsS0FDQXRDLEtBQUEsUUFBQSxhQUNBUCxLQUFBOFEsRUFBQSxTQUFBbkIsRUFBQSxNQUdBQyxFQUFBbE8sUUFBQSxDQUNBLEdBQUF5RSxHQUFBeUosRUFBQWpPLElBQUFhLE9BQUEsS0FDQWpDLEtBQUEsUUFBQSxtQkFDQUEsS0FBQSxjQUFBLE9BQ0EyQyxVQUFBLEtBQ0ExRCxLQUFBdVEsR0FDQTVNLFFBQUFYLE9BQUEsS0FDQUEsT0FBQSxTQUNBakMsS0FBQSxZQUFBLFNBQUF5QyxFQUFBaUMsR0FDQSxHQUFBL0QsR0FBQSxHQUFBbUMsS0FBQTROLE1BQUFoTSxFQUFBLEdBQ0FyRSxFQUFBLEtBQUFxRSxFQUFBLEVBQUE1QixLQUFBNE4sTUFBQWhNLEVBQUEsR0FFQSxPQURBckUsSUFBQTRQLEVBQUE5TixLQUNBLGFBQUE5QixFQUFBLEtBQUFNLEVBQUF1TyxFQUFBZSxFQUFBM04sT0FBQSxHQUFBLE1BRUFpRCxHQUFBLFlBQUEsU0FBQTlDLEdBQ0E0TSxFQUFBak8sSUFBQXVCLFVBQUEsUUFBQUYsRUFBQThCLFFBQUEsS0FBQSxLQUNBRCxRQUFBLGlCQUFBLEtBRUFpQixHQUFBLFdBQUEsU0FBQTlDLEdBQ0E0TSxFQUFBak8sSUFBQXVCLFVBQUEsUUFBQUYsRUFBQThCLFFBQUEsS0FBQSxLQUNBRCxRQUFBLGlCQUFBLElBR0FzQixHQUFBM0QsT0FBQSxVQUNBakMsS0FBQSxLQUFBaVEsRUFBQTlOLEtBQUEsSUFDQW5DLEtBQUEsS0FBQSxLQUNBQSxLQUFBLElBQUEsS0FFQUEsS0FBQSxPQUFBeVAsR0FFQTdKLEVBQUEzRCxPQUFBLFFBQ0FqQyxLQUFBLElBQUFpUSxFQUFBOU4sS0FBQSxJQUNBbkMsS0FBQSxJQUFBLEtBQ0FBLEtBQUEsS0FBQSxVQUNBQSxLQUFBLFFBQUEsVUFDQWtELE1BQUEsWUFBQSxRQUNBekQsS0FBQSxTQUFBZ0QsR0FBQSxNQUFBQSxLQUVBNE0sRUFBQWxPLFNBQUEsRUE3UEEsR0FBQThPLElBQUE1TixJQUFBLEdBQUFELE1BQUEsR0FBQUUsT0FBQSxJQUFBSCxLQUFBLElBQ0E4TSxFQUFBLElBQUFnQixFQUFBOU4sS0FBQThOLEVBQUE3TixNQUNBOE0sRUFBQSxJQUFBZSxFQUFBNU4sSUFBQTROLEVBQUEzTixPQUdBZ04sSUEyUEEsUUFDQUgsa0JBQUFBIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTmlja3kgb24gMTIvMDEvMjAxNy5cclxuICovXHJcblxyXG52YXIgU2luZ2xlQmFyTW9kdWxlID0gKGZ1bmN0aW9uKCl7XHJcbiAgLyoqXHJcbiAgICogU2hvd3MgdGhlIGJhciBncmFwaCBvbiB0aGUgc2NyZWVuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gcm93SUQge1N0cmluZ30gdGhlIGlkIG9mIHRoZSByb3cgdG8gc2hvdyB3aXRoIHRoZSBkYXRhIGZvciB0aGUgYmFyIGdyYXBoXHJcbiAgICogQHBhcmFtIGVkYiB7U3RyaW5nfSB0aGUgZWRiIG9mIHRoZSByb3dcclxuICAgKiBAcGFyYW0gZGl2IHtTdHJpbmd9IHRoZSBpZCBvZiB0aGUgZGl2IHRvIHB1dCB0aGUgYmFyIGdyYXBoIGluXHJcbiAgICogKi9cclxuICBmdW5jdGlvbiBzaG93QmFyV2l0aFJvd0VsZW0ocm93SUQsIGVkYiwgZGl2LCBoZWFkUm93LCB0YWJsZUlELHVuaXQpe1xyXG4gICAgdmFyIGRhdGEgPSBbXTtcclxuXHJcbiAgICAkKGhlYWRSb3cpLmZpbmQoJ3RoJykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgaWYoaW5kZXggIT0gMCl7IC8vIDAgaXMgbm90IGEgeWVhclxyXG4gICAgICAgIGRhdGEucHVzaCh7Y2F0ZWdvcnkgOiAkKGVsZW1lbnQpLnRleHQoKSwgdmFsdWUgOiAwfSk7IC8vIDAgaXMgdGVtcFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgJCgnIycrcm93SUQpLmZpbmQoJ3RoJykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgaWYoaW5kZXggIT0gMCl7XHJcbiAgICAgICAgZGF0YVtpbmRleC0xXS52YWx1ZSA9ICQoZWxlbWVudCkudGV4dCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRpdGxlID0gZGF0YVtpbmRleF0udmFsdWUgPSAkKGVsZW1lbnQpLnRleHQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIG1heCA9IC1JbmZpbml0eTtcclxuICAgICQoJy5jZWxsJywgdGFibGVJRCkuZWFjaChmdW5jdGlvbigpeyAvL2NlbGwgb3IgdGhcclxuICAgICAgdmFyIHZhbCA9ICskKHRoaXMpLmF0dHIoXCJvcmlnVmFsdWVcIik7XHJcbiAgICAgIG1heCA9IHZhbCA+IG1heCA/IHZhbCA6IG1heDtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBtaW4gPSBJbmZpbml0eTtcclxuICAgICQoJy5jZWxsJywgdGFibGVJRCkuZWFjaChmdW5jdGlvbigpeyAvL2NlbGwgb3IgdGhcclxuICAgICAgdmFyIHZhbCA9ICskKHRoaXMpLmF0dHIoXCJvcmlnVmFsdWVcIik7XHJcbiAgICAgIG1pbiA9IHZhbCA8IG1pbiA/IHZhbCA6IG1pbjtcclxuICAgIH0pO1xyXG4gICAgY3JlYXRlQmFyR3JhcGgoZGl2LCBtYXgsbWluLCBkYXRhLCBlZGIsdW5pdCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gU3BlY2lmaWVzIHRoZSBiYXJNYXJnaW5zIGFuZCBiYXJXaWR0aC9iYXJIZWlnaHQgb2YgdGhlIHN2Z1xyXG4gIHZhciBiYXJNYXJnaW4gPSB7IHRvcDogNjAsIHJpZ2h0OiAyMCwgYm90dG9tOiA1MCwgbGVmdDogNTAgfSxcclxuICAgIGJhcldpZHRoID0gNTUwIC0gYmFyTWFyZ2luLmxlZnQgLSBiYXJNYXJnaW4ucmlnaHQsXHJcbiAgICBiYXJIZWlnaHQgPSA1MDAgLSBiYXJNYXJnaW4udG9wIC0gYmFyTWFyZ2luLmJvdHRvbTtcclxuXHJcblxyXG4gIHZhciBzaW5nbGViYXJHcmFwaHMgPSBbXTtcclxuXHJcbiAgZnVuY3Rpb24gQmFyR3JhcGgoaWQpe1xyXG4gICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgdGhpcy54ID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIGJhcldpZHRoXSkucGFkZGluZygwLjUpO1xyXG4gICAgdGhpcy55ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbYmFySGVpZ2h0LCAwXSkubmljZSgpO1xyXG4gICAgdGhpcy55QXhpcyA9IGQzLmF4aXNMZWZ0KCk7XHJcbiAgICB0aGlzLnhBeGlzID0gZDMuYXhpc0JvdHRvbSgpO1xyXG4gICAgdGhpcy5jcmVhdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLnN2ZyA9IG51bGw7XHJcbiAgfVxyXG5cclxuICB2YXIgcmVkID0gJyNGRjI2MjYnXHJcblxyXG4vLyBJZiB0aGUgYmFyZ3JhcGggZG9lcyBub3QgZXhpc3RzIGNyZWF0ZXMgYSBuZXcgb25lIGFuZCBwbGFjZXMgaXQgaW4gdGhlIGRpdiBlbHNlIHVwZGF0ZXMgYWxyZWFkeSBleGlzdGluZyBncmFwaFxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUJhckdyYXBoKGRpdklELCB0YWJsZU1heCx0YWJsZU1pbiwgZGF0YSwgZWRiLCB5TGFiZWwpe1xyXG4gICAgdmFyIGJhckdyYXBoID0gbnVsbDtcclxuICAgIHNpbmdsZWJhckdyYXBocy5mb3JFYWNoKGZ1bmN0aW9uKGJhckVsZW0pe1xyXG4gICAgICBpZihiYXJFbGVtLmlkID09PSBkaXZJRCl7XHJcbiAgICAgICAgYmFyR3JhcGggPSBiYXJFbGVtO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZihiYXJHcmFwaCA9PT0gbnVsbCl7XHJcbiAgICAgIGNyZWF0ZU5ld0dyYXBoKGRpdklELCB0YWJsZU1heCwgdGFibGVNaW4sIGRhdGEsZWRiLCB5TGFiZWwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdXBkYXRlR3JhcGgoYmFyR3JhcGgsdGFibGVNYXgsdGFibGVNaW4sZGF0YSxlZGIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlTmV3R3JhcGgoZGl2SUQsIHRhYmxlTWF4LHRhYmxlTWluLCBkYXRhLGVkYiwgeUxhYmVsKXtcclxuICAgIHZhciBiYXJHcmFwaCA9IG5ldyBCYXJHcmFwaChkaXZJRCk7XHJcbiAgICBzaW5nbGViYXJHcmFwaHMucHVzaChiYXJHcmFwaCk7XHJcblxyXG4gICAgdmFyIG1peGVkID0gKHRhYmxlTWluIDwgMCAmJiB0YWJsZU1heCA+IDApO1xyXG4gICAgdmFyIG1heCA9IDA7XHJcbiAgICBpZighbWl4ZWQgJiYgdGFibGVNaW4gPCAwKXtcclxuICAgICAgbWF4ID0gdGFibGVNaW47IC8vIFRoZSB0b3Agb2YgdGhlIGdyYXBoIHNob3VsZCBiZSB0aGUgbGVhc3QgbnVtYmVyXHJcbiAgICB9IGVsc2UgaWYoIW1peGVkKSB7XHJcbiAgICAgIG1heCA9IHRhYmxlTWF4O1xyXG4gICAgfVxyXG5cclxuICAgIGlmKG1peGVkKXtcclxuICAgICAgbWF4ID0gdGFibGVNYXg7XHJcbiAgICB9XHJcblxyXG4gICAgYmFyR3JhcGguc3ZnID0gZDMuc2VsZWN0KGRpdklEKS5hcHBlbmQoXCJzdmdcIikvLyBDcmVhdGUgYW5kIGFkZCB0aGUgc3ZnXHJcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgYmFyV2lkdGggKyBiYXJNYXJnaW4ubGVmdCArIGJhck1hcmdpbi5yaWdodClcclxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgYmFySGVpZ2h0ICsgYmFyTWFyZ2luLnRvcCArIGJhck1hcmdpbi5ib3R0b20pXHJcbiAgICAgIC5hcHBlbmQoXCJnXCIpIC8vIGdyb3VwIGFsbG93cyB1cyB0byBtb3ZlIGV2ZXJ5dGhpbmcgdG9nZXRoZXJcclxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIixcclxuICAgICAgICBcInRyYW5zbGF0ZShcIiArIGJhck1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBiYXJNYXJnaW4udG9wICsgXCIpXCIpOyAvLyBtb3ZlcyBieSBhIHggYW5kIHkgdmFsdWUgaW4gdGhpcyBjYXNlIHRoZSBiYXJNYXJnaW5zXHJcblxyXG4gICAgLy8gR29lcyB0aHJvdWdoIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIGFycmF5IGFuZCBncmFicyB0aGUgY2F0ZWdvcnkgKDIwMTEsMjAxMiwyMDEzIGV0YylcclxuICAgIGJhckdyYXBoLnguZG9tYWluKGRhdGEubWFwKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuY2F0ZWdvcnk7IH0pKTsvLyBUaGUgZG9tYWluIHJlcHJlc2VudHMgdGhlIG1pbiBhbmQgbWF4IHZhbHVlcyBvZiB0aGUgZGF0YSBnb2VzIHRocm91Z2ggYWxsIHZhbHVlcyBhbmQgZmluZHMgbWF4XHJcbiAgICBiYXJHcmFwaC55LmRvbWFpbihbMCwgbWF4XSk7IC8vIG9iamVjdCBzaG91bGQgY29udGFpbiBhIHZhbHVlXHJcbiAgICBiYXJHcmFwaC55Lm5pY2UoKTsgLy8gUm91bmRzIHVwIHRvIHRoZSBuZWFyZXN0IHdob2xlIG51bWJlclxyXG4gICAgYmFyR3JhcGgueUF4aXMuc2NhbGUoYmFyR3JhcGgueSk7XHJcblxyXG4gICAgLy8gTmV4dCBzdGVwIGlzIHRvIGNyZWF0ZSB0aGUgcmVjdGFuZ2xlcyBhbmQgYWRkIHRvIHRoZSBzdmdcclxuICAgIGJhckdyYXBoLnN2Zy5zZWxlY3RBbGwoXCIuYmFyXCIpIC8vIE5vbmUgZXhpc3QgeWV0IGJ1dCB3aWxsIGJlIGNyZWF0ZWQgd2l0aCBlbnRlclxyXG4gICAgICAuZGF0YShkYXRhKSAvLyBlbnRlciB0aGUgZGF0YSBhcnJheVxyXG4gICAgICAuZW50ZXIoKVxyXG4gICAgICAuYXBwZW5kKFwicmVjdFwiKSAvLyBjcmVhdGUgdGhlIHJlY3RhbmdsZXNcclxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJhciBzaW5nbGUtYmFyXCIpIC8vIGFkZCB0aGUgY2xhc3MgYXR0cmlidXRlXHJcbiAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBiYXJHcmFwaC54KGQuY2F0ZWdvcnkpOyB9KSAvLyBzZXQgdGhlIHggdmFsdWVcclxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBiYXJHcmFwaC54LmJhbmR3aWR0aCgpKSAvLyBzZXQgdGhlIGJhcldpZHRoIG9mIHRoZSBiYXJcclxuICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGJhckdyYXBoLnkobWl4ZWQgPyAgTWF0aC5hYnMoZC52YWx1ZSkgOiBkLnZhbHVlKTsgfSkgLy8gc2V0IHRoZSB5IHZhbHVlIGFjY29yZGluZyB0byB0aGUgdmFsdWVcclxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gYmFySGVpZ2h0IC0gYmFyR3JhcGgueSgobWl4ZWQgPyAgTWF0aC5hYnMoZC52YWx1ZSkgOiBkLnZhbHVlKSk7IH0pIC8vIHNldCB0aGUgYmFySGVpZ2h0XHJcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiAgbWl4ZWQgPyAgKGQudmFsdWUgPiAwID8gJ2xpZ2h0Z3JlZW4nIDogcmVkKSA6ICdsaWdodGdyZWVuJzt9KVxyXG5cclxuICAgIC8vY3JlYXRlIHRoZSB4IGFuZCB5IGF4aXNcclxuICAgIGJhckdyYXBoLnN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBiYXJIZWlnaHQgKyBcIilcIilcclxuICAgICAgLmNhbGwoYmFyR3JhcGgueEF4aXMuc2NhbGUoYmFyR3JhcGgueCkpO1xyXG5cclxuICAgIC8vIGFkZCB0aGUgeSBBeGlzXHJcbiAgICBiYXJHcmFwaC5zdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixcInlBeGlzXCIpLmNhbGwoYmFyR3JhcGgueUF4aXMpO1xyXG4gICAgYmFyR3JhcGguY3JlYXRlZCA9IHRydWU7XHJcblxyXG5cclxuICAgIC8vIEFkZCBhIHRpdGxlXHJcbiAgICBiYXJHcmFwaC5zdmcuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAuYXR0cihcInhcIiwgKGJhcldpZHRoIC8gMikpXHJcbiAgICAgIC5hdHRyKFwieVwiLCAwIC0gKGJhck1hcmdpbi50b3AgLyAyKSlcclxuICAgICAgLmF0dHIoXCJpZFwiLFwiYmFyLXRpdGxlXCIpXHJcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcclxuICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMjRweFwiKVxyXG4gICAgICAudGV4dChlZGIpO1xyXG5cclxuICAgIGJhckdyYXBoLnN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIikgIC8vIHRoaXMgbWFrZXMgaXQgZWFzeSB0byBjZW50cmUgdGhlIHRleHQgYXMgdGhlIHRyYW5zZm9ybSBpcyBhcHBsaWVkIHRvIHRoZSBhbmNob3JcclxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIrIC0oYmFyTWFyZ2luLmxlZnQvMisxMCkgK1wiLFwiKyhiYXJIZWlnaHQvMiApK1wiKXJvdGF0ZSgtOTApXCIpICAvLyB0ZXh0IGlzIGRyYXduIG9mZiB0aGUgc2NyZWVuIHRvcCBsZWZ0LCBtb3ZlIGRvd24gYW5kIG91dCBhbmQgcm90YXRlXHJcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ1bml0LXRleHQtc2NhbGVkXCIpXHJcbiAgICAgIC50ZXh0KHlMYWJlbCk7XHJcblxyXG4gICAgLy8gQWRkIHllYXIgYXMgdGhlIHgtYXhpcyBsYWJlbFxyXG4gICAgYmFyR3JhcGguc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKSAgLy8gdGhpcyBtYWtlcyBpdCBlYXN5IHRvIGNlbnRyZSB0aGUgdGV4dCBhcyB0aGUgdHJhbnNmb3JtIGlzIGFwcGxpZWQgdG8gdGhlIGFuY2hvclxyXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIisgKyhiYXJXaWR0aC8yKSArXCIsXCIrKCBiYXJNYXJnaW4udG9wICsgYmFySGVpZ2h0IC1iYXJNYXJnaW4uYm90dG9tICsgMjAgKStcIilcIikgIC8vIHRleHQgaXMgZHJhd24gb2ZmIHRoZSBzY3JlZW4gdG9wIGxlZnQsIG1vdmUgZG93biBhbmQgb3V0IGFuZCByb3RhdGVcclxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInVuaXQtdGV4dC1zY2FsZWRcIilcclxuICAgICAgLnRleHQoXCJZZWFyXCIpO1xyXG4gIH1cclxuXHJcbi8vIFdlIGRvIG5vdCBuZWVkIHRhYmxlIG1heCBhbmQgdGhlIGF4aXMgc2hvdWxkIG5ldmVyIGJlIHVwZGF0ZWQgZm9yIGEgZ3JhcGhcclxuICBmdW5jdGlvbiB1cGRhdGVHcmFwaChiYXJHcmFwaCx0YWJsZU1heCwgdGFibGVNaW4sIGRhdGEsIGVkYil7XHJcbiAgICB2YXIgbWl4ZWQgPSAodGFibGVNaW4gPCAwICYmIHRhYmxlTWF4ID4gMCk7XHJcblxyXG4gICAgYmFyR3JhcGguc3ZnLnNlbGVjdEFsbChcIi5iYXJcIikgLy8gTm9uZSBleGlzdCB5ZXQgYnV0IHdpbGwgYmUgY3JlYXRlZCB3aXRoIGVudGVyXHJcbiAgICAgIC5kYXRhKGRhdGEpIC8vIGVudGVyIHRoZSBkYXRhIGFycmF5XHJcbiAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgLmR1cmF0aW9uKDc1MClcclxuICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGJhckdyYXBoLnkoKG1peGVkID8gIE1hdGguYWJzKGQudmFsdWUpIDogZC52YWx1ZSkpOyB9KSAvLyBzZXQgdGhlIHkgdmFsdWUgYWNjb3JkaW5nIHRvIHRoZSB2YWx1ZVxyXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBiYXJIZWlnaHQgLSBiYXJHcmFwaC55KChtaXhlZCA/ICBNYXRoLmFicyhkLnZhbHVlKSA6IGQudmFsdWUpKTsgfSkgLy8gc2V0IHRoZSBiYXJIZWlnaHRcclxuICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuICBtaXhlZCA/ICAoZC52YWx1ZSA+IDAgPyAnbGlnaHRncmVlbicgOiByZWQpIDogJ2xpZ2h0Z3JlZW4nO30pOyAvLyBJZiBtaXhlZCBjaGVjayBpZiBuZWdhdGl2ZSBvciBub3QgaWYgbm90IG1peGVkIGp1c3QgbGlnaHRncmVlblxyXG5cclxuXHJcbiAgICBiYXJHcmFwaC5zdmcuc2VsZWN0KFwiI2Jhci10aXRsZVwiKS50ZXh0KGVkYik7IC8vIFVwZGF0ZSB0aGUgdGl0bGVcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBzaG93QmFyV2l0aFJvd0VsZW06IHNob3dCYXJXaXRoUm93RWxlbSxcclxuICAgIGNyZWF0ZUJhckdyYXBoIDogY3JlYXRlQmFyR3JhcGhcclxuICB9XHJcbn0pKCk7XHJcbiIsInZhciBHcm91cGVkQmFyTW9kdWxlID0gKGZ1bmN0aW9uKCl7XHJcblxyXG4gIC8vICBNYXJnaW5zIGFuZCB3aWR0aCAvIGhlaWdodCBmb3IgdGhlIGdyYXBoXHJcbiAgdmFyIG1hcmdpbiA9IHsgdG9wOiAyNSwgcmlnaHQ6IDg1LCBib3R0b206IDE1MCwgbGVmdDogODAgfSxcclxuICAgIHdpZHRoID0gMTIwMCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LFxyXG4gICAgaGVpZ2h0ID0gNzUwIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XHJcblxyXG4gIC8vIFRoZSBhcnJheSB0aGF0IGhvbGRzIHRoZSBHcm91cGVkQmFyRGF0YSBvYmplY3RzIGZvciBldmVyeSBncmFwaCBvbiB0aGUgcGFnZVxyXG4gIHZhciBiYXJHcmFwaHMgPSBbXTtcclxuXHJcbiAgLy8gQW4gb2JqZWN0IHRvIGhvbGQgZGF0YSBmb3IgZWFjaCBncm91cGVkIGJhciBncmFwaFxyXG4gIGZ1bmN0aW9uIEdyb3VwZWRCYXJEYXRhKHgwLCB4MSx5LHlBeGlzLHN2ZyxpZCl7XHJcbiAgICB0aGlzLngwID0geDA7XHJcbiAgICB0aGlzLngxID0geDE7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy55QXhpcyA9IHlBeGlzO1xyXG4gICAgdGhpcy5zdmcgPSBzdmc7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB0aGlzLmNyZWF0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuZyA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvLyBCbHVlIGNvbG9yIHNjYWxlXHJcbiAgdmFyIHogPSBkMy5zY2FsZU9yZGluYWwoKS5yYW5nZShbXCIjQkJERUZCXCIsIFwiIzY0QjVGNlwiLCBcIiMxOTc2RDJcIiwgXCIjMTU2NUMwXCIsIFwiIzBENDdBMVwiLCBcIiNkMDc0M2NcIiwgXCIjZmY4YzAwXCJdKTtcclxuXHJcbiAgLy8gUmVkIGNvbG9yIHNjYWxlIGZvciBuZWdhdGl2ZSB2YWx1ZXNcclxuICB2YXIgelJlZCA9IGQzLnNjYWxlT3JkaW5hbCgpLnJhbmdlKFtcIiNGRjczNzNcIiwgXCIjRkY0QzRDXCIsIFwiI0ZGMjYyNlwiLCBcIiNCMjAwMDBcIiwgXCIjRDkwMDAwXCIsIFwiI2QwNzQzY1wiLCBcIiNmZjhjMDBcIl0pO1xyXG5cclxuICAvLyBHcmVlbiBjb2xvciBzY2FsZSBmb3Igc2VsZWN0ZWQgdmFsdWVzXHJcbiAgdmFyIHpTZWxlY3RlZCA9IGQzLnNjYWxlT3JkaW5hbCgpLnJhbmdlKFtcIiNDMUZGQzFcIiwgXCIjOTBFRTkwXCIsIFwiIzVCQzg1QlwiLCBcIiMzMUEyMzFcIiwgXCIjMTM3QjEzXCIsIFwiI2QwNzQzY1wiLCBcIiNmZjhjMDBcIl0pO1xyXG5cclxuICAvLyBIaWdobGlnaHRzIGVhY2ggYmFyIHRoYXQgY29ycm9zcG9uZHMgdG8gdGhlIEVEQi4gSWYgYWxyZWFkeVNlbGVjdGVkLCBub3RoaW5nIHNob3VsZCBiZSBoaWdobGlnaHRlZCB0aGVyZWZvcmUgdGhlIG5vcm1hbCBzY2FsZSBpcyBhcHBsaWVkXHJcbnZhciBoaWdobGlnaHQgPSBmdW5jdGlvbiAoZWRiLCBhbHJlYWR5U2VsZWN0ZWQpIHtcclxuICAgIC8vIEJlZm9yZSB3ZSByZW1vdmUgdGhlIGNsYXNzIHdlIG5lZWQgdG8gYXBwbHkgdGhlIGNvcnJlY3QgY29sb3Igc2NhbGVcclxuICAgIGQzLnNlbGVjdEFsbChcIi5iYXItc2VsZWN0ZWRcIikuZGF0dW0oZnVuY3Rpb24oZCkge3JldHVybiBkOyB9KVxyXG4gICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24oZCkge3JldHVybiB6KGQua2V5KTsgfSk7XHJcblxyXG4gICAgLy8gU2VsZWN0IGFsbCByZWN0YW5nbGUgd2l0aCB0aGUgc2VsZWN0ZWQgY2xhc3MgYW5kIHJlbW92ZSBjbGFzc1xyXG4gICAgZDMuc2VsZWN0QWxsKFwiLmJhci1zZWxlY3RlZFwiKS5jbGFzc2VkKFwiYmFyLXNlbGVjdGVkXCIsIGZhbHNlKTtcclxuXHJcbiAgICBpZihhbHJlYWR5U2VsZWN0ZWQpe3JldHVybjt9IC8vIFRoZSBjYXNlIHdoZXJlIHRoZSByb3cgaXMgdW5zZWxlY3RlZCBidXQgbm90aGluZyBlbHNlIGlzIHNlbGVjdGVkXHJcblxyXG4gICAgZDMuc2VsZWN0QWxsKFwicmVjdC5cIitlZGIucmVwbGFjZSgvIC9nICwgXCJcIikpXHJcbiAgICAgIC5jbGFzc2VkKFwiYmFyLXNlbGVjdGVkXCIsIHRydWUpIC8vIFNlbGVjdCBhbGwgcmVjdGFuZ2xlIHdpdGggdGhlIGNvcnJlY3QgRURCIGFuZCBvdXRsaW5lIGJhcnMgYW5kIGFkZCBzZWxlY3RlZCBjbGFzc1xyXG4gICAgICAuZGF0dW0oZnVuY3Rpb24oZCkge3JldHVybiBkOyB9KSAvLyBHcmFiIHRoZSBkYXRhIGJvdW5kIHRvIHRoZSBlbGVtZW50c1xyXG4gICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24oZCkge3JldHVybiB6U2VsZWN0ZWQoZC5rZXkpOyB9KTsgLy8gQXBwbHkgdGhlIGdyZWVuIGNvbG9yIHNjYWxlIGJhc2VkIG9uIHRoZSBrZXlcclxufVxyXG5cclxuXHJcbi8vIE9ubHkgcHVibGljIGZ1bmN0aW9uIHVzZWQgdG8gcGxhY2Ugb3IgdXBkYXRlIGEgZ3JhcGggb24gdGhlIHBhZ2VcclxudmFyIGNyZWF0ZWRHcm91cGVkQmFyR3JhcGggPSBmdW5jdGlvbiAoZGF0YSxrZXlzLHlMYWJlbCwgZGl2SUQpIHtcclxuICBmb3IodmFyIGkgPSAwOyBpIDwgYmFyR3JhcGhzLmxlbmd0aDsgaSsrKXtcclxuICAgIGlmKGJhckdyYXBoc1tpXS5pZCA9PT0gZGl2SUQpe1xyXG4gICAgICB1cGRhdGVFeGlzdGluZ0dyYXBoKGRhdGEsIGtleXMsIGJhckdyYXBoc1tpXSwgeUxhYmVsKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gIH1cclxuICBjcmVhdGVOZXdHcm91cGVkQmFyR3JhcGgoZGF0YSwga2V5cywgeUxhYmVsLCBkaXZJRCk7IC8vIE5vIGdyYXBoIGV4aXN0cyBzbyBtYWtlIGEgbmV3IG9uZVxyXG59XHJcblxyXG5cclxuLy8gQ3JlYXRlcyBhIGJyYW5kIG5ldyBncm91cGVkIGJhciBncmFwaFxyXG52YXIgY3JlYXRlTmV3R3JvdXBlZEJhckdyYXBoID0gZnVuY3Rpb24gKGRhdGEsIGtleXMsIHlMYWJlbCwgZGl2SUQpIHtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIG5ldyBncmFwaCBvYmplY3RcclxuICAgIHZhciBjdXJCYXJHcmFwaCA9IG5ldyBHcm91cGVkQmFyRGF0YShcclxuICAgICAgICBkMy5zY2FsZUJhbmQoKS5yYW5nZVJvdW5kKFswLCB3aWR0aF0pLnBhZGRpbmdJbm5lcigwLjA1KSxcclxuICAgICAgICBkMy5zY2FsZUJhbmQoKS5wYWRkaW5nKDAuMDUpLFxyXG4gICAgICAgIGQzLnNjYWxlTGluZWFyKCkucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSksXHJcbiAgICAgICAgZDMuYXhpc0xlZnQoKSxcclxuICAgICAgICBkMy5heGlzQm90dG9tKCksXHJcbiAgICAgICAgZGl2SUQpO1xyXG5cclxuICAgYmFyR3JhcGhzLnB1c2goY3VyQmFyR3JhcGgpO1xyXG5cclxuICAgY3VyQmFyR3JhcGguc3ZnID0gIGQzLnNlbGVjdChkaXZJRCkuYXBwZW5kKFwic3ZnXCIpXHJcbiAgICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXHJcbiAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcclxuICAgICAgICAgICAgIC5hcHBlbmQoXCJnXCIpIC8vIGdyb3VwIGFsbG93cyB1cyB0byBtb3ZlIGV2ZXJ5dGhpbmcgdG9nZXRoZXJcclxuICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTsgLy8gbW92ZXMgYnkgYSB4IGFuZCB5IHZhbHVlIGluIHRoaXMgY2FzZSB0aGUgbWFyZ2luc1xyXG5cclxuICAgIGN1ckJhckdyYXBoLngwLmRvbWFpbihkYXRhLm1hcChmdW5jdGlvbihkKSB7IHJldHVybiBkLmVkYjsgfSkpO1xyXG4gICAgY3VyQmFyR3JhcGgueDEuZG9tYWluKGtleXMpLnJhbmdlUm91bmQoWzAsIGN1ckJhckdyYXBoLngwLmJhbmR3aWR0aCgpXSk7XHJcbiAgICBjdXJCYXJHcmFwaC55LmRvbWFpbihbMCwgZDMubWF4KGRhdGEsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQzLm1heChrZXlzLCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIE1hdGguYWJzKGRba2V5XSk7IH0pOyB9KV0pLm5pY2UoKTtcclxuXHJcblxyXG4gICAgLy8gVGhlIGZvcm1hdCB1c2VkIG9uIHRoZSB0aXAgdmFsdWVzXHJcbiAgICB2YXIgZHBGb3JtYXQgPSBkMy5mb3JtYXQoXCIuMmZcIik7XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSB0aXAgdGhhdCB3aWxsIHNob3cgdXAgb24gaG92ZXJcclxuICAgIHZhciB0aXAgPSBkMy50aXAoKVxyXG4gICAgICAuYXR0cignY2xhc3MnLCAnZDMtdGlwJylcclxuICAgICAgLm9mZnNldChbLTEwLCAwXSlcclxuICAgICAgLmh0bWwoZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIHJldHVybiBcIjxzdHJvbmc+VmFsdWU6PC9zdHJvbmc+IDxzcGFuIHN0eWxlPSdjb2xvcjpsaWdodGdyZWVuJz5cIiArIGRwRm9ybWF0KGQudmFsdWUpICsgXCI8L3NwYW4+PGJyPjxicj48c3Ryb25nPlllYXI6PC9zdHJvbmc+IDxzcGFuIHN0eWxlPSdjb2xvcjpsaWdodGdyZWVuJz5cIiArIGQua2V5ICsgXCI8L3NwYW4+XCI7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjdXJCYXJHcmFwaC5zdmcuY2FsbCh0aXApO1xyXG5cclxuICAgICAgY3VyQmFyR3JhcGguc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAuc2VsZWN0QWxsKFwiZ1wiKVxyXG4gICAgICAgIC5kYXRhKGRhdGEpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgY3VyQmFyR3JhcGgueDAoZC5lZGIpICsgXCIsMClcIjsgfSlcclxuICAgICAgICAuc2VsZWN0QWxsKFwicmVjdFwiKVxyXG4gICAgICAgIC5kYXRhKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGtleXMubWFwKGZ1bmN0aW9uKGtleSkgeyByZXR1cm4ge25lZyA6IGRba2V5XSA8IDAsa2V5OiBrZXksIGVkYiA6IGQuZWRiLCB2YWx1ZTogTWF0aC5hYnMoZFtrZXldKX07IH0pOyB9KVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcclxuICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gY3VyQmFyR3JhcGgueDEoZC5rZXkpOyB9KVxyXG4gICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBjdXJCYXJHcmFwaC55KGQudmFsdWUpOyB9KVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgY3VyQmFyR3JhcGgueDEuYmFuZHdpZHRoKCkpXHJcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gaGVpZ2h0IC0gY3VyQmFyR3JhcGgueShkLnZhbHVlKTsgfSlcclxuICAgICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24oZCkgeyBpZihkLm5lZyl7XHJcbiAgICAgICAgICByZXR1cm4gelJlZChkLmtleSk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHooZC5rZXkpO1xyXG4gICAgICAgIH19KVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihkKXtyZXR1cm4gXCIgXCIrZC5lZGIucmVwbGFjZSgvIC9nICwgXCJcIik7fSkgLy8gQWRkIGViZCBhcyB0aGUgY2xhc3NcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIHRpcC5zaG93KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCB0aXAuaGlkZSk7XHJcblxyXG4gICAgLy8gQWRkIHggYXhpc1xyXG4gICAgY3VyQmFyR3JhcGguc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInhBeGlzIGF4aXNcIilcclxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxyXG4gICAgICAuY2FsbChkMy5heGlzQm90dG9tKGN1ckJhckdyYXBoLngwKSlcclxuICAgICAgLnNlbGVjdEFsbChcInRleHRcIilcclxuICAgICAgLmF0dHIoXCJ5XCIsIDApXHJcbiAgICAgIC5hdHRyKFwieFwiLCA5KVxyXG4gICAgICAuYXR0cihcImR5XCIsIFwiLjQwZW1cIilcclxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImF4aXMtdGV4dC1zY2FsZWRcIilcclxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNTUpXCIpXHJcbiAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XHJcblxyXG4gICAgY3VyQmFyR3JhcGguc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieUF4aXMgYXhpc1wiKVxyXG4gICAgICAgIC5jYWxsKGN1ckJhckdyYXBoLnlBeGlzLnNjYWxlKGN1ckJhckdyYXBoLnkpKS8vLnRpY2tzKG51bGwsIFwic1wiKVxyXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDIpXHJcbiAgICAgICAgLmF0dHIoXCJ5XCIsIGN1ckJhckdyYXBoLnkoY3VyQmFyR3JhcGgueS50aWNrcygpLnBvcCgpKSArIDAuNSlcclxuICAgICAgICAuYXR0cihcImR5XCIsIFwiMC40MGVtXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImF4aXMtdGV4dC1zY2FsZWRcIilcclxuICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIilcclxuXHJcblxyXG4gICAgY3VyQmFyR3JhcGguc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKSAgLy8gdGhpcyBtYWtlcyBpdCBlYXN5IHRvIGNlbnRyZSB0aGUgdGV4dCBhcyB0aGUgdHJhbnNmb3JtIGlzIGFwcGxpZWQgdG8gdGhlIGFuY2hvclxyXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIisgLShtYXJnaW4ubGVmdC8yKSArXCIsXCIrKGhlaWdodC8yKStcIilyb3RhdGUoLTkwKVwiKSAgLy8gdGV4dCBpcyBkcmF3biBvZmYgdGhlIHNjcmVlbiB0b3AgbGVmdCwgbW92ZSBkb3duIGFuZCBvdXQgYW5kIHJvdGF0ZVxyXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwidW5pdC10ZXh0LXNjYWxlZFwiKVxyXG4gICAgICAudGV4dCh5TGFiZWwpO1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgbGVnZW5kXHJcbiAgICB2YXIgbGVnZW5kID0gY3VyQmFyR3JhcGguc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgLmF0dHIoXCJmb250LWZhbWlseVwiLCBcInNhbnMtc2VyaWZcIilcclxuICAgICAgLmF0dHIoXCJmb250LXNpemVcIiwgOClcclxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxyXG4gICAgICAuc2VsZWN0QWxsKFwiZ1wiKVxyXG4gICAgICAuZGF0YShrZXlzLnNsaWNlKCkucmV2ZXJzZSgpKVxyXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXHJcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIFwidHJhbnNsYXRlKDAsXCIgKyBpICogMTAgKyBcIilcIjsgfSk7XHJcblxyXG4gICAgbGVnZW5kLmFwcGVuZChcInJlY3RcIilcclxuICAgICAgLmF0dHIoXCJ4XCIsIHdpZHRoIC0gMTAwKVxyXG4gICAgICAuYXR0cihcIndpZHRoXCIsIDguNSlcclxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgOC41KVxyXG4gICAgICAuYXR0cihcImZpbGxcIiwgeik7XHJcblxyXG4gICAgbGVnZW5kLmFwcGVuZChcInRleHRcIilcclxuICAgICAgLmF0dHIoXCJ4XCIsIHdpZHRoIC0gMTEwKVxyXG4gICAgICAuYXR0cihcInlcIiwgNClcclxuICAgICAgLmF0dHIoXCJkeVwiLCBcIjAuMzJlbVwiKVxyXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiZy10ZXh0XCIpXHJcbiAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjhweFwiKVxyXG4gICAgICAudGV4dChmdW5jdGlvbihkKSB7IHJldHVybiBkOyB9KTtcclxuXHJcbiAgICBjdXJCYXJHcmFwaC5jcmVhdGVkID0gdHJ1ZTsgLy8gU2V0IHRoZSBncmFwaCB3aXRoIHRoZSBJRCBkaXZJRCB0byBjcmVhdGVkXHJcbn1cclxuXHJcbnZhciB1cGRhdGVFeGlzdGluZ0dyYXBoID0gZnVuY3Rpb24gKGRhdGEsIGtleXMsIGN1ckJhckdyYXBoLCB5TGFiZWwpIHtcclxuXHJcbiAgICBjdXJCYXJHcmFwaC55LmRvbWFpbihbMCwgZDMubWF4KGRhdGEsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQzLm1heChrZXlzLCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIE1hdGguYWJzKGRba2V5XSk7IH0pOyB9KV0pLm5pY2UoKTtcclxuXHJcbiAgICBjdXJCYXJHcmFwaC55QXhpcy5zY2FsZShjdXJCYXJHcmFwaC55KTtcclxuXHJcbiAgICAgICAgLyogWSBheGlzICovXHJcbiAgICBjdXJCYXJHcmFwaC5zdmcuc2VsZWN0KFwiLnlBeGlzXCIpLnJlbW92ZSgpO1xyXG4gICAgY3VyQmFyR3JhcGguc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieUF4aXMgYXhpc1wiKVxyXG4gICAgICAgIC5jYWxsKGN1ckJhckdyYXBoLnlBeGlzKTtcclxuXHJcblxyXG5cclxuICAgIC8vIFRoZSBmb3JtYXQgdXNlZCBvbiB0aGUgdGlwIHZhbHVlc1xyXG4gICAgdmFyIGRwRm9ybWF0ID0gZDMuZm9ybWF0KFwiLjJmXCIpO1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgdGlwIHRoYXQgd2lsbCBzaG93IHVwIG9uIGhvdmVyXHJcbiAgICB2YXIgdGlwID0gZDMudGlwKClcclxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2QzLXRpcCcpXHJcbiAgICAgIC5vZmZzZXQoWy0xMCwgMF0pXHJcbiAgICAgIC5odG1sKGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICByZXR1cm4gXCI8c3Ryb25nPlZhbHVlOjwvc3Ryb25nPiA8c3BhbiBzdHlsZT0nY29sb3I6bGlnaHRncmVlbic+XCIgKyBkcEZvcm1hdChkLnZhbHVlKSArIFwiPC9zcGFuPjxicj48YnI+PHN0cm9uZz5ZZWFyOjwvc3Ryb25nPiA8c3BhbiBzdHlsZT0nY29sb3I6bGlnaHRncmVlbic+XCIgKyBkLmtleSArIFwiPC9zcGFuPlwiO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBjdXJCYXJHcmFwaC5zdmcuY2FsbCh0aXApO1xyXG5cclxuICAgIHZhciBzZWxlY3Rpb24gPSBjdXJCYXJHcmFwaC5zdmcuc2VsZWN0QWxsKFwiLmJhclwiKS5yZW1vdmUoKTtcclxuXHJcblxyXG4gICAgY3VyQmFyR3JhcGguc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAuc2VsZWN0QWxsKFwiZ1wiKVxyXG4gICAgICAgIC5kYXRhKGRhdGEpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgY3VyQmFyR3JhcGgueDAoZC5lZGIpICsgXCIsMClcIjsgfSlcclxuICAgICAgICAuc2VsZWN0QWxsKFwicmVjdFwiKVxyXG4gICAgICAgIC5kYXRhKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGtleXMubWFwKGZ1bmN0aW9uKGtleSkgeyByZXR1cm4ge25lZyA6IGRba2V5XSA8IDAsa2V5OiBrZXksIGVkYiA6IGQuZWRiLCB2YWx1ZTogTWF0aC5hYnMoZFtrZXldKX07IH0pOyB9KVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcclxuICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gY3VyQmFyR3JhcGgueDEoZC5rZXkpOyB9KVxyXG4gICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBjdXJCYXJHcmFwaC55KGQudmFsdWUpOyB9KVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIixcImJhclwiKVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgY3VyQmFyR3JhcGgueDEuYmFuZHdpZHRoKCkpXHJcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gaGVpZ2h0IC0gY3VyQmFyR3JhcGgueShkLnZhbHVlKTsgfSlcclxuICAgICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24oZCkgeyBpZihkLm5lZyl7XHJcbiAgICAgICAgICByZXR1cm4gelJlZChkLmtleSk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHooZC5rZXkpO1xyXG4gICAgICAgIH19KVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihkKXtyZXR1cm4gXCJcIitkLmVkYi5yZXBsYWNlKC8gL2cgLCBcIlwiKTt9ICkgLy8gQWRkIGViZCBhcyB0aGUgY2xhc3NcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIHRpcC5zaG93KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCB0aXAuaGlkZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGxlZ2VuZFxyXG4gICAgdmFyIGxlZ2VuZCA9IGN1ckJhckdyYXBoLnN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgIC5hdHRyKFwiZm9udC1mYW1pbHlcIiwgXCJzYW5zLXNlcmlmXCIpXHJcbiAgICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIDgpXHJcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcclxuICAgICAgLnNlbGVjdEFsbChcImdcIilcclxuICAgICAgLmRhdGEoa2V5cy5zbGljZSgpLnJldmVyc2UoKSlcclxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiBcInRyYW5zbGF0ZSgwLFwiICsgaSAqIDEwICsgXCIpXCI7IH0pO1xyXG5cclxuICAgIGxlZ2VuZC5hcHBlbmQoXCJyZWN0XCIpXHJcbiAgICAgIC5hdHRyKFwieFwiLCB3aWR0aCAtIDEwMClcclxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCA4LjUpXHJcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIDguNSlcclxuICAgICAgLmF0dHIoXCJmaWxsXCIsIHopO1xyXG5cclxufVxyXG4gIHJldHVybiB7XHJcbiAgICBoaWdobGlnaHQgOiBoaWdobGlnaHQsXHJcbiAgICBjcmVhdGVkR3JvdXBlZEJhckdyYXBoIDogY3JlYXRlZEdyb3VwZWRCYXJHcmFwaFxyXG4gIH1cclxufSkoKTtcclxuIiwiLy8gUmVxdWlyZWQgdG8gbGluZSB1cCBzY2F0dGVyIHBsb3QgZG90c1xyXG52YXIgd2hpc2tCb3hXaWR0aCA9IDE7XHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG4vLyBJbnNwaXJlZCBieSBodHRwOi8vaW5mb3JtYXRpb25hbmR2aXN1YWxpemF0aW9uLmRlL2Jsb2cvYm94LXBsb3RcclxuICAgIGQzLmJveCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgaGVpZ2h0ID0gMSxcclxuICAgICAgICAgICAgZHVyYXRpb24gPSAwLFxyXG4gICAgICAgICAgICBkb21haW4gPSBudWxsLFxyXG4gICAgICAgICAgICB2YWx1ZSA9IE51bWJlcixcclxuICAgICAgICAgICAgd2hpc2tlcnMgPSBib3hXaGlza2VycyxcclxuICAgICAgICAgICAgcXVhcnRpbGVzID0gYm94UXVhcnRpbGVzLFxyXG4gICAgICAgICAgICBzaG93TGFiZWxzID0gdHJ1ZSwgLy8gd2hldGhlciBvciBub3QgdG8gc2hvdyB0ZXh0IGxhYmVsc1xyXG4gICAgICAgICAgICBudW1CYXJzID0gNCxcclxuICAgICAgICAgICAgY3VyQmFyID0gMSxcclxuICAgICAgICAgICAgdGlja0Zvcm1hdCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIEZvciBlYWNoIHNtYWxsIG11bHRpcGxl4oCmXHJcbiAgICAgICAgZnVuY3Rpb24gYm94KGcpIHtcclxuICAgICAgICAgICAgZy5lYWNoKGZ1bmN0aW9uKGRhdGEsIGkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkID0gZGF0YVsxXS5zb3J0KGQzLmFzY2VuZGluZyk7IC8vIFNvcnRzIG9uIG9mIHRoZSBudW1iZXJzIGFycmF5c1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBnID0gZDMuc2VsZWN0KHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIG4gPSBkLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBkWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGRbbiAtIDFdO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIHF1YXJ0aWxlcy4gTXVzdCByZXR1cm4gZXhhY3RseSAzIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICAgICAgdmFyIHF1YXJ0aWxlRGF0YSA9IGQucXVhcnRpbGVzID0gcXVhcnRpbGVzKGQpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgd2hpc2tlcnMuIE11c3QgcmV0dXJuIGV4YWN0bHkgMiBlbGVtZW50cywgb3IgbnVsbC5cclxuICAgICAgICAgICAgICAgIHZhciB3aGlza2VySW5kaWNlcyA9IHdoaXNrZXJzICYmIHdoaXNrZXJzLmNhbGwodGhpcywgZCwgaSksXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpc2tlckRhdGEgPSB3aGlza2VySW5kaWNlcyAmJiB3aGlza2VySW5kaWNlcy5tYXAoZnVuY3Rpb24oaSkgeyByZXR1cm4gZFtpXTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBvdXRsaWVycy4gSWYgbm8gd2hpc2tlcnMgYXJlIHNwZWNpZmllZCwgYWxsIGRhdGEgYXJlIFwib3V0bGllcnNcIi5cclxuICAgICAgICAgICAgICAgIC8vIFdlIGNvbXB1dGUgdGhlIG91dGxpZXJzIGFzIGluZGljZXMsIHNvIHRoYXQgd2UgY2FuIGpvaW4gYWNyb3NzIHRyYW5zaXRpb25zIVxyXG4gICAgICAgICAgICAgICAgdmFyIG91dGxpZXJJbmRpY2VzID0gd2hpc2tlckluZGljZXNcclxuICAgICAgICAgICAgICAgICAgICA/IGQzLnJhbmdlKDAsIHdoaXNrZXJJbmRpY2VzWzBdKS5jb25jYXQoZDMucmFuZ2Uod2hpc2tlckluZGljZXNbMV0gKyAxLCBuKSlcclxuICAgICAgICAgICAgICAgICAgICA6IGQzLnJhbmdlKG4pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIHRoZSBuZXcgeC1zY2FsZS5cclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAgICAgICAgICAgICAuZG9tYWluKGRvbWFpbiAmJiBkb21haW4uY2FsbCh0aGlzLCBkLCBpKSB8fCBbbWluLCBtYXhdKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yYW5nZShbaGVpZ2h0LCAwXSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJldHJpZXZlIHRoZSBvbGQgeC1zY2FsZSwgaWYgdGhpcyBpcyBhbiB1cGRhdGUuXHJcbiAgICAgICAgICAgICAgICB2YXIgeDAgPSB0aGlzLl9fY2hhcnRfXyB8fCBkMy5zY2FsZUxpbmVhcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kb21haW4oWzAsIEluZmluaXR5XSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLmRvbWFpbihbMCwgbWF4XSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJhbmdlKHgxLnJhbmdlKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN0YXNoIHRoZSBuZXcgc2NhbGUuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9fY2hhcnRfXyA9IHgxO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IHRoZSBib3gsIG1lZGlhbiwgYW5kIGJveCB0aWNrIGVsZW1lbnRzIGFyZSBmaXhlZCBpbiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAvLyBzbyB3ZSBvbmx5IGhhdmUgdG8gaGFuZGxlIGVudGVyIGFuZCB1cGRhdGUuIEluIGNvbnRyYXN0LCB0aGUgb3V0bGllcnNcclxuICAgICAgICAgICAgICAgIC8vIGFuZCBvdGhlciBlbGVtZW50cyBhcmUgdmFyaWFibGUsIHNvIHdlIG5lZWQgdG8gZXhpdCB0aGVtISBWYXJpYWJsZVxyXG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudHMgYWxzbyBmYWRlIGluIGFuZCBvdXQuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNlbnRlciBsaW5lOiB0aGUgdmVydGljYWwgbGluZSBzcGFubmluZyB0aGUgd2hpc2tlcnMuXHJcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gZy5zZWxlY3RBbGwoXCJsaW5lLmNlbnRlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHdoaXNrZXJEYXRhID8gW3doaXNrZXJEYXRhXSA6IFtdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3ZlcnRpY2FsIGxpbmVcclxuICAgICAgICAgICAgICAgIGNlbnRlci5lbnRlcigpLmluc2VydChcImxpbmVcIiwgXCJyZWN0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImNlbnRlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieDFcIiwgd2hpc2tCb3hXaWR0aCAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MChkWzBdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcIngyXCIsIHdoaXNrQm94V2lkdGggLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geDAoZFsxXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MShkWzFdKTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2VudGVyLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MShkWzBdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkyXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjZW50ZXIuZXhpdCgpLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MShkWzBdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkyXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgaW5uZXJxdWFydGlsZSBib3guXHJcbiAgICAgICAgICAgICAgICB2YXIgYm94ID0gZy5zZWxlY3RBbGwoXCJyZWN0LmJveFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKFtxdWFydGlsZURhdGFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICBib3guZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJveFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIHgwKGRbMl0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2hpc2tCb3hXaWR0aClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MChkWzBdKSAtIHgwKGRbMl0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgxKGRbMl0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgxKGRbMF0pIC0geDEoZFsyXSk7IH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGJveC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgxKGRbMl0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgxKGRbMF0pIC0geDEoZFsyXSk7IH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBtZWRpYW4gbGluZS5cclxuICAgICAgICAgICAgICAgIHZhciBtZWRpYW5MaW5lID0gZy5zZWxlY3RBbGwoXCJsaW5lLm1lZGlhblwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKFtxdWFydGlsZURhdGFbMV1dKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgbWVkaWFuTGluZS5lbnRlcigpLmFwcGVuZChcImxpbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibWVkaWFuXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4MVwiLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCB3aGlza0JveFdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkxXCIsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgeDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIG1lZGlhbkxpbmUudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCB4MSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHdoaXNrZXJzLlxyXG4gICAgICAgICAgICAgICAgdmFyIHdoaXNrZXIgPSBnLnNlbGVjdEFsbChcImxpbmUud2hpc2tlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHdoaXNrZXJEYXRhIHx8IFtdKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgd2hpc2tlci5lbnRlcigpLmluc2VydChcImxpbmVcIiwgXCJjaXJjbGUsIHRleHRcIilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwid2hpc2tlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieDFcIiwgMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkxXCIsIHgwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieDJcIiwgMCArIHdoaXNrQm94V2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkxXCIsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkxXCIsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkyXCIsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIG91dGxpZXJzLlxyXG4gICAgICAgICAgICAgICAgdmFyIG91dGxpZXIgPSBnLnNlbGVjdEFsbChcImNpcmNsZS5vdXRsaWVyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEob3V0bGllckluZGljZXMsIE51bWJlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgb3V0bGllci5lbnRlcigpLmluc2VydChcImNpcmNsZVwiLCBcInRleHRcIilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwib3V0bGllclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiclwiLCAyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY3hcIiwgd2hpc2tCb3hXaWR0aCAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjeVwiLCBmdW5jdGlvbihpKSB7IHJldHVybiB4MChkW2ldKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImN5XCIsIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIHgxKGRbaV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgb3V0bGllci50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjeVwiLCBmdW5jdGlvbihpKSB7IHJldHVybiB4MShkW2ldKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIG91dGxpZXIuZXhpdCgpLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImN5XCIsIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIHgxKGRbaV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgdGljayBmb3JtYXQuXHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybWF0ID0gdGlja0Zvcm1hdCB8fCB4MS50aWNrRm9ybWF0KDgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBib3ggdGlja3MuXHJcbiAgICAgICAgICAgICAgICB2YXIgYm94VGljayA9IGcuc2VsZWN0QWxsKFwidGV4dC5ib3hcIilcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShxdWFydGlsZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYoc2hvd0xhYmVscyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94VGljay5lbnRlcigpLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJveFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjNlbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR4XCIsIGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIGkgJiAxID8gNiA6IC02IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiBpICYgMSA/ICArIHdoaXNrQm94V2lkdGggOiAwIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiBpICYgMSA/IFwic3RhcnRcIiA6IFwiZW5kXCI7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KGZvcm1hdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCB4MSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYm94VGljay50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCB4MSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHdoaXNrZXIgdGlja3MuIFRoZXNlIGFyZSBoYW5kbGVkIHNlcGFyYXRlbHkgZnJvbSB0aGUgYm94XHJcbiAgICAgICAgICAgICAgICAvLyB0aWNrcyBiZWNhdXNlIHRoZXkgbWF5IG9yIG1heSBub3QgZXhpc3QsIGFuZCB3ZSB3YW50IGRvbid0IHdhbnRcclxuICAgICAgICAgICAgICAgIC8vIHRvIGpvaW4gYm94IHRpY2tzIHByZS10cmFuc2l0aW9uIHdpdGggd2hpc2tlciB0aWNrcyBwb3N0LS5cclxuICAgICAgICAgICAgICAgIHZhciB3aGlza2VyVGljayA9IGcuc2VsZWN0QWxsKFwidGV4dC53aGlza2VyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEod2hpc2tlckRhdGEgfHwgW10pO1xyXG4gICAgICAgICAgICAgICAgaWYoc2hvd0xhYmVscyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpc2tlclRpY2suZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ3aGlza2VyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuM2VtXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZHhcIiwgNilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIHdoaXNrQm94V2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3aGlza2VyVGljay50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaXNrZXJUaWNrLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkMy50aW1lckZsdXNoKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBib3gud2lkdGggPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHdoaXNrQm94V2lkdGg7XHJcbiAgICAgICAgICAgIHdoaXNrQm94V2lkdGggPSB4O1xyXG4gICAgICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGJveC5oZWlnaHQgPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICAgICAgaGVpZ2h0ID0geDtcclxuICAgICAgICAgICAgcmV0dXJuIGJveDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBib3gudGlja0Zvcm1hdCA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGlja0Zvcm1hdDtcclxuICAgICAgICAgICAgdGlja0Zvcm1hdCA9IHg7XHJcbiAgICAgICAgICAgIHJldHVybiBib3g7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYm94LmR1cmF0aW9uID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBkdXJhdGlvbjtcclxuICAgICAgICAgICAgZHVyYXRpb24gPSB4O1xyXG4gICAgICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGQzLmZ1bmN0b3IgPSBmdW5jdGlvbiBmdW5jdG9yKHYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcImZ1bmN0aW9uXCIgPyB2IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdjtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgYm94LmRvbWFpbiA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gZG9tYWluO1xyXG4gICAgICAgICAgICBkb21haW4gPSB4ID09PSBudWxsID8geCA6IGQzLmZ1bmN0b3IoeCk7XHJcbiAgICAgICAgICAgIHJldHVybiBib3g7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYm94LnZhbHVlID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgdmFsdWUgPSB4O1xyXG4gICAgICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGJveC53aGlza2VycyA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gd2hpc2tlcnM7XHJcbiAgICAgICAgICAgIHdoaXNrZXJzID0geDtcclxuICAgICAgICAgICAgcmV0dXJuIGJveDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBib3guc2hvd0xhYmVscyA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gc2hvd0xhYmVscztcclxuICAgICAgICAgICAgc2hvd0xhYmVscyA9IHg7XHJcbiAgICAgICAgICAgIHJldHVybiBib3g7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYm94LnF1YXJ0aWxlcyA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gcXVhcnRpbGVzO1xyXG4gICAgICAgICAgICBxdWFydGlsZXMgPSB4O1xyXG4gICAgICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBib3g7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGJveFdoaXNrZXJzKGQpIHtcclxuICAgICAgICByZXR1cm4gWzAsIGQubGVuZ3RoIC0gMV07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYm94UXVhcnRpbGVzKGQpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBkMy5xdWFudGlsZShkLCAuMjUpLFxyXG4gICAgICAgICAgICBkMy5xdWFudGlsZShkLCAuNSksXHJcbiAgICAgICAgICAgIGQzLnF1YW50aWxlKGQsIC43NSlcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxufSkoKTtcclxuIiwidmFyIEJveFBsb3RNb2R1bGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGxhYmVscyA9IGZhbHNlOyAvLyBzaG93IHRoZSB0ZXh0IGxhYmVscyBiZXNpZGUgaW5kaXZpZHVhbCBib3hwbG90cz9cclxuXHJcbi8vIE1hcmdpbnMgYW5kIGdyYXBoIHdpZHRoIC8gaGVpZ2h0XHJcbnZhciBib3hNYXJnaW4gPSB7dG9wOiAzMCwgcmlnaHQ6IDUwLCBib3R0b206IDEwMCwgbGVmdDogMTAwfSxcclxuICAgICBib3hXaWR0aCA9IDEyMDAgLSBib3hNYXJnaW4ubGVmdCAtIGJveE1hcmdpbi5yaWdodCxcclxuICAgICBib3hIZWlnaHQgPSA4MDAgIC0gYm94TWFyZ2luLnRvcCAgLSBib3hNYXJnaW4uYm90dG9tO1xyXG5cclxuXHJcbi8vIEVuY2Fwc3VsYXRlIGFsbCBwcm9wZXJ0aWVzIG9mIGdyYXBoXHJcbiAgICB2YXIgcGxvdHMgPSBbXTtcclxuXHJcbi8vIE9iamVjdCB0byBob2xkIHRoZSB2YWx1ZXMgZm9yIGVhY2ggaW5kaXZpZHVhbCBib3hwbG90XHJcbiAgICBmdW5jdGlvbiBCb3hQbG90RGF0YSh4LHkseEF4aXMseUF4aXMsc3ZnLGNoYXJ0LGNyZWF0ZWQsIGlkKXtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy54QXhpcyA9IHhBeGlzO1xyXG4gICAgICAgIHRoaXMueUF4aXMgPSB5QXhpcztcclxuICAgICAgICB0aGlzLnN2ZyA9IHN2ZztcclxuICAgICAgICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVkID0gY3JlYXRlZDtcclxuICAgICAgICB0aGlzLmlkID0gaWRcclxuICAgIH1cclxuXHJcblxyXG4vLyBDcmVhdGUgYSBib3ggcGxvdCBncmFwaCB3aXRoIHRoZSBkYXRhT2JqZWN0IGFuZCBwbGFjZSBpdCBpbiB0aGUgZGl2IHdpdGggZGl2SUQgdW5pdCBmb3IgdGhlIHRoZSB5IC0gYXhpc1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlQm94UGxvdChkYXRhT2JqZWN0LGRpdklELHVuaXQpe1xyXG4gICAgICAgIHZhciBib3hQbG90T2JqZWN0cyA9IG51bGw7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBkYXRhT2JqZWN0LmRhdGE7XHJcbiAgICAgICAgdmFyIG1pbiA9IGRhdGFPYmplY3QubWluO1xyXG4gICAgICAgIHZhciBtYXggPSBkYXRhT2JqZWN0Lm1heDtcclxuICAgICAgICB2YXIgc2NhdHRlckRhdGEgPSBkYXRhT2JqZWN0LnNjYXR0ZXJEYXRhO1xyXG5cclxuICAgICAgICAvLyBGaW5kIHRoZSBwbG90IHRoYXQgbmVlZHMgdG8gYmUgdXBkYXRlZCBvciBjcmVhdGVkXHJcbiAgICAgICAgcGxvdHMuZm9yRWFjaChmdW5jdGlvbiAocGxvdCkge1xyXG4gICAgICAgICAgICBpZihwbG90LmlkID09PSBkaXZJRCl7XHJcbiAgICAgICAgICAgICAgICBib3hQbG90T2JqZWN0cyA9IHBsb3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVGhlIGdyYXBoIGhhcyBub3QgYmVlbiBjcmVhdGVkIHlldFxyXG4gICAgICAgIGlmKGJveFBsb3RPYmplY3RzID09PSBudWxsKXtcclxuICAgICAgICAgICAgdmFyIHggPSBkMy5zY2FsZUJhbmQoKS5yYW5nZVJvdW5kKFswLCBib3hXaWR0aF0pLnBhZGRpbmcoMC43LDAuMyk7XHJcbiAgICAgICAgICAgIGJveFBsb3RPYmplY3RzID0gbmV3IEJveFBsb3REYXRhKHgsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLGZhbHNlLGRpdklEKTtcclxuICAgICAgICAgICAgcGxvdHMucHVzaChib3hQbG90T2JqZWN0cyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZDMuc2VsZWN0KGRpdklEKycgc3ZnJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB0aGUgeS1heGlzXHJcbiAgICAgICAgYm94UGxvdE9iamVjdHMueSA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAgIC5kb21haW4oW21pbiwgbWF4XSkubmljZSgpXHJcbiAgICAgICAgICAucmFuZ2UoW2JveEhlaWdodCArIGJveE1hcmdpbi50b3AsIDAgKyBib3hNYXJnaW4udG9wXSk7XHJcblxyXG4gICAgICAgIGJveFBsb3RPYmplY3RzLmNoYXJ0ID0gZDMuYm94KClcclxuICAgICAgICAgIC53aGlza2VycyhpcXIoMS41KSlcclxuICAgICAgICAgIC5oZWlnaHQoYm94SGVpZ2h0KVxyXG4gICAgICAgICAgLmRvbWFpbihib3hQbG90T2JqZWN0cy55LmRvbWFpbigpKVxyXG4gICAgICAgICAgLnNob3dMYWJlbHMobGFiZWxzKTtcclxuXHJcblxyXG4gICAgYm94UGxvdE9iamVjdHMuc3ZnID0gZDMuc2VsZWN0KGRpdklEKS5hcHBlbmQoXCJzdmdcIilcclxuICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgYm94V2lkdGggKyBib3hNYXJnaW4ubGVmdCArIGJveE1hcmdpbi5yaWdodClcclxuICAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGJveEhlaWdodCArIGJveE1hcmdpbi50b3AgKyBib3hNYXJnaW4uYm90dG9tKVxyXG4gICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJveFwiKVxyXG4gICAgICAgICAgICAgLmFwcGVuZChcImdcIilcclxuICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgYm94TWFyZ2luLmxlZnQgKyBcIixcIiArIGJveE1hcmdpbi50b3AgKyBcIilcIik7XHJcblxyXG4gICAgICAgIGJveFBsb3RPYmplY3RzLnguZG9tYWluKCBkYXRhLm1hcChmdW5jdGlvbihkKSB7cmV0dXJuIGRbMF0gfSApICk7XHJcbiAgICAgICAgYm94UGxvdE9iamVjdHMueEF4aXMgPSBkMy5heGlzQm90dG9tKGJveFBsb3RPYmplY3RzLngpO1xyXG4gICAgICAgIGJveFBsb3RPYmplY3RzLnlBeGlzID0gZDMuYXhpc0xlZnQoYm94UGxvdE9iamVjdHMueSk7XHJcblxyXG4gICAgICAgIGJveFBsb3RPYmplY3RzLnN2Zy5zZWxlY3RBbGwoXCIuYm94XCIpXHJcbiAgICAgICAgICAuZGF0YShkYXRhKVxyXG4gICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyAgYm94UGxvdE9iamVjdHMueChkWzBdKSAgKyBcIixcIiArIGJveE1hcmdpbi50b3AgKyBcIilcIjsgfSApXHJcbiAgICAgICAgICAuY2FsbChib3hQbG90T2JqZWN0cy5jaGFydC53aWR0aChib3hQbG90T2JqZWN0cy54LmJhbmR3aWR0aCgpKSk7IC8vVjQgVXBkYXRlZFxyXG5cclxuICAgICAgICAvLyBkcmF3IHRoZSBib3hwbG90c1xyXG4gICAgICAgIGJveFBsb3RPYmplY3RzLnN2Zy5zZWxlY3RBbGwoXCIuYm94XCIpXHJcbiAgICAgICAgICAuZGF0YShkYXRhKVxyXG4gICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyAgYm94UGxvdE9iamVjdHMueChkWzBdKSAgKyBcIixcIiArIGJveE1hcmdpbi50b3AgKyBcIilcIjsgfSApXHJcbiAgICAgICAgICAuY2FsbChib3hQbG90T2JqZWN0cy5jaGFydC53aWR0aChib3hQbG90T2JqZWN0cy54LmJhbmR3aWR0aCgpKSk7IC8vVjQgVXBkYXRlZFxyXG5cclxuICAgICAgICAvLyBUaGUgZm9ybWF0IHRvIGRpc3BsYXkgdGhlIHZhbHVlcyBpblxyXG4gICAgICAgIHZhciBkcEZvcm1hdCA9IGQzLmZvcm1hdChcIi4yZlwiKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSB0aXAgdG8gc2hvdyB1cCBvbiBob3ZlclxyXG4gICAgICAgIHZhciB0aXAgPSBkMy50aXAoKVxyXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2QzLXRpcCcpXHJcbiAgICAgICAgICAub2Zmc2V0KFstMTAsIDBdKVxyXG4gICAgICAgICAgLmh0bWwoZnVuY3Rpb24oZCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBcIjxzdHJvbmc+VmFsdWU6PC9zdHJvbmc+IDxzcGFuIHN0eWxlPSdjb2xvcjpsaWdodGdyZWVuJz5cIiArIGRwRm9ybWF0KGQudmFsdWUpICsgXCI8L3NwYW4+PGJyPjxicj48c3Ryb25nPkVEQjo8L3N0cm9uZz4gPHNwYW4gc3R5bGU9J2NvbG9yOmxpZ2h0Z3JlZW4nPlwiICsgZC5lZGIgKyBcIjwvc3Bhbj5cIjtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIGJveFBsb3RPYmplY3RzLnN2Zy5jYWxsKHRpcCk7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgZG90cyBmb3IgdGhlIHNjYXRlcnBsb3Qgb24gdG9wIG9mIHRoZSBib3ggYW5kIHdoaXNrZXJcclxuICAgICAgICBib3hQbG90T2JqZWN0cy5zdmcuc2VsZWN0QWxsKFwiLmRvdFwiKVxyXG4gICAgICAgICAgLmRhdGEoc2NhdHRlckRhdGEpXHJcbiAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJjaXJjbGVcIilcclxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihkKXtyZXR1cm4gXCJkb3QgXCIrZC5lZGIucmVwbGFjZSgvIC9nICwgXCJcIik7fSlcclxuICAgICAgICAgIC5hdHRyKFwiclwiLCA0KVxyXG4gICAgICAgICAgLmF0dHIoXCJjeFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBib3hQbG90T2JqZWN0cy54KGQueWVhcikgKyB3aGlza0JveFdpZHRoLzI7IH0pXHJcbiAgICAgICAgICAuYXR0cihcImN5XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGJveFBsb3RPYmplY3RzLnkoZC52YWx1ZSk7IH0pXHJcbiAgICAgICAgICAub24oJ21vdXNlb3ZlcicsIHRpcC5zaG93KVxyXG4gICAgICAgICAgLm9uKCdtb3VzZW91dCcsIHRpcC5oaWRlKTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyB5IGF4aXNcclxuICAgICAgICBib3hQbG90T2JqZWN0cy5zdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInkgYXhpc1wiKVxyXG4gICAgICAgICAgLmNhbGwoYm94UGxvdE9iamVjdHMueUF4aXMpXHJcbiAgICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoLTkwKVwiKVxyXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImF4aXMtdGV4dC1zY2FsZWRcIilcclxuICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpO1xyXG5cclxuICAgICAgICAvLyBkcmF3IHggYXhpc1xyXG4gICAgICAgIGJveFBsb3RPYmplY3RzLnN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXHJcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgKGJveEhlaWdodCArIGJveE1hcmdpbi50b3AgICsgMTApICsgXCIpXCIpXHJcbiAgICAgICAgICAuY2FsbChib3hQbG90T2JqZWN0cy54QXhpcylcclxuICAgICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpICAgICAgICAgICAgIC8vIHRleHQgbGFiZWwgZm9yIHRoZSB4IGF4aXNcclxuICAgICAgICAgIC5hdHRyKFwieFwiLCAoYm94V2lkdGggLyAyKSApXHJcbiAgICAgICAgICAuYXR0cihcInlcIiwgIDEwIClcclxuICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuNzFlbVwiKVxyXG4gICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcclxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJheGlzLXRleHQtc2NhbGVkXCIpO1xyXG5cclxuICAgICAgICAvLyBBZGQgdGhlIHkgYXhpcyB1bml0XHJcbiAgICAgICAgYm94UGxvdE9iamVjdHMuc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIikgIC8vIHRoaXMgbWFrZXMgaXQgZWFzeSB0byBjZW50cmUgdGhlIHRleHQgYXMgdGhlIHRyYW5zZm9ybSBpcyBhcHBsaWVkIHRvIHRoZSBhbmNob3JcclxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiKyAtKGJveE1hcmdpbi5sZWZ0LzItMTApICtcIixcIisoYm94SGVpZ2h0LzIpK1wiKXJvdGF0ZSgtOTApXCIpICAvLyB0ZXh0IGlzIGRyYXduIG9mZiB0aGUgc2NyZWVuIHRvcCBsZWZ0LCBtb3ZlIGRvd24gYW5kIG91dCBhbmQgcm90YXRlXHJcbiAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwidW5pdC10ZXh0LXNjYWxlZFwiKVxyXG4gICAgICAgICAgLnRleHQodW5pdCk7XHJcblxyXG4gICAgICAgIC8vIEFkZCB5ZWFyIGFzIHRoZSB4LWF4aXMgbGFiZWxcclxuICAgICAgICBib3hQbG90T2JqZWN0cy5zdmcuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKSAgLy8gdGhpcyBtYWtlcyBpdCBlYXN5IHRvIGNlbnRyZSB0aGUgdGV4dCBhcyB0aGUgdHJhbnNmb3JtIGlzIGFwcGxpZWQgdG8gdGhlIGFuY2hvclxyXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIrICsoYm94V2lkdGgvMikgK1wiLFwiKyggYm94TWFyZ2luLnRvcCArIDQwICsgYm94SGVpZ2h0KStcIilcIikgIC8vIHRleHQgaXMgZHJhd24gb2ZmIHRoZSBzY3JlZW4gdG9wIGxlZnQsIG1vdmUgZG93biBhbmQgb3V0IGFuZCByb3RhdGVcclxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ1bml0LXRleHQtc2NhbGVkXCIpXHJcbiAgICAgICAgICAudGV4dChcIlllYXJcIik7XHJcblxyXG4gICAgICAgIGJveFBsb3RPYmplY3RzLmNyZWF0ZWQgPSB0cnVlOyAvLyBTZXQgdGhlIHBsb3QgdG8gY3JlYXRlZCBmb3IgdGhlIElEXHJcbiAgICB9XHJcblxyXG5cclxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRvIGNvbXB1dGUgdGhlIGludGVycXVhcnRpbGUgcmFuZ2UuXHJcbiAgICBmdW5jdGlvbiBpcXIoaykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBxMSA9IGQucXVhcnRpbGVzWzBdLFxyXG4gICAgICAgICAgICAgIHEzID0gZC5xdWFydGlsZXNbMl0sXHJcbiAgICAgICAgICAgICAgaXFyID0gKHEzIC0gcTEpICogayxcclxuICAgICAgICAgICAgICBpID0gLTEsXHJcbiAgICAgICAgICAgICAgaiA9IGQubGVuZ3RoO1xyXG4gICAgICAgICAgICB3aGlsZSAoZFsrK2ldIDwgcTEgLSBpcXIpO1xyXG4gICAgICAgICAgICB3aGlsZSAoZFstLWpdID4gcTMgKyBpcXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gW2ksIGpdO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNyZWF0ZUJveFBsb3QgOiBjcmVhdGVCb3hQbG90XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8vIGQzLnRpcFxuLy8gQ29weXJpZ2h0IChjKSAyMDEzIEp1c3RpbiBQYWxtZXJcbi8vIEVTNiAvIEQzIHY0IEFkYXB0aW9uIENvcHlyaWdodCAoYykgMjAxNiBDb25zdGFudGluIEdhdnJpbGV0ZVxuLy8gUmVtb3ZhbCBvZiBFUzYgZm9yIEQzIHY0IEFkYXB0aW9uIENvcHlyaWdodCAoYykgMjAxNiBEYXZpZCBHb3R6XG4vL1xuLy8gVG9vbHRpcHMgZm9yIGQzLmpzIFNWRyB2aXN1YWxpemF0aW9uc1xuXG5kMy5mdW5jdG9yID0gZnVuY3Rpb24gZnVuY3Rvcih2KSB7XG4gIHJldHVybiB0eXBlb2YgdiA9PT0gXCJmdW5jdGlvblwiID8gdiA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2O1xuICB9O1xufTtcblxuZDMudGlwID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGRpcmVjdGlvbiA9IGQzX3RpcF9kaXJlY3Rpb24sXG4gICAgICBvZmZzZXQgICAgPSBkM190aXBfb2Zmc2V0LFxuICAgICAgaHRtbCAgICAgID0gZDNfdGlwX2h0bWwsXG4gICAgICBub2RlICAgICAgPSBpbml0Tm9kZSgpLFxuICAgICAgc3ZnICAgICAgID0gbnVsbCxcbiAgICAgIHBvaW50ICAgICA9IG51bGwsXG4gICAgICB0YXJnZXQgICAgPSBudWxsXG5cbiAgZnVuY3Rpb24gdGlwKHZpcykge1xuICAgIHN2ZyA9IGdldFNWR05vZGUodmlzKVxuICAgIHBvaW50ID0gc3ZnLmNyZWF0ZVNWR1BvaW50KClcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vZGUpXG4gIH1cblxuICAvLyBQdWJsaWMgLSBzaG93IHRoZSB0b29sdGlwIG9uIHRoZSBzY3JlZW5cbiAgLy9cbiAgLy8gUmV0dXJucyBhIHRpcFxuICB0aXAuc2hvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICAgIGlmKGFyZ3NbYXJncy5sZW5ndGggLSAxXSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHRhcmdldCA9IGFyZ3MucG9wKClcblxuICAgIHZhciBjb250ZW50ID0gaHRtbC5hcHBseSh0aGlzLCBhcmdzKSxcbiAgICAgICAgcG9mZnNldCA9IG9mZnNldC5hcHBseSh0aGlzLCBhcmdzKSxcbiAgICAgICAgZGlyICAgICA9IGRpcmVjdGlvbi5hcHBseSh0aGlzLCBhcmdzKSxcbiAgICAgICAgbm9kZWwgICA9IGdldE5vZGVFbCgpLFxuICAgICAgICBpICAgICAgID0gZGlyZWN0aW9ucy5sZW5ndGgsXG4gICAgICAgIGNvb3JkcyxcbiAgICAgICAgc2Nyb2xsVG9wICA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsXG4gICAgICAgIHNjcm9sbExlZnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnRcblxuICAgIG5vZGVsLmh0bWwoY29udGVudClcbiAgICAgIC5zdHlsZSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxuICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSlcbiAgICAgIC5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnYWxsJylcblxuICAgIHdoaWxlKGktLSkgbm9kZWwuY2xhc3NlZChkaXJlY3Rpb25zW2ldLCBmYWxzZSlcbiAgICBjb29yZHMgPSBkaXJlY3Rpb25fY2FsbGJhY2tzW2Rpcl0uYXBwbHkodGhpcylcbiAgICBub2RlbC5jbGFzc2VkKGRpciwgdHJ1ZSlcbiAgICAgIC5zdHlsZSgndG9wJywgKGNvb3Jkcy50b3AgKyAgcG9mZnNldFswXSkgKyBzY3JvbGxUb3AgKyAncHgnKVxuICAgICAgLnN0eWxlKCdsZWZ0JywgKGNvb3Jkcy5sZWZ0ICsgcG9mZnNldFsxXSkgKyBzY3JvbGxMZWZ0ICsgJ3B4JylcblxuICAgIHJldHVybiB0aXBcbiAgfVxuXG4gIC8vIFB1YmxpYyAtIGhpZGUgdGhlIHRvb2x0aXBcbiAgLy9cbiAgLy8gUmV0dXJucyBhIHRpcFxuICB0aXAuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBub2RlbCA9IGdldE5vZGVFbCgpXG4gICAgbm9kZWxcbiAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApXG4gICAgICAuc3R5bGUoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKVxuICAgIHJldHVybiB0aXBcbiAgfVxuXG4gIC8vIFB1YmxpYzogUHJveHkgYXR0ciBjYWxscyB0byB0aGUgZDMgdGlwIGNvbnRhaW5lci4gIFNldHMgb3IgZ2V0cyBhdHRyaWJ1dGUgdmFsdWUuXG4gIC8vXG4gIC8vIG4gLSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGVcbiAgLy8gdiAtIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGVcbiAgLy9cbiAgLy8gUmV0dXJucyB0aXAgb3IgYXR0cmlidXRlIHZhbHVlXG4gIHRpcC5hdHRyID0gZnVuY3Rpb24obiwgdikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiAmJiB0eXBlb2YgbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBnZXROb2RlRWwoKS5hdHRyKG4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgICAgIGQzLnNlbGVjdGlvbi5wcm90b3R5cGUuYXR0ci5hcHBseShnZXROb2RlRWwoKSwgYXJncylcbiAgICB9XG5cbiAgICByZXR1cm4gdGlwXG4gIH1cblxuICAvLyBQdWJsaWM6IFByb3h5IHN0eWxlIGNhbGxzIHRvIHRoZSBkMyB0aXAgY29udGFpbmVyLiAgU2V0cyBvciBnZXRzIGEgc3R5bGUgdmFsdWUuXG4gIC8vXG4gIC8vIG4gLSBuYW1lIG9mIHRoZSBwcm9wZXJ0eVxuICAvLyB2IC0gdmFsdWUgb2YgdGhlIHByb3BlcnR5XG4gIC8vXG4gIC8vIFJldHVybnMgdGlwIG9yIHN0eWxlIHByb3BlcnR5IHZhbHVlXG4gIHRpcC5zdHlsZSA9IGZ1bmN0aW9uKG4sIHYpIHtcbiAgICAvLyBkZWJ1Z2dlcjtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIgJiYgdHlwZW9mIG4gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZ2V0Tm9kZUVsKCkuc3R5bGUobilcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBzdHlsZXMgPSBhcmdzWzBdO1xuICAgICAgICBPYmplY3Qua2V5cyhzdHlsZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIGQzLnNlbGVjdGlvbi5wcm90b3R5cGUuc3R5bGUuYXBwbHkoZ2V0Tm9kZUVsKCksIFtrZXksIHN0eWxlc1trZXldXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aXBcbiAgfVxuXG4gIC8vIFB1YmxpYzogU2V0IG9yIGdldCB0aGUgZGlyZWN0aW9uIG9mIHRoZSB0b29sdGlwXG4gIC8vXG4gIC8vIHYgLSBPbmUgb2Ygbihub3J0aCksIHMoc291dGgpLCBlKGVhc3QpLCBvciB3KHdlc3QpLCBudyhub3J0aHdlc3QpLFxuICAvLyAgICAgc3coc291dGh3ZXN0KSwgbmUobm9ydGhlYXN0KSBvciBzZShzb3V0aGVhc3QpXG4gIC8vXG4gIC8vIFJldHVybnMgdGlwIG9yIGRpcmVjdGlvblxuICB0aXAuZGlyZWN0aW9uID0gZnVuY3Rpb24odikge1xuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGRpcmVjdGlvblxuICAgIGRpcmVjdGlvbiA9IHYgPT0gbnVsbCA/IHYgOiBkMy5mdW5jdG9yKHYpXG5cbiAgICByZXR1cm4gdGlwXG4gIH1cblxuICAvLyBQdWJsaWM6IFNldHMgb3IgZ2V0cyB0aGUgb2Zmc2V0IG9mIHRoZSB0aXBcbiAgLy9cbiAgLy8gdiAtIEFycmF5IG9mIFt4LCB5XSBvZmZzZXRcbiAgLy9cbiAgLy8gUmV0dXJucyBvZmZzZXQgb3JcbiAgdGlwLm9mZnNldCA9IGZ1bmN0aW9uKHYpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBvZmZzZXRcbiAgICBvZmZzZXQgPSB2ID09IG51bGwgPyB2IDogZDMuZnVuY3Rvcih2KVxuXG4gICAgcmV0dXJuIHRpcFxuICB9XG5cbiAgLy8gUHVibGljOiBzZXRzIG9yIGdldHMgdGhlIGh0bWwgdmFsdWUgb2YgdGhlIHRvb2x0aXBcbiAgLy9cbiAgLy8gdiAtIFN0cmluZyB2YWx1ZSBvZiB0aGUgdGlwXG4gIC8vXG4gIC8vIFJldHVybnMgaHRtbCB2YWx1ZSBvciB0aXBcbiAgdGlwLmh0bWwgPSBmdW5jdGlvbih2KSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gaHRtbFxuICAgIGh0bWwgPSB2ID09IG51bGwgPyB2IDogZDMuZnVuY3Rvcih2KVxuXG4gICAgcmV0dXJuIHRpcFxuICB9XG5cbiAgLy8gUHVibGljOiBkZXN0cm95cyB0aGUgdG9vbHRpcCBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSBET01cbiAgLy9cbiAgLy8gUmV0dXJucyBhIHRpcFxuICB0aXAuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKG5vZGUpIHtcbiAgICAgIGdldE5vZGVFbCgpLnJlbW92ZSgpO1xuICAgICAgbm9kZSA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aXA7XG4gIH1cblxuICBmdW5jdGlvbiBkM190aXBfZGlyZWN0aW9uKCkgeyByZXR1cm4gJ24nIH1cbiAgZnVuY3Rpb24gZDNfdGlwX29mZnNldCgpIHsgcmV0dXJuIFswLCAwXSB9XG4gIGZ1bmN0aW9uIGQzX3RpcF9odG1sKCkgeyByZXR1cm4gJyAnIH1cblxuICB2YXIgZGlyZWN0aW9uX2NhbGxiYWNrcyA9IHtcbiAgICBuOiAgZGlyZWN0aW9uX24sXG4gICAgczogIGRpcmVjdGlvbl9zLFxuICAgIGU6ICBkaXJlY3Rpb25fZSxcbiAgICB3OiAgZGlyZWN0aW9uX3csXG4gICAgbnc6IGRpcmVjdGlvbl9udyxcbiAgICBuZTogZGlyZWN0aW9uX25lLFxuICAgIHN3OiBkaXJlY3Rpb25fc3csXG4gICAgc2U6IGRpcmVjdGlvbl9zZVxuICB9O1xuXG4gIHZhciBkaXJlY3Rpb25zID0gT2JqZWN0LmtleXMoZGlyZWN0aW9uX2NhbGxiYWNrcyk7XG5cbiAgZnVuY3Rpb24gZGlyZWN0aW9uX24oKSB7XG4gICAgdmFyIGJib3ggPSBnZXRTY3JlZW5CQm94KClcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiAgYmJveC5uLnkgLSBub2RlLm9mZnNldEhlaWdodCxcbiAgICAgIGxlZnQ6IGJib3gubi54IC0gbm9kZS5vZmZzZXRXaWR0aCAvIDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkaXJlY3Rpb25fcygpIHtcbiAgICB2YXIgYmJveCA9IGdldFNjcmVlbkJCb3goKVxuICAgIHJldHVybiB7XG4gICAgICB0b3A6ICBiYm94LnMueSxcbiAgICAgIGxlZnQ6IGJib3gucy54IC0gbm9kZS5vZmZzZXRXaWR0aCAvIDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkaXJlY3Rpb25fZSgpIHtcbiAgICB2YXIgYmJveCA9IGdldFNjcmVlbkJCb3goKVxuICAgIHJldHVybiB7XG4gICAgICB0b3A6ICBiYm94LmUueSAtIG5vZGUub2Zmc2V0SGVpZ2h0IC8gMixcbiAgICAgIGxlZnQ6IGJib3guZS54XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGlyZWN0aW9uX3coKSB7XG4gICAgdmFyIGJib3ggPSBnZXRTY3JlZW5CQm94KClcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiAgYmJveC53LnkgLSBub2RlLm9mZnNldEhlaWdodCAvIDIsXG4gICAgICBsZWZ0OiBiYm94LncueCAtIG5vZGUub2Zmc2V0V2lkdGhcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkaXJlY3Rpb25fbncoKSB7XG4gICAgdmFyIGJib3ggPSBnZXRTY3JlZW5CQm94KClcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiAgYmJveC5udy55IC0gbm9kZS5vZmZzZXRIZWlnaHQsXG4gICAgICBsZWZ0OiBiYm94Lm53LnggLSBub2RlLm9mZnNldFdpZHRoXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGlyZWN0aW9uX25lKCkge1xuICAgIHZhciBiYm94ID0gZ2V0U2NyZWVuQkJveCgpXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogIGJib3gubmUueSAtIG5vZGUub2Zmc2V0SGVpZ2h0LFxuICAgICAgbGVmdDogYmJveC5uZS54XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGlyZWN0aW9uX3N3KCkge1xuICAgIHZhciBiYm94ID0gZ2V0U2NyZWVuQkJveCgpXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogIGJib3guc3cueSxcbiAgICAgIGxlZnQ6IGJib3guc3cueCAtIG5vZGUub2Zmc2V0V2lkdGhcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkaXJlY3Rpb25fc2UoKSB7XG4gICAgdmFyIGJib3ggPSBnZXRTY3JlZW5CQm94KClcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiAgYmJveC5zZS55LFxuICAgICAgbGVmdDogYmJveC5lLnhcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Tm9kZSgpIHtcbiAgICB2YXIgbm9kZSA9IGQzLnNlbGVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSlcbiAgICBub2RlXG4gICAgICAuc3R5bGUoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJylcbiAgICAgIC5zdHlsZSgndG9wJywgMClcbiAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApXG4gICAgICAuc3R5bGUoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdib3gtc2l6aW5nJywgJ2JvcmRlci1ib3gnKVxuXG4gICAgcmV0dXJuIG5vZGUubm9kZSgpXG4gIH1cblxuICBmdW5jdGlvbiBnZXRTVkdOb2RlKGVsKSB7XG4gICAgZWwgPSBlbC5ub2RlKClcbiAgICBpZihlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzdmcnKVxuICAgICAgcmV0dXJuIGVsXG5cbiAgICByZXR1cm4gZWwub3duZXJTVkdFbGVtZW50XG4gIH1cblxuICBmdW5jdGlvbiBnZXROb2RlRWwoKSB7XG4gICAgaWYobm9kZSA9PT0gbnVsbCkge1xuICAgICAgbm9kZSA9IGluaXROb2RlKCk7XG4gICAgICAvLyByZS1hZGQgbm9kZSB0byBET01cbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgfTtcbiAgICByZXR1cm4gZDMuc2VsZWN0KG5vZGUpO1xuICB9XG5cbiAgLy8gUHJpdmF0ZSAtIGdldHMgdGhlIHNjcmVlbiBjb29yZGluYXRlcyBvZiBhIHNoYXBlXG4gIC8vXG4gIC8vIEdpdmVuIGEgc2hhcGUgb24gdGhlIHNjcmVlbiwgd2lsbCByZXR1cm4gYW4gU1ZHUG9pbnQgZm9yIHRoZSBkaXJlY3Rpb25zXG4gIC8vIG4obm9ydGgpLCBzKHNvdXRoKSwgZShlYXN0KSwgdyh3ZXN0KSwgbmUobm9ydGhlYXN0KSwgc2Uoc291dGhlYXN0KSwgbncobm9ydGh3ZXN0KSxcbiAgLy8gc3coc291dGh3ZXN0KS5cbiAgLy9cbiAgLy8gICAgKy0rLStcbiAgLy8gICAgfCAgIHxcbiAgLy8gICAgKyAgICtcbiAgLy8gICAgfCAgIHxcbiAgLy8gICAgKy0rLStcbiAgLy9cbiAgLy8gUmV0dXJucyBhbiBPYmplY3Qge24sIHMsIGUsIHcsIG53LCBzdywgbmUsIHNlfVxuICBmdW5jdGlvbiBnZXRTY3JlZW5CQm94KCkge1xuICAgIHZhciB0YXJnZXRlbCAgID0gdGFyZ2V0IHx8IGQzLmV2ZW50LnRhcmdldDtcblxuICAgIHdoaWxlICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHRhcmdldGVsLmdldFNjcmVlbkNUTSAmJiAndW5kZWZpbmVkJyA9PT0gdGFyZ2V0ZWwucGFyZW50Tm9kZSkge1xuICAgICAgICB0YXJnZXRlbCA9IHRhcmdldGVsLnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgdmFyIGJib3ggICAgICAgPSB7fSxcbiAgICAgICAgbWF0cml4ICAgICA9IHRhcmdldGVsLmdldFNjcmVlbkNUTSgpLFxuICAgICAgICB0YmJveCAgICAgID0gdGFyZ2V0ZWwuZ2V0QkJveCgpLFxuICAgICAgICB3aWR0aCAgICAgID0gdGJib3gud2lkdGgsXG4gICAgICAgIGhlaWdodCAgICAgPSB0YmJveC5oZWlnaHQsXG4gICAgICAgIHggICAgICAgICAgPSB0YmJveC54LFxuICAgICAgICB5ICAgICAgICAgID0gdGJib3gueVxuXG4gICAgcG9pbnQueCA9IHhcbiAgICBwb2ludC55ID0geVxuICAgIGJib3gubncgPSBwb2ludC5tYXRyaXhUcmFuc2Zvcm0obWF0cml4KVxuICAgIHBvaW50LnggKz0gd2lkdGhcbiAgICBiYm94Lm5lID0gcG9pbnQubWF0cml4VHJhbnNmb3JtKG1hdHJpeClcbiAgICBwb2ludC55ICs9IGhlaWdodFxuICAgIGJib3guc2UgPSBwb2ludC5tYXRyaXhUcmFuc2Zvcm0obWF0cml4KVxuICAgIHBvaW50LnggLT0gd2lkdGhcbiAgICBiYm94LnN3ID0gcG9pbnQubWF0cml4VHJhbnNmb3JtKG1hdHJpeClcbiAgICBwb2ludC55IC09IGhlaWdodCAvIDJcbiAgICBiYm94LncgID0gcG9pbnQubWF0cml4VHJhbnNmb3JtKG1hdHJpeClcbiAgICBwb2ludC54ICs9IHdpZHRoXG4gICAgYmJveC5lID0gcG9pbnQubWF0cml4VHJhbnNmb3JtKG1hdHJpeClcbiAgICBwb2ludC54IC09IHdpZHRoIC8gMlxuICAgIHBvaW50LnkgLT0gaGVpZ2h0IC8gMlxuICAgIGJib3gubiA9IHBvaW50Lm1hdHJpeFRyYW5zZm9ybShtYXRyaXgpXG4gICAgcG9pbnQueSArPSBoZWlnaHRcbiAgICBiYm94LnMgPSBwb2ludC5tYXRyaXhUcmFuc2Zvcm0obWF0cml4KVxuXG4gICAgcmV0dXJuIGJib3hcbiAgfVxuXG4gIHJldHVybiB0aXBcbn07XG4iLCJ2YXIgRGF0YWJhc2UgPSAoZnVuY3Rpb24oKXtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqICBHcmFicyBhbGwgdGhlIHNlY3Rpb25zIGZyb20gdGhlIGRhdGFiYXNlXHJcbiAgICpcclxuICAgKiAgQGNhbGxiYWNrIHNob3VsZCB0YWtlIChPYmplY3RbXSwgQm9vbGVhbikgYXJyYXkgY29udGFpbnMgY2F0ZWdvcmllcyBib29sZWFuIGlzIHRydWUgaWYgbm8gcmVzdWx0cyBmYWxzZSBpZiB0aGVyZSBpcyBhIHJlc3VsdFxyXG4gICAqICovXHJcbiAgZnVuY3Rpb24gZ2V0U2VjdGlvbnNGcm9tRGF0YWJhc2UoY2FsbGJhY2spe1xyXG4gICAgJC5nZXQoXCIvc2VjdGlvbnMvc2VjdGlvbnNcIiwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5zZWN0aW9ucy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgIGNhbGxiYWNrKGRhdGEuc2VjdGlvbnMsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2FsbGJhY2soc2VjdGlvbnMsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogIEdyYWJzIGFsbCB0aGUgY2F0ZWdvcmllcyBmb3IgYSBzcGVjaWZpYyBzZWN0aW9uXHJcbiAgICpcclxuICAgKiAgQHBhcmFtIHNlY3Rpb24ge1N0cmluZ30gVGhlIHNlY3Rpb24gdG8gbG9vayBmb3IgZGlzdGluY3QgY2F0ZWdvcmllcyBpblxyXG4gICAqICBAY2FsbGJhY2sgc2hvdWxkIHRha2UgKE9iamVjdFtdLCBCb29sZWFuKSBhcnJheSBjb250YWlucyBjYXRlZ29yaWVzIGJvb2xlYW4gaXMgdHJ1ZSBpZiBubyByZXN1bHRzIGZhbHNlIGlmIHRoZXJlIGlzIGEgcmVzdWx0XHJcbiAgICogKi9cclxuICBmdW5jdGlvbiBnZXRDYXRlZ29yaWVzRnJvbURhdGFiYXNlKHNlY3Rpb24sIGNhbGxiYWNrKXtcclxuICAgIC8vIEZpbmQgYWxsIHRoZSBjYXRlZ29yaWVzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNlY3Rpb25cclxuICAgICQucG9zdChcIi9zZWN0aW9ucy9zXCIse3NlbGVjdGVkIDogc2VjdGlvbiB9LCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5jYXRlZ29yaWVzLmxlbmd0aCA+IDAgICYmICBkYXRhLmNhdGVnb3JpZXNbMF0gIT09IG51bGwpe1xyXG4gICAgICAgIGNhbGxiYWNrKGRhdGEuY2F0ZWdvcmllcywgZmFsc2UpO1xyXG4gICAgICB9IGVsc2UgeyAvLyBUaGUgb25lIHNwZWNpYWwgY2FzZSB3aGVyZSBjYXRlZ29yeSBpcyBudWxsXHJcbiAgICAgICAgY2FsbGJhY2soW10sIHRydWUpOyAvLyBObyByZXN1bHRcclxuICAgICAgfX0pO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEdyYWJzIGFsbCBzdWIgY2F0ZWdvcmllcyBmb3IgYSBzcGVjaWZpYyBzZWN0aW9uIGFuZCBjYXRlZ29yeVxyXG4gICAqXHJcbiAgICogQHBhcmFtIHNlY3Rpb24ge1N0cmluZ30gVGhlIHNlY3Rpb24gdG8gbG9vayBmb3IgZGlzdGluY3QgY2F0ZWdvcmllcyBpblxyXG4gICAqIEBwYXJhbSBjYXRlZ29yeSB7U3RyaW5nfSBUaGUgY2F0ZWdvcnkgdG8gbG9vayBmb3IgZGlzdGluY3Qgc3ViIGNhdGVnb3JpZXMgaW5cclxuICAgKiBAcGFyYW0gY2FsbGJhY2sge2Z1bmN0aW9ufSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbmNlIHRoZSBxdWVyeSBoYXMgYSByZXN1bHRcclxuICAgKiAqL1xyXG4gIGZ1bmN0aW9uIGdldFN1YkNhdGVnb3JpZXNGcm9tRGF0YWJhc2Uoc2VjdGlvbiwgY2F0ZWdvcnksIGNhbGxiYWNrKXtcclxuICAgICQucG9zdChcIi9zZWN0aW9ucy9zY1wiLHtzZWN0aW9uIDogc2VjdGlvbiwgY2F0ZWdvcnkgOiBjYXRlZ29yeX0sIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLnN1YkNhdGVnb3JpZXMubGVuZ3RoID4gMCAgJiYgIGRhdGEuc3ViQ2F0ZWdvcmllc1swXSAhPT0gbnVsbCl7XHJcbiAgICAgICAgY2FsbGJhY2soZGF0YS5zdWJDYXRlZ29yaWVzLCBmYWxzZSk7IC8vIFRoZXJlIGlzIGEgcmVzdWx0XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2FsbGJhY2soW10sIHRydWUpOyAvLyBObyByZXN1bHRzXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEdyYWJzIGFsbCBkZXNjcmlwdGlvbiBmb3IgYSBzcGVjaWZpYyBzZWN0aW9uLCBjYXRlZ29yeSBhbmQgc3ViIGNhdGVnb3J5IGlmIHN1YiBjYXRlZ29yeVxyXG4gICAqIGlzIG5vdCBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc2VjdGlvbiB7U3RyaW5nfSBUaGUgc2VjdGlvbiB0byBsb29rIGZvciBkaXN0aW5jdCBjYXRlZ29yaWVzIGluXHJcbiAgICogQHBhcmFtIGNhdGVnb3J5IHtTdHJpbmd9IFRoZSBjYXRlZ29yeSB0byBsb29rIGZvciBkaXN0aW5jdCBzdWIgY2F0ZWdvcmllcyBpblxyXG4gICAqIEBwYXJhbSBzdWJDYXRlZ29yeSB7U3RyaW5nfSBUaGUgc3ViIGNhdGVnb3J5IHRvIGxvb2sgZm9yIGRpc3RpbmN0IHN1YiBjYXRlZ29yaWVzIGluXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb25jZSB0aGUgcXVlcnkgaGFzIGEgcmVzdWx0XHJcbiAgICogKi9cclxuICBmdW5jdGlvbiBnZXREZXNjcmlwdGlvbnNGcm9tRGF0YWJhc2Uoc2VjdGlvbixjYXRlZ29yeSxzdWJDYXRlZ29yeSxjYWxsYmFjayl7XHJcbiAgICAvLyBGaW5kIGFsbCBkZXNjcmlwdGlvbnMgZm9yIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgc3ViIGNhdGVnb3J5XHJcbiAgICAkLnBvc3QoXCIvc2VjdGlvbnMvZGVzY1wiLHtjYXRlZ29yeSA6IGNhdGVnb3J5LHNlY3Rpb24gOiBzZWN0aW9uLCBzdWJDYXRlZ29yeSA6IHN1YkNhdGVnb3J5fSwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGVzY3JpcHRpb25zLmxlbmd0aCA+IDAgJiYgIGRhdGEuZGVzY3JpcHRpb25zWzBdICE9PSBudWxsKXtcclxuICAgICAgICBjYWxsYmFjayhkYXRhLmRlc2NyaXB0aW9ucywgZmFsc2UpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNhbGxiYWNrKGRhdGEuZGVzY3JpcHRpb25zLCB0cnVlKTtcclxuICAgICAgfX0pO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYWxsIG9mIHRoZSByb3dzIGFzc29jaWF0ZWQgd2l0aCB0aGUgc2VsZWN0ZWQgc2VjdGlvbnMsIGNhdGVnb3JpZXMsIHN1YkNhdGVnb3JpZXNcclxuICAgKiBhbmQgZGVzY3JpcHRpb25zIGZvciBtdWx0aXBsZSByb3dzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHNlbGVjdGlvbnMge09iamVjdH0gQ29udGFpbnMgYWxsIHRoZSBzZWxlY3Rpb25zIHRoZSB1c2VyIG1hZGVcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sge2Z1bmN0aW9ufSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbmNlIHRoZSBxdWVyeSBoYXMgYSByZXN1bHRcclxuICAgKiAqL1xyXG4gIGZ1bmN0aW9uIGdldFJvd3NGb3JTZWFyY2goc2VsZWN0aW9ucywgY2FsbGJhY2spIHtcclxuICAgICQucG9zdChcIi9jb21wYXJlL3NlYXJjaFwiLHtjb21wYW55IDogXCJcIiwgc2VsZWN0aW9ucyA6IEpTT04uc3RyaW5naWZ5KHNlbGVjdGlvbnMpfSwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGNhbGxiYWNrKGRhdGEucm93cyk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgICBnZXRDYXRlZ29yaWVzRnJvbURhdGFiYXNlIDogZ2V0Q2F0ZWdvcmllc0Zyb21EYXRhYmFzZSxcclxuICAgICAgZ2V0U3ViQ2F0ZWdvcmllc0Zyb21EYXRhYmFzZSA6IGdldFN1YkNhdGVnb3JpZXNGcm9tRGF0YWJhc2UsXHJcbiAgICAgIGdldERlc2NyaXB0aW9uc0Zyb21EYXRhYmFzZSA6IGdldERlc2NyaXB0aW9uc0Zyb21EYXRhYmFzZSxcclxuICAgICAgZ2V0U2VjdGlvbnNGcm9tRGF0YWJhc2UgOiBnZXRTZWN0aW9uc0Zyb21EYXRhYmFzZSxcclxuICAgICAgZ2V0Um93c0ZvclNlYXJjaCA6IGdldFJvd3NGb3JTZWFyY2hcclxuICB9XHJcbn0pKCk7XHJcbiIsInZhciBldmVudHMgPSB7XHJcbiAgZXZlbnRzOiB7fSxcclxuICBvbjogZnVuY3Rpb24gKGV2ZW50TmFtZSwgZm4pIHtcclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSB0aGlzLmV2ZW50c1tldmVudE5hbWVdIHx8IFtdO1xyXG4gICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXS5wdXNoKGZuKTtcclxuICB9LFxyXG4gIG9mZjogZnVuY3Rpb24oZXZlbnROYW1lLCBmbikge1xyXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmV2ZW50c1tldmVudE5hbWVdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50TmFtZV1baV0gPT09IGZuKSB7XHJcbiAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9LFxyXG4gIGVtaXQ6IGZ1bmN0aW9uIChldmVudE5hbWUsIGRhdGEpIHtcclxuICAgIGlmICh0aGlzLmV2ZW50c1tldmVudE5hbWVdKSB7XHJcbiAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uZm9yRWFjaChmdW5jdGlvbihmbikge1xyXG4gICAgICAgIGZuKGRhdGEpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcbiIsInZhciBWZWN0b3JNb2R1bGUgPSAoZnVuY3Rpb24oKXtcclxuICB2YXIgdk1hcmdpbiA9IHt0b3A6IDMwLCByaWdodDogMjAsIGJvdHRvbTogMTgwLCBsZWZ0OiA3MH0sXHJcbiAgICB2V2lkdGggPSAxMDAwIC0gdk1hcmdpbi5sZWZ0IC0gdk1hcmdpbi5yaWdodCxcclxuICAgIHZIZWlnaHQgPSA4MDAgLSB2TWFyZ2luLnRvcCAtIHZNYXJnaW4uYm90dG9tO1xyXG5cclxuXHJcbiAgdmFyIHZlY3RvckdyYXBocyA9IFtdO1xyXG5cclxuICBmdW5jdGlvbiBWZWN0b3JHcmFwaERhdGEoaWQpe1xyXG4gICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgdGhpcy5jcmVhdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLnhBeGlzID0gZDMuYXhpc0JvdHRvbSgpO1xyXG4gICAgdGhpcy55QXhpcyA9IGQzLmF4aXNMZWZ0KCk7XHJcbiAgICB0aGlzLnggPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlUm91bmQoW3ZXaWR0aCwgMF0pO1xyXG4gICAgdGhpcy55ID0gIGQzLnNjYWxlTGluZWFyKCkucmFuZ2VSb3VuZChbdkhlaWdodCwgMF0pO1xyXG4gICAgdGhpcy5zdmcgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlVmVjdG9yR3JhcGgoZGF0YSx4TGFiZWwsIHlMYWJlbCwgZGl2SUQpe1xyXG4gICAgdmFyIHZlY3RvckdyYXBoID0gbnVsbDtcclxuXHJcbiAgICB2ZWN0b3JHcmFwaHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkge1xyXG4gICAgICBpZiAoZWxlbS5pZCA9PT0gZGl2SUQpe3ZlY3RvckdyYXBoID0gZWxlbTt9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZih2ZWN0b3JHcmFwaCA9PT0gbnVsbCl7XHJcbiAgICAgIHZlY3RvckdyYXBoID0gbmV3IFZlY3RvckdyYXBoRGF0YShkaXZJRCk7XHJcbiAgICAgIHZlY3RvckdyYXBocy5wdXNoKHZlY3RvckdyYXBoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGaW5kIGFsbCBFREInXHJcbiAgICB2YXIgZWRicyA9IFtdO1xyXG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGVkYnMucHVzaChlLmVkYik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoKS5kb21haW4oZWRicylcclxuICAgICAgLnJhbmdlKFtcIiNlNjlhNjFcIiwgXCIjOTgxN2ZmXCIsIFwiIzE4YzYxYVwiLCBcIiMzM2I0ZmZcIiwgXCIjYzkxNjdlXCIsIFwiIzI5Nzg1M1wiLCBcIiNkNzAxMWJcIiwgXCIjNzQ1NmM3XCIsIFwiIzdlNjI3NlwiLCBcIiNhZmIxMTNcIiwgXCIjZmQ4NzljXCIsIFwiI2ZiNzhmYVwiLCBcIiMyNGMzNzNcIiwgXCIjNDViYmM1XCIsIFwiIzc2NmIyMVwiLCBcIiNhYmFkOTNcIiwgXCIjYzE5Y2UzXCIsIFwiI2ZkOGYxMVwiLCBcIiMyZjU2ZmZcIiwgXCIjMzA3YTExXCIsIFwiI2IzNDgzY1wiLCBcIiMwZDczOTZcIiwgXCIjOTRiNjY1XCIsIFwiIzlkNGQ5MVwiLCBcIiNiODA3YzhcIiwgXCIjMDg2Y2JmXCIsIFwiI2EyYWJjNVwiLCBcIiNhMzU3MDJcIiwgXCIjZDMwODRiXCJdKTtcclxuXHJcbiAgICB2YXIgYWxsVmFsdWVzID1bXTtcclxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnllYXJzLmZvckVhY2goZnVuY3Rpb24gKGUxKXtcclxuICAgICAgICBlMVtcImVkYlwiXSA9IGUuZWRiO1xyXG4gICAgICAgIGFsbFZhbHVlcy5wdXNoKGUxKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgeFZhbHVlcyA9IFtdO1xyXG4gICAgYWxsVmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKGUpeyB4VmFsdWVzLnB1c2goZS52YWx1ZUIpO30pO1xyXG5cclxuICAgIHZhciB5VmFsdWVzID0gW107XHJcbiAgICBhbGxWYWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAoZSl7IHlWYWx1ZXMucHVzaChlLnZhbHVlQSk7fSk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBzdmcgYW5kIGFwcGVuZCB0byB0aGUgZGl2XHJcbiAgICBpZighdmVjdG9yR3JhcGguY3JlYXRlZCl7XHJcbiAgICAgIHZlY3RvckdyYXBoLnN2ZyA9IGQzLnNlbGVjdChkaXZJRCkuYXBwZW5kKFwic3ZnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB2V2lkdGggKyB2TWFyZ2luLmxlZnQgKyB2TWFyZ2luLnJpZ2h0KVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIHZIZWlnaHQgKyB2TWFyZ2luLnRvcCArIHZNYXJnaW4uYm90dG9tKVxyXG4gICAgICAgIC5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB2TWFyZ2luLmxlZnQgKyBcIixcIiArIHZNYXJnaW4udG9wICsgXCIpXCIpOyAvLyBtb3ZlcyBieSBhIHggYW5kIHkgdmFsdWUgaW4gdGhpcyBjYXNlIHRoZSBtYXJnaW5zXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEZpbmQgbWF4IHZhbHVlc1xyXG4gICAgdmFyIG1heFggPSBkMy5tYXgoeFZhbHVlcywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZDt9ICk7XHJcbiAgICB2YXIgbWF4WSA9IGQzLm1heCh5VmFsdWVzLCBmdW5jdGlvbihkKSB7IHJldHVybiBkO30gKTtcclxuXHJcbiAgICAvLyBTZXQgdGhlIGRvbWFpbiBmb3IgeCBhbmQgeVxyXG4gICAgdmVjdG9yR3JhcGgueC5kb21haW4oW21heFgsMF0pLm5pY2UoKTtcclxuICAgIHZlY3RvckdyYXBoLnkuZG9tYWluKFswLG1heFldKS5uaWNlKCk7XHJcblxyXG5cclxuICAgIGlmKHZlY3RvckdyYXBoLmNyZWF0ZWQpe1xyXG4gICAgICB2ZWN0b3JHcmFwaC5zdmcuc2VsZWN0KCcueUF4aXMnKS5jYWxsKHZlY3RvckdyYXBoLnlBeGlzKTtcclxuICAgICAgdmVjdG9yR3JhcGguc3ZnLnNlbGVjdCgnLnhBeGlzJykuY2FsbCh2ZWN0b3JHcmFwaC54QXhpcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2ZWN0b3JHcmFwaC54QXhpcy5zY2FsZSh2ZWN0b3JHcmFwaC54KTtcclxuICAgICAgdmVjdG9yR3JhcGgueUF4aXMuc2NhbGUodmVjdG9yR3JhcGgueSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmVjdG9yR3JhcGguc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgLmF0dHIoXCJjbGFzc1wiLFwieEF4aXNcIilcclxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIHZIZWlnaHQgKyBcIilcIilcclxuICAgICAgLmNhbGwodmVjdG9yR3JhcGgueEF4aXMuc2NhbGUodmVjdG9yR3JhcGgueCkpO1xyXG4gICAgdmFyIGRwRm9ybWF0ID0gZDMuZm9ybWF0KFwiLjJmXCIpO1xyXG5cclxuICAgIC8vIGFkZCB0aGUgeSBBeGlzXHJcbiAgICB2ZWN0b3JHcmFwaC5zdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAuYXR0cihcImNsYXNzXCIsXCJ5QXhpc1wiKVxyXG4gICAgICAuYXR0cihcImZpbGxcIiwgXCJibGFja1wiKVxyXG4gICAgICAuY2FsbCh2ZWN0b3JHcmFwaC55QXhpcyk7XHJcblxyXG4gICAgdmFyIHRpcCA9IGQzLnRpcCgpXHJcbiAgICAgIC5hdHRyKCdjbGFzcycsICdkMy10aXAnKVxyXG4gICAgICAub2Zmc2V0KFstMTAsIDBdKVxyXG4gICAgICAuaHRtbChmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiPHN0cm9uZz5FREI6PC9zdHJvbmc+IDxzcGFuIHN0eWxlPSdjb2xvcjpsaWdodGdyZWVuJz5cIiArIGQuZWRiICsgXCI8L3NwYW4+PGJyPjxicj48c3Ryb25nPlllYXI6PC9zdHJvbmc+IDxzcGFuIHN0eWxlPSdjb2xvcjpsaWdodGdyZWVuJz5cIiArIGQueWVhciArIFwiPC9zcGFuPjxicj48YnI+PHN0cm9uZz5WYWx1ZTo8L3N0cm9uZz4gPHNwYW4gc3R5bGU9J2NvbG9yOmxpZ2h0Z3JlZW4nPltcIiArIGRwRm9ybWF0KGQudmFsdWVBKVx0ICsgXCIsIFwiICsgZHBGb3JtYXQoZC52YWx1ZUIpICtcIl08L3NwYW4+XCI7XHJcbiAgICAgIH0pO1xyXG4gICAgdmVjdG9yR3JhcGguc3ZnLmNhbGwodGlwKTtcclxuXHJcbiAgICBpZih2ZWN0b3JHcmFwaC5jcmVhdGVkKXtcclxuICAgICAgdmVjdG9yR3JhcGguc3ZnLnNlbGVjdEFsbChcIi5kb3RtXCIpXHJcbiAgICAgICAgLmRhdGEoYWxsVmFsdWVzKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJkb3RcIilcclxuICAgICAgICAuYXR0cihcInJcIiwgMy41KVxyXG4gICAgICAgIC5hdHRyKFwiY3hcIiwgZnVuY3Rpb24oZCkge3JldHVybiB2ZWN0b3JHcmFwaC54KGQudmFsdWVCKTsgfSlcclxuICAgICAgICAuYXR0cihcImN5XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHZlY3RvckdyYXBoLnkoZC52YWx1ZUEpOyB9KVxyXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBjb2xvcihkLmVkYik7IH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCB0aXAuc2hvdylcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgdGlwLmhpZGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmVjdG9yR3JhcGguc3ZnLnNlbGVjdEFsbChcIi5kb3RtXCIpXHJcbiAgICAgICAgLmRhdGEoYWxsVmFsdWVzKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcImNpcmNsZVwiKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJkb3RtXCIpXHJcbiAgICAgICAgLmF0dHIoXCJyXCIsIDMuNSlcclxuICAgICAgICAuYXR0cihcImN4XCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gdmVjdG9yR3JhcGgueChkLnZhbHVlQik7IH0pXHJcbiAgICAgICAgLmF0dHIoXCJjeVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB2ZWN0b3JHcmFwaC55KGQudmFsdWVBKTsgfSlcclxuICAgICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gY29sb3IoZC5lZGIpOyB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgdGlwLnNob3cpXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIHRpcC5oaWRlKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbGluZXMgPSBbXTsgLy8geCx5LHgxLHkxXHJcblxyXG4gICAgLy8gTmV4dCBjcmVhdGUgdGhlIGxpbmVzIGJldHdlZW4gdGhlbVxyXG4gICAgZm9yKHZhciBpID0wOyBpIDwgZGF0YS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBkYXRhW2ldLnllYXJzLmxlbmd0aC0xOyBqKyspeyAvLyAtMSBiZWNhdXNlIHdlIGFkZFxyXG4gICAgICAgIGxpbmVzLnB1c2goIHtlbmQgOiAgdHJ1ZSxlZGIgOiBkYXRhW2ldLmVkYiwgeCA6IGRhdGFbaV0ueWVhcnNbal0udmFsdWVCLCB5IDogZGF0YVtpXS55ZWFyc1tqXS52YWx1ZUEgLCB4MSA6IGRhdGFbaV0ueWVhcnNbaisxXS52YWx1ZUIgLCB5MSA6IGRhdGFbaV0ueWVhcnNbaisxXS52YWx1ZUF9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEJ1aWxkIGFycm93XHJcbiAgICBpZighdmVjdG9yR3JhcGguY3JlYXRlZCl7XHJcbiAgICAgIHZlY3RvckdyYXBoLnN2Zy5hcHBlbmQoXCJzdmc6ZGVmc1wiKS5zZWxlY3RBbGwoXCJtYXJrZXJcIilcclxuICAgICAgICAuZGF0YShsaW5lcylcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJzdmc6bWFya2VyXCIpXHJcbiAgICAgICAgLmF0dHIoXCJpZFwiLCBmdW5jdGlvbihkKXtcclxuICAgICAgICAgIGlmKGQuZW5kKXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiZW5kXCIrZC5lZGIucmVwbGFjZSgvIC9nICwgXCJcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInZpZXdCb3hcIiwgXCIwIC01IDEwIDEwXCIpXHJcbiAgICAgICAgLmF0dHIoXCJyZWZYXCIsIDkpXHJcbiAgICAgICAgLmF0dHIoXCJyZWZZXCIsIC0wLjUpXHJcbiAgICAgICAgLmF0dHIoXCJtYXJrZXJXaWR0aFwiLCA5KVxyXG4gICAgICAgIC5hdHRyKFwibWFya2VySGVpZ2h0XCIsIDkpXHJcbiAgICAgICAgLmF0dHIoXCJtYXJrZXJVbml0c1wiLFwidXNlclNwYWNlT25Vc2VcIilcclxuICAgICAgICAuYXR0cihcIm9yaWVudFwiLCBcImF1dG9cIilcclxuICAgICAgICAuYXBwZW5kKFwic3ZnOnBhdGhcIilcclxuICAgICAgICAuYXR0cihcImRcIiwgXCJNMCwtNUwxMCwwTDAsNVwiKVxyXG4gICAgICAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24oZCl7IHJldHVybiBjb2xvcihkLmVkYik7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYodmVjdG9yR3JhcGguY3JlYXRlZCl7XHJcbiAgICAgIHZlY3RvckdyYXBoLnN2Zy5zZWxlY3RBbGwoXCIubGluZVwiKVxyXG4gICAgICAgIC5kYXRhKGxpbmVzKVxyXG4gICAgICAgIC5hdHRyKFwieDFcIiwgIGZ1bmN0aW9uKGQpIHtyZXR1cm4geChkLngpO30pXHJcbiAgICAgICAgLmF0dHIoXCJ5MVwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIHkoZC55KTt9KVxyXG4gICAgICAgIC5hdHRyKFwieDJcIiwgZnVuY3Rpb24oZCkge3JldHVybiB4KGQueDEpO30pXHJcbiAgICAgICAgLmF0dHIoXCJ5MlwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIHkoZC55MSk7fSlcclxuICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCAyKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihkKXtyZXR1cm4gXCJcIitkLmVkYi5yZXBsYWNlKC8gL2cgLCBcIlwiKTt9ICkgLy8gQWRkIGViZCBhcyB0aGUgY2xhc3NcclxuICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBjb2xvcihkLmVkYik7fSlcclxuICAgICAgICAuYXR0cihcIm1hcmtlci1lbmRcIiwgZnVuY3Rpb24oZCl7XHJcbiAgICAgICAgICBpZihkLmVuZCl7XHJcbiAgICAgICAgICAgIHJldHVybiBcInVybCgjZW5kXCIrZC5lZGIucmVwbGFjZSgvIC9nICwgXCJcIikgK1wiKVwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmVjdG9yR3JhcGguc3ZnLnNlbGVjdEFsbChcIi5saW5lXCIpXHJcbiAgICAgICAgLmRhdGEobGluZXMpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwibGluZVwiKVxyXG4gICAgICAgIC5hdHRyKFwieDFcIiwgIGZ1bmN0aW9uKGQpIHtyZXR1cm4gdmVjdG9yR3JhcGgueChkLngpO30pXHJcbiAgICAgICAgLmF0dHIoXCJ5MVwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIHZlY3RvckdyYXBoLnkoZC55KTt9KVxyXG4gICAgICAgIC5hdHRyKFwieDJcIiwgZnVuY3Rpb24oZCkge3JldHVybiB2ZWN0b3JHcmFwaC54KGQueDEpO30pXHJcbiAgICAgICAgLmF0dHIoXCJ5MlwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIHZlY3RvckdyYXBoLnkoZC55MSk7fSlcclxuICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCAyKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihkKXtyZXR1cm4gXCJcIitkLmVkYi5yZXBsYWNlKC8gL2cgLCBcIlwiKTt9ICkgLy8gQWRkIGViZCBhcyB0aGUgY2xhc3NcclxuICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBjb2xvcihkLmVkYik7fSlcclxuICAgICAgICAuYXR0cihcIm1hcmtlci1lbmRcIiwgZnVuY3Rpb24oZCl7XHJcbiAgICAgICAgICBpZihkLmVuZCl7XHJcbiAgICAgICAgICAgIHJldHVybiBcInVybCgjZW5kXCIrZC5lZGIucmVwbGFjZSgvIC9nICwgXCJcIikrXCIpXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHZhciB4TWV0cmljTGFiZWwgPSBcIlwiO1xyXG4gICAgdmFyIHlNZXRyaWNMYWJlbCA9IFwiXCI7XHJcbiAgICBpZihkaXZJRC5pbmNsdWRlcyhcImFiY2RcIikpe1xyXG4gICAgICB4TWV0cmljTGFiZWwgPSBcIkMgLyBEXCI7XHJcbiAgICAgIHlNZXRyaWNMYWJlbCA9IFwiQSAvIEJcIjtcclxuICAgIH0gZWxzZSBpZihkaXZJRC5pbmNsdWRlcyhcImFiXCIpKXtcclxuICAgICAgeE1ldHJpY0xhYmVsID0gXCJCXCI7XHJcbiAgICAgIHlNZXRyaWNMYWJlbCA9IFwiQVwiXHJcbiAgICB9IGVsc2UgaWYoZGl2SUQuaW5jbHVkZXMoXCJjZFwiKSkge1xyXG4gICAgICB4TWV0cmljTGFiZWwgPSBcIkRcIjtcclxuICAgICAgeU1ldHJpY0xhYmVsID0gXCJDXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIFkgbGFiZWxcclxuICAgIHZlY3RvckdyYXBoLnN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIikgIC8vIHRoaXMgbWFrZXMgaXQgZWFzeSB0byBjZW50cmUgdGhlIHRleHQgYXMgdGhlIHRyYW5zZm9ybSBpcyBhcHBsaWVkIHRvIHRoZSBhbmNob3JcclxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIrIC0odk1hcmdpbi5sZWZ0LzIpICtcIixcIisgKCArdkhlaWdodC8yKStcIilyb3RhdGUoLTkwKVwiKSAgLy8gdGV4dCBpcyBkcmF3biBvZmYgdGhlIHNjcmVlbiB0b3AgbGVmdCwgbW92ZSBkb3duIGFuZCBvdXQgYW5kIHJvdGF0ZVxyXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwidW5pdC10ZXh0XCIpXHJcbiAgICAgIC50ZXh0KHlNZXRyaWNMYWJlbCArIFwiICAgICAoXCIgKyB5TGFiZWwgKyBcIilcIik7XHJcblxyXG4gICAgLy8gQWRkIFggbGFiZWxcclxuICAgIHZlY3RvckdyYXBoLnN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIikgIC8vIHRoaXMgbWFrZXMgaXQgZWFzeSB0byBjZW50cmUgdGhlIHRleHQgYXMgdGhlIHRyYW5zZm9ybSBpcyBhcHBsaWVkIHRvIHRoZSBhbmNob3JcclxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIrICh2V2lkdGgvMikgK1wiLFwiKyArKHZIZWlnaHQgKyB2TWFyZ2luLmJvdHRvbS80KSArIFwiKVwiKSAgLy8gdGV4dCBpcyBkcmF3biBvZmYgdGhlIHNjcmVlbiB0b3AgbGVmdCwgbW92ZSBkb3duIGFuZCBvdXQgYW5kIHJvdGF0ZVxyXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwidW5pdC10ZXh0XCIpXHJcbiAgICAgIC50ZXh0KHhNZXRyaWNMYWJlbCsgXCIgICAgIChcIiArIHhMYWJlbCArIFwiKVwiKTtcclxuXHJcblxyXG4gICAgaWYoIXZlY3RvckdyYXBoLmNyZWF0ZWQpe1xyXG4gICAgICB2YXIgbGVnZW5kID0gdmVjdG9yR3JhcGguc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAndmVjdG9yLWtleS10ZXh0JylcclxuICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXHJcbiAgICAgICAgLnNlbGVjdEFsbChcImdcIilcclxuICAgICAgICAuZGF0YShlZGJzKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXBwZW5kKFwic3ZnOmFcIilcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkLCBpKSB7XHJcbiAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoaSAvIDUpICogMjA7XHJcbiAgICAgICAgICB2YXIgeCA9IChpIC0gKE1hdGguZmxvb3IoKGkgLyA1KSkgKiA1KSkgKiAxNjA7XHJcbiAgICAgICAgICB4ID0geCArIHZNYXJnaW4ubGVmdDtcclxuICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIisgeCArXCIsXCIgKyAoeSArdkhlaWdodCArdk1hcmdpbi5ib3R0b20vMyApICsgXCIpXCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGQpe1xyXG4gICAgICAgICAgdmVjdG9yR3JhcGguc3ZnLnNlbGVjdEFsbCgnbGluZS4nK2QucmVwbGFjZSgvIC9nICwgXCJcIikpXHJcbiAgICAgICAgICAgIC5jbGFzc2VkKFwibGluZS1zZWxlY3RlZFwiLCB0cnVlKTtcclxuICAgICAgICB9KS5cclxuICAgICAgICBvbignbW91c2VvdXQnLCBmdW5jdGlvbihkKXtcclxuICAgICAgICAgIHZlY3RvckdyYXBoLnN2Zy5zZWxlY3RBbGwoJ2xpbmUuJytkLnJlcGxhY2UoLyAvZyAsIFwiXCIpKVxyXG4gICAgICAgICAgICAuY2xhc3NlZChcImxpbmUtc2VsZWN0ZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgbGVnZW5kLmFwcGVuZChcImNpcmNsZVwiKVxyXG4gICAgICAgIC5hdHRyKFwiY3hcIiwgdk1hcmdpbi5sZWZ0ICsgNTUpXHJcbiAgICAgICAgLmF0dHIoXCJjeVwiLCA5LjUpXHJcbiAgICAgICAgLmF0dHIoXCJyXCIsIDcuNSlcclxuICAgICAgICAvLyAuYXR0cihcImhlaWdodFwiLCAxOSlcclxuICAgICAgICAuYXR0cihcImZpbGxcIiwgY29sb3IpO1xyXG5cclxuICAgICAgbGVnZW5kLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAuYXR0cihcInhcIiwgdk1hcmdpbi5sZWZ0ICsgNDApXHJcbiAgICAgICAgLmF0dHIoXCJ5XCIsIDkuNSlcclxuICAgICAgICAuYXR0cihcImR5XCIsIFwiMC4zMmVtXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImctdGV4dFwiKVxyXG4gICAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjE0cHhcIilcclxuICAgICAgICAudGV4dChmdW5jdGlvbihkKSB7IHJldHVybiBkOyB9KTtcclxuICAgIH1cclxuICAgIHZlY3RvckdyYXBoLmNyZWF0ZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGNyZWF0ZVZlY3RvckdyYXBoIDogY3JlYXRlVmVjdG9yR3JhcGhcclxuICB9XHJcbn0pKCk7XHJcblxyXG4iXX0=
