var SingleBarModule=function(){function t(t,e,n,a,s,i){var o=[];$(a).find("th").each(function(t,e){0!=t&&o.push({category:$(e).text(),value:0})}),$("#"+t).find("th").each(function(t,e){0!=t?o[t-1].value=$(e).text():title=o[t].value=$(e).text()});var l=-(1/0);$(".cell",s).each(function(){var t=+$(this).attr("origValue");l=t>l?t:l});var c=1/0;$(".cell",s).each(function(){var t=+$(this).attr("origValue");c=t<c?t:c}),r(n,l,c,o,e,i)}function e(t){this.id=t,this.x=d3.scaleBand().range([0,i]).padding(.5),this.y=d3.scaleLinear().range([o,0]).nice(),this.yAxis=d3.axisLeft(),this.xAxis=d3.axisBottom(),this.created=!1,this.svg=null}function r(t,e,r,s,i,o){var c=null;l.forEach(function(e){e.id===t&&(c=e)}),null===c?n(t,e,r,s,i,o):a(c,e,r,s,i)}function n(t,r,n,a,u,d){var f=new e(t);l.push(f);var p=n<0&&r>0,h=0;!p&&n<0?h=n:p||(h=r),p&&(h=r),f.svg=d3.select(t).append("svg").attr("width",i+s.left+s.right).attr("height",o+s.top+s.bottom).append("g").attr("transform","translate("+s.left+","+s.top+")"),f.x.domain(a.map(function(t){return t.category})),f.y.domain([0,h]),f.y.nice(),f.yAxis.scale(f.y),f.svg.selectAll(".bar").data(a).enter().append("rect").attr("class","bar single-bar").attr("x",function(t){return f.x(t.category)}).attr("width",f.x.bandwidth()).attr("y",function(t){return f.y(p?Math.abs(t.value):t.value)}).attr("height",function(t){return o-f.y(p?Math.abs(t.value):t.value)}).attr("fill",function(t){return p?t.value>0?"lightgreen":c:"lightgreen"}),f.svg.append("g").attr("transform","translate(0,"+o+")").call(f.xAxis.scale(f.x)),f.svg.append("g").attr("class","yAxis").call(f.yAxis),f.created=!0;var g=0;f.svg.select(".yAxis").selectAll("text").each(function(){this.getBBox().width>g&&(g=this.getBBox().width)}),console.log("Max Y",g),f.svg.attr("transform","translate("+(s.left+g)+","+s.top+")"),f.svg.append("text").attr("x",i/2).attr("y",0-s.top/2).attr("id","bar-title").attr("text-anchor","middle").style("font-size","24px").text(u),f.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+-(g+20)+","+o/2+")rotate(-90)").attr("class","unit-text-scaled").text(d),f.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+ +(i/2)+","+(s.top+o-s.bottom+20)+")").attr("class","unit-text-scaled").text("Year")}function a(t,e,r,n,a){var s=r<0&&e>0;t.svg.selectAll(".bar").data(n).transition().duration(750).attr("y",function(e){return t.y(s?Math.abs(e.value):e.value)}).attr("height",function(e){return o-t.y(s?Math.abs(e.value):e.value)}).attr("fill",function(t){return s?t.value>0?"lightgreen":c:"lightgreen"}),t.svg.select("#bar-title").text(a)}var s={top:60,right:20,bottom:50,left:50},i=550-s.left-s.right,o=500-s.top-s.bottom,l=[],c="#FF2626";return{showBarWithRowElem:t,createBarGraph:r}}(),GroupedBarModule=function(){function t(t,e,r,n,a,s){this.x0=t,this.x1=e,this.y=r,this.yAxis=n,this.svg=a,this.id=s,this.created=!1,this.g=null}var e={top:25,right:85,bottom:150,left:80},r=1200-e.left-e.right,n=750-e.top-e.bottom,a=[],s=d3.scaleOrdinal().range(["#BBDEFB","#64B5F6","#1976D2","#1565C0","#0D47A1","#d0743c","#ff8c00"]),i=d3.scaleOrdinal().range(["#FF7373","#FF4C4C","#FF2626","#B20000","#D90000","#d0743c","#ff8c00"]),o=d3.scaleOrdinal().range(["#C1FFC1","#90EE90","#5BC85B","#31A231","#137B13","#d0743c","#ff8c00"]),l=function(t,e){d3.selectAll(".bar-selected").datum(function(t){return t}).attr("fill",function(t){return s(t.key)}),d3.selectAll(".bar-selected").classed("bar-selected",!1),e||d3.selectAll("rect."+t.replace(/ /g,"")).classed("bar-selected",!0).datum(function(t){return t}).attr("fill",function(t){return o(t.key)})},c=function(t,e,r,n){for(var s=0;s<a.length;s++)if(a[s].id===n)return void d(t,e,a[s],r);u(t,e,r,n)},u=function(o,l,c,u){var d=new t(d3.scaleBand().rangeRound([0,r]).paddingInner(.05),d3.scaleBand().padding(.05),d3.scaleLinear().rangeRound([n,0]),d3.axisLeft(),d3.axisBottom(),u);a.push(d),d.svg=d3.select(u).append("svg").attr("width",r+e.left+e.right).attr("height",n+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")"),d.x0.domain(o.map(function(t){return t.edb})),d.x1.domain(l).rangeRound([0,d.x0.bandwidth()]),d.y.domain([0,d3.max(o,function(t){return d3.max(l,function(e){return Math.abs(t[e])})})]).nice();var f=d3.format(".2f"),p=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>Value:</strong> <span style='color:lightgreen'>"+f(t.value)+"</span><br><br><strong>Year:</strong> <span style='color:lightgreen'>"+t.key+"</span>"});d.svg.call(p),d.svg.append("g").selectAll("g").data(o).enter().append("g").attr("transform",function(t){return"translate("+d.x0(t.edb)+",0)"}).selectAll("rect").data(function(t){return l.map(function(e){return{neg:t[e]<0,key:e,edb:t.edb,value:Math.abs(t[e])}})}).enter().append("rect").attr("x",function(t){return d.x1(t.key)}).attr("y",function(t){return d.y(t.value)}).attr("width",d.x1.bandwidth()).attr("height",function(t){return n-d.y(t.value)}).attr("fill",function(t){return t.neg?i(t.key):s(t.key)}).attr("class",function(t){return" "+t.edb.replace(/ /g,"")}).on("mouseover",p.show).on("mouseout",p.hide),d.svg.append("g").attr("class","xAxis axis").attr("transform","translate(0,"+n+")").call(d3.axisBottom(d.x0)).selectAll("text").attr("y",0).attr("x",9).attr("dy",".40em").attr("class","axis-text-scaled").attr("transform","rotate(55)").style("text-anchor","start"),d.svg.append("g").attr("class","yAxis axis").call(d.yAxis.scale(d.y)).append("text").attr("x",2).attr("y",d.y(d.y.ticks().pop())+.5).attr("dy","0.40em").attr("class","axis-text-scaled").attr("text-anchor","start"),d.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+-(e.left/2)+","+n/2+")rotate(-90)").attr("class","unit-text-scaled").text(c);var h=d.svg.append("g").attr("font-family","sans-serif").attr("font-size",8).attr("text-anchor","end").selectAll("g").data(l.slice().reverse()).enter().append("g").attr("transform",function(t,e){return"translate(0,"+10*e+")"});h.append("rect").attr("x",r-100).attr("width",8.5).attr("height",8.5).attr("fill",s),h.append("text").attr("x",r-110).attr("y",4).attr("dy","0.32em").attr("class","g-text").style("font-size","8px").text(function(t){return t}),d.created=!0},d=function(t,e,a,o){a.y.domain([0,d3.max(t,function(t){return d3.max(e,function(e){return Math.abs(t[e])})})]).nice(),a.yAxis.scale(a.y),a.svg.select(".yAxis").remove(),a.svg.append("g").attr("class","yAxis axis").call(a.yAxis);var l=d3.format(".2f"),c=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>Value:</strong> <span style='color:lightgreen'>"+l(t.value)+"</span><br><br><strong>Year:</strong> <span style='color:lightgreen'>"+t.key+"</span>"});a.svg.call(c);a.svg.selectAll(".bar").remove();a.svg.append("g").selectAll("g").data(t).enter().append("g").attr("transform",function(t){return"translate("+a.x0(t.edb)+",0)"}).selectAll("rect").data(function(t){return e.map(function(e){return{neg:t[e]<0,key:e,edb:t.edb,value:Math.abs(t[e])}})}).enter().append("rect").attr("x",function(t){return a.x1(t.key)}).attr("y",function(t){return a.y(t.value)}).attr("class","bar").attr("width",a.x1.bandwidth()).attr("height",function(t){return n-a.y(t.value)}).attr("fill",function(t){return t.neg?i(t.key):s(t.key)}).attr("class",function(t){return""+t.edb.replace(/ /g,"")}).on("mouseover",c.show).on("mouseout",c.hide);var u=a.svg.append("g").attr("font-family","sans-serif").attr("font-size",8).attr("text-anchor","end").selectAll("g").data(e.slice().reverse()).enter().append("g").attr("transform",function(t,e){return"translate(0,"+10*e+")"});u.append("rect").attr("x",r-100).attr("width",8.5).attr("height",8.5).attr("fill",s)};return{highlight:l,createdGroupedBarGraph:c}}(),whiskBoxWidth=1;!function(){function t(t){return[0,t.length-1]}function e(t){return[d3.quantile(t,.25),d3.quantile(t,.5),d3.quantile(t,.75)]}d3.box=function(){function r(t){t.each(function(t,e){var r=t[1].sort(d3.ascending),i=d3.select(this),d=r.length,f=r[0],p=r[d-1],h=r.quartiles=l(r),g=o&&o.call(this,r,e),x=g&&g.map(function(t){return r[t]}),y=g?d3.range(0,g[0]).concat(d3.range(g[1]+1,d)):d3.range(d),v=d3.scaleLinear().domain(s&&s.call(this,r,e)||[f,p]).range([n,0]),m=this.__chart__||d3.scaleLinear().domain([0,1/0]).range(v.range());this.__chart__=v;var b=i.selectAll("line.center").data(x?[x]:[]);b.enter().insert("line","rect").attr("class","center").attr("x1",whiskBoxWidth/2).attr("y1",function(t){return m(t[0])}).attr("x2",whiskBoxWidth/2).attr("y2",function(t){return m(t[1])}).style("opacity",1e-6).transition().duration(a).style("opacity",1).attr("y1",function(t){return v(t[0])}).attr("y2",function(t){return v(t[1])}),b.transition().duration(a).style("opacity",1).attr("y1",function(t){return v(t[0])}).attr("y2",function(t){return v(t[1])}),b.exit().transition().duration(a).style("opacity",1e-6).attr("y1",function(t){return v(t[0])}).attr("y2",function(t){return v(t[1])}).remove();var A=i.selectAll("rect.box").data([h]);A.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(t){return m(t[2])}).attr("width",whiskBoxWidth).attr("height",function(t){return m(t[0])-m(t[2])}).transition().duration(a).attr("y",function(t){return v(t[2])}).attr("height",function(t){return v(t[0])-v(t[2])}),A.transition().duration(a).attr("y",function(t){return v(t[2])}).attr("height",function(t){return v(t[0])-v(t[2])});var w=i.selectAll("line.median").data([h[1]]);w.enter().append("line").attr("class","median").attr("x1",0).attr("y1",m).attr("x2",whiskBoxWidth).attr("y2",m).transition().duration(a).attr("y1",v).attr("y2",v),w.transition().duration(a).attr("y1",v).attr("y2",v);var B=i.selectAll("line.whisker").data(x||[]);B.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",m).attr("x2",0+whiskBoxWidth).attr("y2",m).style("opacity",1e-6).transition().duration(a).attr("y1",v).attr("y2",v).style("opacity",1),B.transition().duration(a).attr("y1",v).attr("y2",v).style("opacity",1),B.exit().transition().duration(a).attr("y1",v).attr("y2",v).style("opacity",1e-6).remove();var k=i.selectAll("circle.outlier").data(y,Number);k.enter().insert("circle","text").attr("class","outlier").attr("r",2).attr("cx",whiskBoxWidth/2).attr("cy",function(t){return m(r[t])}).style("opacity",1e-6).transition().duration(a).attr("cy",function(t){return v(r[t])}).style("opacity",1),k.transition().duration(a).attr("cy",function(t){return v(r[t])}).style("opacity",1),k.exit().transition().duration(a).attr("cy",function(t){return v(r[t])}).style("opacity",1e-6).remove();var E=u||v.tickFormat(8),F=i.selectAll("text.box").data(h);1==c&&F.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(t,e){return 1&e?6:-6}).attr("x",function(t,e){return 1&e?+whiskBoxWidth:0}).attr("y",m).attr("text-anchor",function(t,e){return 1&e?"start":"end"}).text(E).transition().duration(a).attr("y",v),F.transition().duration(a).text(E).attr("y",v);var C=i.selectAll("text.whisker").data(x||[]);1==c&&C.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",whiskBoxWidth).attr("y",m).text(E).style("opacity",1e-6).transition().duration(a).attr("y",v).style("opacity",1),C.transition().duration(a).text(E).attr("y",v).style("opacity",1),C.exit().transition().duration(a).attr("y",v).style("opacity",1e-6).remove()}),d3.timerFlush()}var n=1,a=0,s=null,i=Number,o=t,l=e,c=!0,u=null;return r.width=function(t){return arguments.length?(whiskBoxWidth=t,r):whiskBoxWidth},r.height=function(t){return arguments.length?(n=t,r):n},r.tickFormat=function(t){return arguments.length?(u=t,r):u},r.duration=function(t){return arguments.length?(a=t,r):a},d3.functor=function(t){return"function"==typeof t?t:function(){return t}},r.domain=function(t){return arguments.length?(s=null===t?t:d3.functor(t),r):s},r.value=function(t){return arguments.length?(i=t,r):i},r.whiskers=function(t){return arguments.length?(o=t,r):o},r.showLabels=function(t){return arguments.length?(c=t,r):c},r.quartiles=function(t){return arguments.length?(l=t,r):l},r}}();var BoxPlotModule=function(){function t(t,e,r,n,a,s,i,o){this.x=t,this.y=e,this.xAxis=r,this.yAxis=n,this.svg=a,this.chart=s,this.created=i,this.id=o}function e(e,l,c){var u=null,d=e.data,f=e.min,p=e.max,h=e.scatterData;if(o.forEach(function(t){t.id===l&&(u=t)}),null===u){var g=d3.scaleBand().rangeRound([0,s]).padding(.7,.3);u=new t(g,null,null,null,null,null,!1,l),o.push(u)}else d3.select(l+" svg").remove();u.y=d3.scaleLinear().domain([f,p]).nice().range([i+a.top,0+a.top]),u.chart=d3.box().whiskers(r(1.5)).height(i).domain(u.y.domain()).showLabels(n),u.svg=d3.select(l).append("svg").attr("width",s+a.left+a.right).attr("height",i+a.top+a.bottom).attr("class","box").append("g").attr("transform","translate("+a.left+","+a.top+")"),u.x.domain(d.map(function(t){return t[0]})),u.xAxis=d3.axisBottom(u.x),u.yAxis=d3.axisLeft(u.y),u.svg.selectAll(".box").data(d).enter().append("g").attr("transform",function(t){return"translate("+u.x(t[0])+","+a.top+")"}).call(u.chart.width(u.x.bandwidth())),u.svg.selectAll(".box").data(d).enter().append("g").attr("transform",function(t){return"translate("+u.x(t[0])+","+a.top+")"}).call(u.chart.width(u.x.bandwidth()));var x=d3.format(".2f"),y=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>Value:</strong> <span style='color:lightgreen'>"+x(t.value)+"</span><br><br><strong>EDB:</strong> <span style='color:lightgreen'>"+t.edb+"</span>"});u.svg.call(y),u.svg.selectAll(".dot").data(h).enter().append("circle").attr("class",function(t){return"dot "+t.edb.replace(/ /g,"")}).attr("r",4).attr("cx",function(t){return u.x(t.year)+whiskBoxWidth/2}).attr("cy",function(t){return u.y(t.value)}).on("mouseover",y.show).on("mouseout",y.hide),u.svg.append("g").attr("class","yAxis y axis").call(u.yAxis).append("text").attr("transform","rotate(-90)").attr("class","axis-text-scaled").style("text-anchor","end"),u.svg.append("g").attr("class","xAxis axis").attr("transform","translate(0,"+(i+a.top+10)+")").call(u.xAxis).append("text").attr("x",s/2).attr("y",10).attr("dy",".71em").style("text-anchor","middle").attr("class","axis-text-scaled"),u.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+-(a.left/2-10)+","+i/2+")rotate(-90)").attr("class","unit-text-scaled").text(c),u.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+ +(s/2)+","+(a.top+40+i)+")").attr("class","unit-text-scaled").text("Year"),u.created=!0}function r(t){return function(e,r){for(var n=e.quartiles[0],a=e.quartiles[2],s=(a-n)*t,r=-1,i=e.length;e[++r]<n-s;);for(;e[--i]>a+s;);return[r,i]}}var n=!1,a={top:30,right:50,bottom:100,left:100},s=1200-a.left-a.right,i=800-a.top-a.bottom,o=[];return{createBoxPlot:e}}();d3.functor=function(t){return"function"==typeof t?t:function(){return t}},d3.tip=function(){function t(t){b=p(t),A=b.createSVGPoint(),document.body.appendChild(m)}function e(){return"n"}function r(){return[0,0]}function n(){return" "}function a(){var t=g();return{top:t.n.y-m.offsetHeight,left:t.n.x-m.offsetWidth/2}}function s(){var t=g();return{top:t.s.y,left:t.s.x-m.offsetWidth/2}}function i(){var t=g();return{top:t.e.y-m.offsetHeight/2,left:t.e.x}}function o(){var t=g();return{top:t.w.y-m.offsetHeight/2,left:t.w.x-m.offsetWidth}}function l(){var t=g();return{top:t.nw.y-m.offsetHeight,left:t.nw.x-m.offsetWidth}}function c(){var t=g();return{top:t.ne.y-m.offsetHeight,left:t.ne.x}}function u(){var t=g();return{top:t.sw.y,left:t.sw.x-m.offsetWidth}}function d(){var t=g();return{top:t.se.y,left:t.e.x}}function f(){var t=d3.select(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function p(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function h(){return null===m&&(m=f(),document.body.appendChild(m)),d3.select(m)}function g(){for(var t=w||d3.event.target;"undefined"==typeof t.getScreenCTM&&"undefined"===t.parentNode;)t=t.parentNode;var e={},r=t.getScreenCTM(),n=t.getBBox(),a=n.width,s=n.height,i=n.x,o=n.y;return A.x=i,A.y=o,e.nw=A.matrixTransform(r),A.x+=a,e.ne=A.matrixTransform(r),A.y+=s,e.se=A.matrixTransform(r),A.x-=a,e.sw=A.matrixTransform(r),A.y-=s/2,e.w=A.matrixTransform(r),A.x+=a,e.e=A.matrixTransform(r),A.x-=a/2,A.y-=s/2,e.n=A.matrixTransform(r),A.y+=s,e.s=A.matrixTransform(r),e}var x=e,y=r,v=n,m=f(),b=null,A=null,w=null;t.show=function(){var e=Array.prototype.slice.call(arguments);e[e.length-1]instanceof SVGElement&&(w=e.pop());var r,n=v.apply(this,e),a=y.apply(this,e),s=x.apply(this,e),i=h(),o=k.length,l=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;for(i.html(n).style("position","absolute").style("opacity",1).style("pointer-events","all");o--;)i.classed(k[o],!1);return r=B[s].apply(this),i.classed(s,!0).style("top",r.top+a[0]+l+"px").style("left",r.left+a[1]+c+"px"),t},t.hide=function(){var e=h();return e.style("opacity",0).style("pointer-events","none"),t},t.attr=function(e,r){if(arguments.length<2&&"string"==typeof e)return h().attr(e);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(h(),n),t},t.style=function(e,r){if(arguments.length<2&&"string"==typeof e)return h().style(e);var n=Array.prototype.slice.call(arguments);if(1===n.length){var a=n[0];Object.keys(a).forEach(function(t){return d3.selection.prototype.style.apply(h(),[t,a[t]])})}return t},t.direction=function(e){return arguments.length?(x=null==e?e:d3.functor(e),t):x},t.offset=function(e){return arguments.length?(y=null==e?e:d3.functor(e),t):y},t.html=function(e){return arguments.length?(v=null==e?e:d3.functor(e),t):v},t.destroy=function(){return m&&(h().remove(),m=null),t};var B={n:a,s:s,e:i,w:o,nw:l,ne:c,sw:u,se:d},k=Object.keys(B);return t};var Database=function(){function t(t){$.get("/sections/sections",function(e){e.sections.length>0?t(e.sections,!1):t(sections,!0)})}function e(t,e){$.post("/sections/s",{selected:t},function(t){t.categories.length>0&&null!==t.categories[0]?e(t.categories,!1):e([],!0)})}function r(t,e,r){$.post("/sections/sc",{section:t,category:e},function(t){t.subCategories.length>0&&null!==t.subCategories[0]?r(t.subCategories,!1):r([],!0)})}function n(t,e,r,n){$.post("/sections/desc",{category:e,section:t,subCategory:r},function(t){t.descriptions.length>0&&null!==t.descriptions[0]?n(t.descriptions,!1):n(t.descriptions,!0)})}function a(t,e){$.post("/compare/search",{company:"",selections:JSON.stringify(t)},function(t){e(t.rows)})}return{getCategoriesFromDatabase:e,getSubCategoriesFromDatabase:r,getDescriptionsFromDatabase:n,getSectionsFromDatabase:t,getRowsForSearch:a}}(),events={events:{},on:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},off:function(t,e){if(this.events[t])for(var r=0;r<this.events[t].length;r++)if(this.events[t][r]===e){this.events[t].splice(r,1);break}},emit:function(t,e){this.events[t]&&this.events[t].forEach(function(t){t(e)})}},VectorModule=function(){function t(t){this.id=t,this.created=!1,this.xAxis=d3.axisBottom(),this.yAxis=d3.axisLeft(),this.x=d3.scaleLinear().rangeRound([n,0]),this.y=d3.scaleLinear().rangeRound([a,0]),this.svg=null}function e(e,i,o,l){var c=null;s.forEach(function(t){t.id===l&&(c=t)}),null===c&&(c=new t(l),s.push(c));var u=[];e.forEach(function(t){u.push(t.edb)});var d=d3.scaleOrdinal().domain(u).range(["#e69a61","#9817ff","#18c61a","#33b4ff","#c9167e","#297853","#d7011b","#7456c7","#7e6276","#afb113","#fd879c","#fb78fa","#24c373","#45bbc5","#766b21","#abad93","#c19ce3","#fd8f11","#2f56ff","#307a11","#b3483c","#0d7396","#94b665","#9d4d91","#b807c8","#086cbf","#a2abc5","#a35702","#d3084b"]),f=[];e.forEach(function(t){t.years.forEach(function(e){e.edb=t.edb,f.push(e)})});var p=[];f.forEach(function(t){p.push(t.valueB)});var h=[];f.forEach(function(t){h.push(t.valueA)}),c.created||(c.svg=d3.select(l).append("svg").attr("width",n+r.left+r.right).attr("height",a+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")"));var g=d3.max(p,function(t){return t}),v=d3.max(h,function(t){return t});c.x.domain([g,0]).nice(),c.y.domain([0,v]).nice(),c.created?(c.svg.select(".yAxis").call(c.yAxis),c.svg.select(".xAxis").call(c.xAxis)):(c.xAxis.scale(c.x),c.yAxis.scale(c.y)),c.svg.append("g").attr("class","xAxis").attr("transform","translate(0,"+a+")").call(c.xAxis.scale(c.x));var m=d3.format(".2f");c.svg.append("g").attr("class","yAxis").attr("fill","black").call(c.yAxis);var b=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>EDB:</strong> <span style='color:lightgreen'>"+t.edb+"</span><br><br><strong>Year:</strong> <span style='color:lightgreen'>"+t.year+"</span><br><br><strong>Value:</strong> <span style='color:lightgreen'>["+m(t.valueA)+", "+m(t.valueB)+"]</span>"});c.svg.call(b),c.created?c.svg.selectAll(".dotm").data(f).attr("class","dot").attr("r",3.5).attr("cx",function(t){return c.x(t.valueB)}).attr("cy",function(t){return c.y(t.valueA)}).attr("fill",function(t){return d(t.edb)}).on("mouseover",b.show).on("mouseout",b.hide):c.svg.selectAll(".dotm").data(f).enter().append("circle").attr("class","dotm").attr("r",3.5).attr("cx",function(t){return c.x(t.valueB)}).attr("cy",function(t){return c.y(t.valueA)}).attr("fill",function(t){return d(t.edb)}).on("mouseover",b.show).on("mouseout",b.hide);for(var A=[],w=0;w<e.length;w++)for(var B=0;B<e[w].years.length-1;B++)A.push({end:!0,edb:e[w].edb,x:e[w].years[B].valueB,y:e[w].years[B].valueA,x1:e[w].years[B+1].valueB,y1:e[w].years[B+1].valueA});c.created||c.svg.append("svg:defs").selectAll("marker").data(A).enter().append("svg:marker").attr("id",function(t){if(t.end)return"end"+t.edb.replace(/ /g,"")}).attr("viewBox","0 -5 10 10").attr("refX",9).attr("refY",-.5).attr("markerWidth",9).attr("markerHeight",9).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5").style("fill",function(t){return d(t.edb)}),c.created?c.svg.selectAll(".line").data(A).attr("x1",function(t){return x(t.x)}).attr("y1",function(t){return y(t.y)}).attr("x2",function(t){return x(t.x1)}).attr("y2",function(t){return y(t.y1)}).attr("stroke-width",2).attr("class",function(t){return""+t.edb.replace(/ /g,"")}).attr("stroke",function(t){return d(t.edb)}).attr("marker-end",function(t){if(t.end)return"url(#end"+t.edb.replace(/ /g,"")+")"}):c.svg.selectAll(".line").data(A).enter().append("line").attr("x1",function(t){return c.x(t.x)}).attr("y1",function(t){return c.y(t.y)}).attr("x2",function(t){return c.x(t.x1)}).attr("y2",function(t){return c.y(t.y1)}).attr("stroke-width",2).attr("class",function(t){return""+t.edb.replace(/ /g,"")}).attr("stroke",function(t){return d(t.edb)}).attr("marker-end",function(t){if(t.end)return"url(#end"+t.edb.replace(/ /g,"")+")"});var k="",E="";if(l.includes("abcd")?(k="C / D",E="A / B"):l.includes("ab")?(k="B",E="A"):l.includes("cd")&&(k="D",E="C"),c.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+-(r.left/2)+","+ +a/2+")rotate(-90)").attr("class","unit-text").text(E+"     ("+o+")"),c.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+n/2+","+ +(a+r.bottom/4)+")").attr("class","unit-text").text(k+"     ("+i+")"),!c.created){var F=c.svg.append("g").attr("class","vector-key-text").attr("text-anchor","end").selectAll("g").data(u).enter().append("g").append("svg:a").attr("transform",function(t,e){var n=20*Math.floor(e/5),s=160*(e-5*Math.floor(e/5));return s+=r.left,"translate("+s+","+(n+a+r.bottom/3)+")"}).on("mouseover",function(t){c.svg.selectAll("line."+t.replace(/ /g,"")).classed("line-selected",!0)}).on("mouseout",function(t){c.svg.selectAll("line."+t.replace(/ /g,"")).classed("line-selected",!1)});F.append("circle").attr("cx",r.left+55).attr("cy",9.5).attr("r",7.5).attr("fill",d),F.append("text").attr("x",r.left+40).attr("y",9.5).attr("dy","0.32em").attr("class","g-text").style("font-size","14px").text(function(t){return t})}c.created=!0}var r={top:30,right:20,bottom:180,left:70},n=1e3-r.left-r.right,a=800-r.top-r.bottom,s=[];return{createVectorGraph:e}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhci5qcyIsImJhckdyb3VwLmpzIiwiYm94LmpzIiwiYm94UGxvdC5qcyIsImQzLXRpcC5qcyIsIkRhdGFiYXNlLmpzIiwiRXZlbnRzLmpzIiwidmVjdG9yR3JhcGguanMiXSwibmFtZXMiOlsiU2luZ2xlQmFyTW9kdWxlIiwic2hvd0JhcldpdGhSb3dFbGVtIiwicm93SUQiLCJlZGIiLCJkaXYiLCJoZWFkUm93IiwidGFibGVJRCIsInVuaXQiLCJkYXRhIiwiJCIsImZpbmQiLCJlYWNoIiwiaW5kZXgiLCJlbGVtZW50IiwicHVzaCIsImNhdGVnb3J5IiwidGV4dCIsInZhbHVlIiwidGl0bGUiLCJtYXgiLCJJbmZpbml0eSIsInZhbCIsInRoaXMiLCJhdHRyIiwibWluIiwiY3JlYXRlQmFyR3JhcGgiLCJCYXJHcmFwaCIsImlkIiwieCIsImQzIiwic2NhbGVCYW5kIiwicmFuZ2UiLCJiYXJXaWR0aCIsInBhZGRpbmciLCJ5Iiwic2NhbGVMaW5lYXIiLCJiYXJIZWlnaHQiLCJuaWNlIiwieUF4aXMiLCJheGlzTGVmdCIsInhBeGlzIiwiYXhpc0JvdHRvbSIsImNyZWF0ZWQiLCJzdmciLCJkaXZJRCIsInRhYmxlTWF4IiwidGFibGVNaW4iLCJ5TGFiZWwiLCJiYXJHcmFwaCIsInNpbmdsZWJhckdyYXBocyIsImZvckVhY2giLCJiYXJFbGVtIiwiY3JlYXRlTmV3R3JhcGgiLCJ1cGRhdGVHcmFwaCIsIm1peGVkIiwic2VsZWN0IiwiYXBwZW5kIiwiYmFyTWFyZ2luIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiZG9tYWluIiwibWFwIiwiZCIsInNjYWxlIiwic2VsZWN0QWxsIiwiZW50ZXIiLCJiYW5kd2lkdGgiLCJNYXRoIiwiYWJzIiwicmVkIiwiY2FsbCIsIm1heHciLCJnZXRCQm94Iiwid2lkdGgiLCJjb25zb2xlIiwibG9nIiwic3R5bGUiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJHcm91cGVkQmFyTW9kdWxlIiwiR3JvdXBlZEJhckRhdGEiLCJ4MCIsIngxIiwiZyIsIm1hcmdpbiIsImhlaWdodCIsImJhckdyYXBocyIsInoiLCJzY2FsZU9yZGluYWwiLCJ6UmVkIiwielNlbGVjdGVkIiwiaGlnaGxpZ2h0IiwiYWxyZWFkeVNlbGVjdGVkIiwiZGF0dW0iLCJrZXkiLCJjbGFzc2VkIiwicmVwbGFjZSIsImNyZWF0ZWRHcm91cGVkQmFyR3JhcGgiLCJrZXlzIiwiaSIsImxlbmd0aCIsInVwZGF0ZUV4aXN0aW5nR3JhcGgiLCJjcmVhdGVOZXdHcm91cGVkQmFyR3JhcGgiLCJjdXJCYXJHcmFwaCIsInJhbmdlUm91bmQiLCJwYWRkaW5nSW5uZXIiLCJkcEZvcm1hdCIsImZvcm1hdCIsInRpcCIsIm9mZnNldCIsImh0bWwiLCJuZWciLCJvbiIsInNob3ciLCJoaWRlIiwidGlja3MiLCJwb3AiLCJsZWdlbmQiLCJzbGljZSIsInJldmVyc2UiLCJyZW1vdmUiLCJ3aGlza0JveFdpZHRoIiwiYm94V2hpc2tlcnMiLCJib3hRdWFydGlsZXMiLCJxdWFudGlsZSIsImJveCIsInNvcnQiLCJhc2NlbmRpbmciLCJuIiwicXVhcnRpbGVEYXRhIiwicXVhcnRpbGVzIiwid2hpc2tlckluZGljZXMiLCJ3aGlza2VycyIsIndoaXNrZXJEYXRhIiwib3V0bGllckluZGljZXMiLCJjb25jYXQiLCJfX2NoYXJ0X18iLCJjZW50ZXIiLCJpbnNlcnQiLCJleGl0IiwibWVkaWFuTGluZSIsIndoaXNrZXIiLCJvdXRsaWVyIiwiTnVtYmVyIiwidGlja0Zvcm1hdCIsImJveFRpY2siLCJzaG93TGFiZWxzIiwid2hpc2tlclRpY2siLCJ0aW1lckZsdXNoIiwiYXJndW1lbnRzIiwiZnVuY3RvciIsInYiLCJCb3hQbG90TW9kdWxlIiwiQm94UGxvdERhdGEiLCJjaGFydCIsImNyZWF0ZUJveFBsb3QiLCJkYXRhT2JqZWN0IiwiYm94UGxvdE9iamVjdHMiLCJzY2F0dGVyRGF0YSIsInBsb3RzIiwicGxvdCIsImJveFdpZHRoIiwiYm94SGVpZ2h0IiwiYm94TWFyZ2luIiwiaXFyIiwibGFiZWxzIiwieWVhciIsImsiLCJxMSIsInEzIiwiaiIsInZpcyIsImdldFNWR05vZGUiLCJwb2ludCIsImNyZWF0ZVNWR1BvaW50IiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJub2RlIiwiZDNfdGlwX2RpcmVjdGlvbiIsImQzX3RpcF9vZmZzZXQiLCJkM190aXBfaHRtbCIsImRpcmVjdGlvbl9uIiwiYmJveCIsImdldFNjcmVlbkJCb3giLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRXaWR0aCIsImRpcmVjdGlvbl9zIiwicyIsImRpcmVjdGlvbl9lIiwiZSIsImRpcmVjdGlvbl93IiwidyIsImRpcmVjdGlvbl9udyIsIm53IiwiZGlyZWN0aW9uX25lIiwibmUiLCJkaXJlY3Rpb25fc3ciLCJzdyIsImRpcmVjdGlvbl9zZSIsInNlIiwiaW5pdE5vZGUiLCJjcmVhdGVFbGVtZW50IiwiZWwiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJvd25lclNWR0VsZW1lbnQiLCJnZXROb2RlRWwiLCJ0YXJnZXRlbCIsInRhcmdldCIsImV2ZW50IiwiZ2V0U2NyZWVuQ1RNIiwicGFyZW50Tm9kZSIsIm1hdHJpeCIsInRiYm94IiwibWF0cml4VHJhbnNmb3JtIiwiZGlyZWN0aW9uIiwiYXJncyIsIkFycmF5IiwicHJvdG90eXBlIiwiU1ZHRWxlbWVudCIsImNvb3JkcyIsImNvbnRlbnQiLCJhcHBseSIsInBvZmZzZXQiLCJkaXIiLCJub2RlbCIsImRpcmVjdGlvbnMiLCJzY3JvbGxUb3AiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxMZWZ0IiwiZGlyZWN0aW9uX2NhbGxiYWNrcyIsInNlbGVjdGlvbiIsInN0eWxlcyIsIk9iamVjdCIsImRlc3Ryb3kiLCJEYXRhYmFzZSIsImdldFNlY3Rpb25zRnJvbURhdGFiYXNlIiwiY2FsbGJhY2siLCJnZXQiLCJzZWN0aW9ucyIsImdldENhdGVnb3JpZXNGcm9tRGF0YWJhc2UiLCJzZWN0aW9uIiwicG9zdCIsInNlbGVjdGVkIiwiY2F0ZWdvcmllcyIsImdldFN1YkNhdGVnb3JpZXNGcm9tRGF0YWJhc2UiLCJzdWJDYXRlZ29yaWVzIiwiZ2V0RGVzY3JpcHRpb25zRnJvbURhdGFiYXNlIiwic3ViQ2F0ZWdvcnkiLCJkZXNjcmlwdGlvbnMiLCJnZXRSb3dzRm9yU2VhcmNoIiwic2VsZWN0aW9ucyIsImNvbXBhbnkiLCJKU09OIiwic3RyaW5naWZ5Iiwicm93cyIsImV2ZW50cyIsImV2ZW50TmFtZSIsImZuIiwib2ZmIiwic3BsaWNlIiwiZW1pdCIsIlZlY3Rvck1vZHVsZSIsIlZlY3RvckdyYXBoRGF0YSIsInZXaWR0aCIsInZIZWlnaHQiLCJjcmVhdGVWZWN0b3JHcmFwaCIsInhMYWJlbCIsInZlY3RvckdyYXBoIiwidmVjdG9yR3JhcGhzIiwiZWxlbSIsImVkYnMiLCJjb2xvciIsImFsbFZhbHVlcyIsInllYXJzIiwiZTEiLCJ4VmFsdWVzIiwidmFsdWVCIiwieVZhbHVlcyIsInZhbHVlQSIsInZNYXJnaW4iLCJtYXhYIiwibWF4WSIsImxpbmVzIiwiZW5kIiwieTEiLCJ4TWV0cmljTGFiZWwiLCJ5TWV0cmljTGFiZWwiLCJpbmNsdWRlcyIsImZsb29yIl0sIm1hcHBpbmdzIjoiQUFJQSxHQUFBQSxpQkFBQSxXQVFBLFFBQUFDLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsS0FFQUMsR0FBQUosR0FBQUssS0FBQSxNQUFBQyxLQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQUQsR0FDQUosRUFBQU0sTUFBQUMsU0FBQU4sRUFBQUksR0FBQUcsT0FBQUMsTUFBQSxNQUtBUixFQUFBLElBQUFQLEdBQUFRLEtBQUEsTUFBQUMsS0FBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFELEVBQ0FKLEVBQUFJLEVBQUEsR0FBQUssTUFBQVIsRUFBQUksR0FBQUcsT0FFQUUsTUFBQVYsRUFBQUksR0FBQUssTUFBQVIsRUFBQUksR0FBQUcsUUFJQSxJQUFBRyxLQUFBQyxFQUFBQSxFQUNBWCxHQUFBLFFBQUFILEdBQUFLLEtBQUEs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LEVBQUFqTyxLQUFBaU8sRUFBQWhPLE1BQ0FpTixFQUFBLElBQUFlLEVBQUEvTixJQUFBK04sRUFBQTlOLE9BR0FtTixJQTJQQSxRQUNBSCxrQkFBQUEiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBOaWNreSBvbiAxMi8wMS8yMDE3LlxyXG4gKi9cclxuXHJcbnZhciBTaW5nbGVCYXJNb2R1bGUgPSAoZnVuY3Rpb24oKXtcclxuICAvKipcclxuICAgKiBTaG93cyB0aGUgYmFyIGdyYXBoIG9uIHRoZSBzY3JlZW5cclxuICAgKlxyXG4gICAqIEBwYXJhbSByb3dJRCB7U3RyaW5nfSB0aGUgaWQgb2YgdGhlIHJvdyB0byBzaG93IHdpdGggdGhlIGRhdGEgZm9yIHRoZSBiYXIgZ3JhcGhcclxuICAgKiBAcGFyYW0gZWRiIHtTdHJpbmd9IHRoZSBlZGIgb2YgdGhlIHJvd1xyXG4gICAqIEBwYXJhbSBkaXYge1N0cmluZ30gdGhlIGlkIG9mIHRoZSBkaXYgdG8gcHV0IHRoZSBiYXIgZ3JhcGggaW5cclxuICAgKiAqL1xyXG4gIGZ1bmN0aW9uIHNob3dCYXJXaXRoUm93RWxlbShyb3dJRCwgZWRiLCBkaXYsIGhlYWRSb3csIHRhYmxlSUQsdW5pdCl7XHJcbiAgICB2YXIgZGF0YSA9IFtdO1xyXG5cclxuICAgICQoaGVhZFJvdykuZmluZCgndGgnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xyXG4gICAgICBpZihpbmRleCAhPSAwKXsgLy8gMCBpcyBub3QgYSB5ZWFyXHJcbiAgICAgICAgZGF0YS5wdXNoKHtjYXRlZ29yeSA6ICQoZWxlbWVudCkudGV4dCgpLCB2YWx1ZSA6IDB9KTsgLy8gMCBpcyB0ZW1wXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAkKCcjJytyb3dJRCkuZmluZCgndGgnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xyXG4gICAgICBpZihpbmRleCAhPSAwKXtcclxuICAgICAgICBkYXRhW2luZGV4LTFdLnZhbHVlID0gJChlbGVtZW50KS50ZXh0KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGl0bGUgPSBkYXRhW2luZGV4XS52YWx1ZSA9ICQoZWxlbWVudCkudGV4dCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgbWF4ID0gLUluZmluaXR5O1xyXG4gICAgJCgnLmNlbGwnLCB0YWJsZUlEKS5lYWNoKGZ1bmN0aW9uKCl7IC8vY2VsbCBvciB0aFxyXG4gICAgICB2YXIgdmFsID0gKyQodGhpcykuYXR0cihcIm9yaWdWYWx1ZVwiKTtcclxuICAgICAgbWF4ID0gdmFsID4gbWF4ID8gdmFsIDogbWF4O1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIG1pbiA9IEluZmluaXR5O1xyXG4gICAgJCgnLmNlbGwnLCB0YWJsZUlEKS5lYWNoKGZ1bmN0aW9uKCl7IC8vY2VsbCBvciB0aFxyXG4gICAgICB2YXIgdmFsID0gKyQodGhpcykuYXR0cihcIm9yaWdWYWx1ZVwiKTtcclxuICAgICAgbWluID0gdmFsIDwgbWluID8gdmFsIDogbWluO1xyXG4gICAgfSk7XHJcbiAgICBjcmVhdGVCYXJHcmFwaChkaXYsIG1heCxtaW4sIGRhdGEsIGVkYix1bml0KTtcclxuICB9XHJcblxyXG5cclxuICAvLyBTcGVjaWZpZXMgdGhlIGJhck1hcmdpbnMgYW5kIGJhcldpZHRoL2JhckhlaWdodCBvZiB0aGUgc3ZnXHJcbiAgdmFyIGJhck1hcmdpbiA9IHsgdG9wOiA2MCwgcmlnaHQ6IDIwLCBib3R0b206IDUwLCBsZWZ0OiA1MCB9LFxyXG4gICAgYmFyV2lkdGggPSA1NTAgLSBiYXJNYXJnaW4ubGVmdCAtIGJhck1hcmdpbi5yaWdodCxcclxuICAgIGJhckhlaWdodCA9IDUwMCAtIGJhck1hcmdpbi50b3AgLSBiYXJNYXJnaW4uYm90dG9tO1xyXG5cclxuXHJcbiAgdmFyIHNpbmdsZWJhckdyYXBocyA9IFtdO1xyXG5cclxuICBmdW5jdGlvbiBCYXJHcmFwaChpZCl7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB0aGlzLnggPSBkMy5zY2FsZUJhbmQoKS5yYW5nZShbMCwgYmFyV2lkdGhdKS5wYWRkaW5nKDAuNSk7XHJcbiAgICB0aGlzLnkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtiYXJIZWlnaHQsIDBdKS5uaWNlKCk7XHJcbiAgICB0aGlzLnlBeGlzID0gZDMuYXhpc0xlZnQoKTtcclxuICAgIHRoaXMueEF4aXMgPSBkMy5heGlzQm90dG9tKCk7XHJcbiAgICB0aGlzLmNyZWF0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuc3ZnID0gbnVsbDtcclxuICB9XHJcblxyXG4gIHZhciByZWQgPSAnI0ZGMjYyNidcclxuXHJcbi8vIElmIHRoZSBiYXJncmFwaCBkb2VzIG5vdCBleGlzdHMgY3JlYXRlcyBhIG5ldyBvbmUgYW5kIHBsYWNlcyBpdCBpbiB0aGUgZGl2IGVsc2UgdXBkYXRlcyBhbHJlYWR5IGV4aXN0aW5nIGdyYXBoXHJcbiAgZnVuY3Rpb24gY3JlYXRlQmFyR3JhcGgoZGl2SUQsIHRhYmxlTWF4LHRhYmxlTWluLCBkYXRhLCBlZGIsIHlMYWJlbCl7XHJcbiAgICB2YXIgYmFyR3JhcGggPSBudWxsO1xyXG4gICAgc2luZ2xlYmFyR3JhcGhzLmZvckVhY2goZnVuY3Rpb24oYmFyRWxlbSl7XHJcbiAgICAgIGlmKGJhckVsZW0uaWQgPT09IGRpdklEKXtcclxuICAgICAgICBiYXJHcmFwaCA9IGJhckVsZW07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmKGJhckdyYXBoID09PSBudWxsKXtcclxuICAgICAgY3JlYXRlTmV3R3JhcGgoZGl2SUQsIHRhYmxlTWF4LCB0YWJsZU1pbiwgZGF0YSxlZGIsIHlMYWJlbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB1cGRhdGVHcmFwaChiYXJHcmFwaCx0YWJsZU1heCx0YWJsZU1pbixkYXRhLGVkYik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVOZXdHcmFwaChkaXZJRCwgdGFibGVNYXgsdGFibGVNaW4sIGRhdGEsZWRiLCB5TGFiZWwpe1xyXG4gICAgdmFyIGJhckdyYXBoID0gbmV3IEJhckdyYXBoKGRpdklEKTtcclxuICAgIHNpbmdsZWJhckdyYXBocy5wdXNoKGJhckdyYXBoKTtcclxuXHJcbiAgICB2YXIgbWl4ZWQgPSAodGFibGVNaW4gPCAwICYmIHRhYmxlTWF4ID4gMCk7XHJcbiAgICB2YXIgbWF4ID0gMDtcclxuICAgIGlmKCFtaXhlZCAmJiB0YWJsZU1pbiA8IDApe1xyXG4gICAgICBtYXggPSB0YWJsZU1pbjsgLy8gVGhlIHRvcCBvZiB0aGUgZ3JhcGggc2hvdWxkIGJlIHRoZSBsZWFzdCBudW1iZXJcclxuICAgIH0gZWxzZSBpZighbWl4ZWQpIHtcclxuICAgICAgbWF4ID0gdGFibGVNYXg7XHJcbiAgICB9XHJcblxyXG4gICAgaWYobWl4ZWQpe1xyXG4gICAgICBtYXggPSB0YWJsZU1heDtcclxuICAgIH1cclxuXHJcbiAgICBiYXJHcmFwaC5zdmcgPSBkMy5zZWxlY3QoZGl2SUQpLmFwcGVuZChcInN2Z1wiKS8vIENyZWF0ZSBhbmQgYWRkIHRoZSBzdmdcclxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBiYXJXaWR0aCArIGJhck1hcmdpbi5sZWZ0ICsgYmFyTWFyZ2luLnJpZ2h0KVxyXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBiYXJIZWlnaHQgKyBiYXJNYXJnaW4udG9wICsgYmFyTWFyZ2luLmJvdHRvbSlcclxuICAgICAgLmFwcGVuZChcImdcIikgLy8gZ3JvdXAgYWxsb3dzIHVzIHRvIG1vdmUgZXZlcnl0aGluZyB0b2dldGhlclxyXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFxyXG4gICAgICAgIFwidHJhbnNsYXRlKFwiICsgYmFyTWFyZ2luLmxlZnQgKyBcIixcIiArIGJhck1hcmdpbi50b3AgKyBcIilcIik7IC8vIG1vdmVzIGJ5IGEgeCBhbmQgeSB2YWx1ZSBpbiB0aGlzIGNhc2UgdGhlIGJhck1hcmdpbnNcclxuXHJcbiAgICAvLyBHb2VzIHRocm91Z2ggZXZlcnkgZWxlbWVudCBpbiB0aGUgYXJyYXkgYW5kIGdyYWJzIHRoZSBjYXRlZ29yeSAoMjAxMSwyMDEyLDIwMTMgZXRjKVxyXG4gICAgYmFyR3JhcGgueC5kb21haW4oZGF0YS5tYXAoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5jYXRlZ29yeTsgfSkpOy8vIFRoZSBkb21haW4gcmVwcmVzZW50cyB0aGUgbWluIGFuZCBtYXggdmFsdWVzIG9mIHRoZSBkYXRhIGdvZXMgdGhyb3VnaCBhbGwgdmFsdWVzIGFuZCBmaW5kcyBtYXhcclxuICAgIGJhckdyYXBoLnkuZG9tYWluKFswLCBtYXhdKTsgLy8gb2JqZWN0IHNob3VsZCBjb250YWluIGEgdmFsdWVcclxuICAgIGJhckdyYXBoLnkubmljZSgpOyAvLyBSb3VuZHMgdXAgdG8gdGhlIG5lYXJlc3Qgd2hvbGUgbnVtYmVyXHJcbiAgICBiYXJHcmFwaC55QXhpcy5zY2FsZShiYXJHcmFwaC55KTtcclxuXHJcbiAgICAvLyBOZXh0IHN0ZXAgaXMgdG8gY3JlYXRlIHRoZSByZWN0YW5nbGVzIGFuZCBhZGQgdG8gdGhlIHN2Z1xyXG4gICAgYmFyR3JhcGguc3ZnLnNlbGVjdEFsbChcIi5iYXJcIikgLy8gTm9uZSBleGlzdCB5ZXQgYnV0IHdpbGwgYmUgY3JlYXRlZCB3aXRoIGVudGVyXHJcbiAgICAgIC5kYXRhKGRhdGEpIC8vIGVudGVyIHRoZSBkYXRhIGFycmF5XHJcbiAgICAgIC5lbnRlcigpXHJcbiAgICAgIC5hcHBlbmQoXCJyZWN0XCIpIC8vIGNyZWF0ZSB0aGUgcmVjdGFuZ2xlc1xyXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiYmFyIHNpbmdsZS1iYXJcIikgLy8gYWRkIHRoZSBjbGFzcyBhdHRyaWJ1dGVcclxuICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGJhckdyYXBoLngoZC5jYXRlZ29yeSk7IH0pIC8vIHNldCB0aGUgeCB2YWx1ZVxyXG4gICAgICAuYXR0cihcIndpZHRoXCIsIGJhckdyYXBoLnguYmFuZHdpZHRoKCkpIC8vIHNldCB0aGUgYmFyV2lkdGggb2YgdGhlIGJhclxyXG4gICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gYmFyR3JhcGgueShtaXhlZCA/ICBNYXRoLmFicyhkLnZhbHVlKSA6IGQudmFsdWUpOyB9KSAvLyBzZXQgdGhlIHkgdmFsdWUgYWNjb3JkaW5nIHRvIHRoZSB2YWx1ZVxyXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBiYXJIZWlnaHQgLSBiYXJHcmFwaC55KChtaXhlZCA/ICBNYXRoLmFicyhkLnZhbHVlKSA6IGQudmFsdWUpKTsgfSkgLy8gc2V0IHRoZSBiYXJIZWlnaHRcclxuICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuICBtaXhlZCA/ICAoZC52YWx1ZSA+IDAgPyAnbGlnaHRncmVlbicgOiByZWQpIDogJ2xpZ2h0Z3JlZW4nO30pXHJcblxyXG4gICAgLy9jcmVhdGUgdGhlIHggYW5kIHkgYXhpc1xyXG4gICAgYmFyR3JhcGguc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGJhckhlaWdodCArIFwiKVwiKVxyXG4gICAgICAuY2FsbChiYXJHcmFwaC54QXhpcy5zY2FsZShiYXJHcmFwaC54KSk7XHJcblxyXG4gICAgLy8gYWRkIHRoZSB5IEF4aXNcclxuICAgIGJhckdyYXBoLnN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLFwieUF4aXNcIikuY2FsbChiYXJHcmFwaC55QXhpcyk7XHJcbiAgICBiYXJHcmFwaC5jcmVhdGVkID0gdHJ1ZTtcclxuXHJcbiAgICB2YXIgbWF4dyA9IDA7XHJcbiAgICBiYXJHcmFwaC5zdmcuc2VsZWN0KCcueUF4aXMnKS5zZWxlY3RBbGwoJ3RleHQnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmICh0aGlzLmdldEJCb3goKS53aWR0aCA+IG1heHcpIG1heHcgPSB0aGlzLmdldEJCb3goKS53aWR0aDtcclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2coXCJNYXggWVwiLCBtYXh3KTtcclxuXHJcbiAgICBiYXJHcmFwaC5zdmcuYXR0cihcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiICsgKGJhck1hcmdpbi5sZWZ0K21heHcpICsgXCIsXCIgKyBiYXJNYXJnaW4udG9wICsgXCIpXCIpOyAvLyBtb3ZlcyBieSBhIHggYW5kIHkgdmFsdWUgaW4gdGhpcyBjYXNlIHRoZSBiYXJNYXJnaW5zXHJcblxyXG4gICAgLy8gQWRkIGEgdGl0bGVcclxuICAgIGJhckdyYXBoLnN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgIC5hdHRyKFwieFwiLCAoYmFyV2lkdGggLyAyKSlcclxuICAgICAgLmF0dHIoXCJ5XCIsIDAgLSAoYmFyTWFyZ2luLnRvcCAvIDIpKVxyXG4gICAgICAuYXR0cihcImlkXCIsXCJiYXItdGl0bGVcIilcclxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxyXG4gICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIyNHB4XCIpXHJcbiAgICAgIC50ZXh0KGVkYik7XHJcblxyXG4gICAgYmFyR3JhcGguc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKSAgLy8gdGhpcyBtYWtlcyBpdCBlYXN5IHRvIGNlbnRyZSB0aGUgdGV4dCBhcyB0aGUgdHJhbnNmb3JtIGlzIGFwcGxpZWQgdG8gdGhlIGFuY2hvclxyXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIisgLShtYXh3ICsgMjApICtcIixcIisoYmFySGVpZ2h0LzIgKStcIilyb3RhdGUoLTkwKVwiKSAgLy8gdGV4dCBpcyBkcmF3biBvZmYgdGhlIHNjcmVlbiB0b3AgbGVmdCwgbW92ZSBkb3duIGFuZCBvdXQgYW5kIHJvdGF0ZVxyXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwidW5pdC10ZXh0LXNjYWxlZFwiKVxyXG4gICAgICAudGV4dCh5TGFiZWwpO1xyXG5cclxuICAgIC8vIEFkZCB5ZWFyIGFzIHRoZSB4LWF4aXMgbGFiZWxcclxuICAgIGJhckdyYXBoLnN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIikgIC8vIHRoaXMgbWFrZXMgaXQgZWFzeSB0byBjZW50cmUgdGhlIHRleHQgYXMgdGhlIHRyYW5zZm9ybSBpcyBhcHBsaWVkIHRvIHRoZSBhbmNob3JcclxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIrICsoYmFyV2lkdGgvMikgK1wiLFwiKyggYmFyTWFyZ2luLnRvcCArIGJhckhlaWdodCAtYmFyTWFyZ2luLmJvdHRvbSArIDIwICkrXCIpXCIpICAvLyB0ZXh0IGlzIGRyYXduIG9mZiB0aGUgc2NyZWVuIHRvcCBsZWZ0LCBtb3ZlIGRvd24gYW5kIG91dCBhbmQgcm90YXRlXHJcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ1bml0LXRleHQtc2NhbGVkXCIpXHJcbiAgICAgIC50ZXh0KFwiWWVhclwiKTtcclxuICB9XHJcblxyXG4vLyBXZSBkbyBub3QgbmVlZCB0YWJsZSBtYXggYW5kIHRoZSBheGlzIHNob3VsZCBuZXZlciBiZSB1cGRhdGVkIGZvciBhIGdyYXBoXHJcbiAgZnVuY3Rpb24gdXBkYXRlR3JhcGgoYmFyR3JhcGgsdGFibGVNYXgsIHRhYmxlTWluLCBkYXRhLCBlZGIpe1xyXG4gICAgdmFyIG1peGVkID0gKHRhYmxlTWluIDwgMCAmJiB0YWJsZU1heCA+IDApO1xyXG5cclxuICAgIGJhckdyYXBoLnN2Zy5zZWxlY3RBbGwoXCIuYmFyXCIpIC8vIE5vbmUgZXhpc3QgeWV0IGJ1dCB3aWxsIGJlIGNyZWF0ZWQgd2l0aCBlbnRlclxyXG4gICAgICAuZGF0YShkYXRhKSAvLyBlbnRlciB0aGUgZGF0YSBhcnJheVxyXG4gICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgIC5kdXJhdGlvbig3NTApXHJcbiAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBiYXJHcmFwaC55KChtaXhlZCA/ICBNYXRoLmFicyhkLnZhbHVlKSA6IGQudmFsdWUpKTsgfSkgLy8gc2V0IHRoZSB5IHZhbHVlIGFjY29yZGluZyB0byB0aGUgdmFsdWVcclxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gYmFySGVpZ2h0IC0gYmFyR3JhcGgueSgobWl4ZWQgPyAgTWF0aC5hYnMoZC52YWx1ZSkgOiBkLnZhbHVlKSk7IH0pIC8vIHNldCB0aGUgYmFySGVpZ2h0XHJcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiAgbWl4ZWQgPyAgKGQudmFsdWUgPiAwID8gJ2xpZ2h0Z3JlZW4nIDogcmVkKSA6ICdsaWdodGdyZWVuJzt9KTsgLy8gSWYgbWl4ZWQgY2hlY2sgaWYgbmVnYXRpdmUgb3Igbm90IGlmIG5vdCBtaXhlZCBqdXN0IGxpZ2h0Z3JlZW5cclxuXHJcblxyXG4gICAgYmFyR3JhcGguc3ZnLnNlbGVjdChcIiNiYXItdGl0bGVcIikudGV4dChlZGIpOyAvLyBVcGRhdGUgdGhlIHRpdGxlXHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc2hvd0JhcldpdGhSb3dFbGVtOiBzaG93QmFyV2l0aFJvd0VsZW0sXHJcbiAgICBjcmVhdGVCYXJHcmFwaCA6IGNyZWF0ZUJhckdyYXBoXHJcbiAgfVxyXG59KSgpO1xyXG4iLCJ2YXIgR3JvdXBlZEJhck1vZHVsZSA9IChmdW5jdGlvbigpe1xyXG5cclxuICAvLyAgTWFyZ2lucyBhbmQgd2lkdGggLyBoZWlnaHQgZm9yIHRoZSBncmFwaFxyXG4gIHZhciBtYXJnaW4gPSB7IHRvcDogMjUsIHJpZ2h0OiA4NSwgYm90dG9tOiAxNTAsIGxlZnQ6IDgwIH0sXHJcbiAgICB3aWR0aCA9IDEyMDAgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcclxuICAgIGhlaWdodCA9IDc1MCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xyXG5cclxuICAvLyBUaGUgYXJyYXkgdGhhdCBob2xkcyB0aGUgR3JvdXBlZEJhckRhdGEgb2JqZWN0cyBmb3IgZXZlcnkgZ3JhcGggb24gdGhlIHBhZ2VcclxuICB2YXIgYmFyR3JhcGhzID0gW107XHJcblxyXG4gIC8vIEFuIG9iamVjdCB0byBob2xkIGRhdGEgZm9yIGVhY2ggZ3JvdXBlZCBiYXIgZ3JhcGhcclxuICBmdW5jdGlvbiBHcm91cGVkQmFyRGF0YSh4MCwgeDEseSx5QXhpcyxzdmcsaWQpe1xyXG4gICAgdGhpcy54MCA9IHgwO1xyXG4gICAgdGhpcy54MSA9IHgxO1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMueUF4aXMgPSB5QXhpcztcclxuICAgIHRoaXMuc3ZnID0gc3ZnO1xyXG4gICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgdGhpcy5jcmVhdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmcgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLy8gQmx1ZSBjb2xvciBzY2FsZVxyXG4gIHZhciB6ID0gZDMuc2NhbGVPcmRpbmFsKCkucmFuZ2UoW1wiI0JCREVGQlwiLCBcIiM2NEI1RjZcIiwgXCIjMTk3NkQyXCIsIFwiIzE1NjVDMFwiLCBcIiMwRDQ3QTFcIiwgXCIjZDA3NDNjXCIsIFwiI2ZmOGMwMFwiXSk7XHJcblxyXG4gIC8vIFJlZCBjb2xvciBzY2FsZSBmb3IgbmVnYXRpdmUgdmFsdWVzXHJcbiAgdmFyIHpSZWQgPSBkMy5zY2FsZU9yZGluYWwoKS5yYW5nZShbXCIjRkY3MzczXCIsIFwiI0ZGNEM0Q1wiLCBcIiNGRjI2MjZcIiwgXCIjQjIwMDAwXCIsIFwiI0Q5MDAwMFwiLCBcIiNkMDc0M2NcIiwgXCIjZmY4YzAwXCJdKTtcclxuXHJcbiAgLy8gR3JlZW4gY29sb3Igc2NhbGUgZm9yIHNlbGVjdGVkIHZhbHVlc1xyXG4gIHZhciB6U2VsZWN0ZWQgPSBkMy5zY2FsZU9yZGluYWwoKS5yYW5nZShbXCIjQzFGRkMxXCIsIFwiIzkwRUU5MFwiLCBcIiM1QkM4NUJcIiwgXCIjMzFBMjMxXCIsIFwiIzEzN0IxM1wiLCBcIiNkMDc0M2NcIiwgXCIjZmY4YzAwXCJdKTtcclxuXHJcbiAgLy8gSGlnaGxpZ2h0cyBlYWNoIGJhciB0aGF0IGNvcnJvc3BvbmRzIHRvIHRoZSBFREIuIElmIGFscmVhZHlTZWxlY3RlZCwgbm90aGluZyBzaG91bGQgYmUgaGlnaGxpZ2h0ZWQgdGhlcmVmb3JlIHRoZSBub3JtYWwgc2NhbGUgaXMgYXBwbGllZFxyXG52YXIgaGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGVkYiwgYWxyZWFkeVNlbGVjdGVkKSB7XHJcbiAgICAvLyBCZWZvcmUgd2UgcmVtb3ZlIHRoZSBjbGFzcyB3ZSBuZWVkIHRvIGFwcGx5IHRoZSBjb3JyZWN0IGNvbG9yIHNjYWxlXHJcbiAgICBkMy5zZWxlY3RBbGwoXCIuYmFyLXNlbGVjdGVkXCIpLmRhdHVtKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZDsgfSlcclxuICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4geihkLmtleSk7IH0pO1xyXG5cclxuICAgIC8vIFNlbGVjdCBhbGwgcmVjdGFuZ2xlIHdpdGggdGhlIHNlbGVjdGVkIGNsYXNzIGFuZCByZW1vdmUgY2xhc3NcclxuICAgIGQzLnNlbGVjdEFsbChcIi5iYXItc2VsZWN0ZWRcIikuY2xhc3NlZChcImJhci1zZWxlY3RlZFwiLCBmYWxzZSk7XHJcblxyXG4gICAgaWYoYWxyZWFkeVNlbGVjdGVkKXtyZXR1cm47fSAvLyBUaGUgY2FzZSB3aGVyZSB0aGUgcm93IGlzIHVuc2VsZWN0ZWQgYnV0IG5vdGhpbmcgZWxzZSBpcyBzZWxlY3RlZFxyXG5cclxuICAgIGQzLnNlbGVjdEFsbChcInJlY3QuXCIrZWRiLnJlcGxhY2UoLyAvZyAsIFwiXCIpKVxyXG4gICAgICAuY2xhc3NlZChcImJhci1zZWxlY3RlZFwiLCB0cnVlKSAvLyBTZWxlY3QgYWxsIHJlY3RhbmdsZSB3aXRoIHRoZSBjb3JyZWN0IEVEQiBhbmQgb3V0bGluZSBiYXJzIGFuZCBhZGQgc2VsZWN0ZWQgY2xhc3NcclxuICAgICAgLmRhdHVtKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZDsgfSkgLy8gR3JhYiB0aGUgZGF0YSBib3VuZCB0byB0aGUgZWxlbWVudHNcclxuICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gelNlbGVjdGVkKGQua2V5KTsgfSk7IC8vIEFwcGx5IHRoZSBncmVlbiBjb2xvciBzY2FsZSBiYXNlZCBvbiB0aGUga2V5XHJcbn1cclxuXHJcblxyXG4vLyBPbmx5IHB1YmxpYyBmdW5jdGlvbiB1c2VkIHRvIHBsYWNlIG9yIHVwZGF0ZSBhIGdyYXBoIG9uIHRoZSBwYWdlXHJcbnZhciBjcmVhdGVkR3JvdXBlZEJhckdyYXBoID0gZnVuY3Rpb24gKGRhdGEsa2V5cyx5TGFiZWwsIGRpdklEKSB7XHJcbiAgZm9yKHZhciBpID0gMDsgaSA8IGJhckdyYXBocy5sZW5ndGg7IGkrKyl7XHJcbiAgICBpZihiYXJHcmFwaHNbaV0uaWQgPT09IGRpdklEKXtcclxuICAgICAgdXBkYXRlRXhpc3RpbmdHcmFwaChkYXRhLCBrZXlzLCBiYXJHcmFwaHNbaV0sIHlMYWJlbCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9XHJcbiAgY3JlYXRlTmV3R3JvdXBlZEJhckdyYXBoKGRhdGEsIGtleXMsIHlMYWJlbCwgZGl2SUQpOyAvLyBObyBncmFwaCBleGlzdHMgc28gbWFrZSBhIG5ldyBvbmVcclxufVxyXG5cclxuXHJcbi8vIENyZWF0ZXMgYSBicmFuZCBuZXcgZ3JvdXBlZCBiYXIgZ3JhcGhcclxudmFyIGNyZWF0ZU5ld0dyb3VwZWRCYXJHcmFwaCA9IGZ1bmN0aW9uIChkYXRhLCBrZXlzLCB5TGFiZWwsIGRpdklEKSB7XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBuZXcgZ3JhcGggb2JqZWN0XHJcbiAgICB2YXIgY3VyQmFyR3JhcGggPSBuZXcgR3JvdXBlZEJhckRhdGEoXHJcbiAgICAgICAgZDMuc2NhbGVCYW5kKCkucmFuZ2VSb3VuZChbMCwgd2lkdGhdKS5wYWRkaW5nSW5uZXIoMC4wNSksXHJcbiAgICAgICAgZDMuc2NhbGVCYW5kKCkucGFkZGluZygwLjA1KSxcclxuICAgICAgICBkMy5zY2FsZUxpbmVhcigpLnJhbmdlUm91bmQoW2hlaWdodCwgMF0pLFxyXG4gICAgICAgIGQzLmF4aXNMZWZ0KCksXHJcbiAgICAgICAgZDMuYXhpc0JvdHRvbSgpLFxyXG4gICAgICAgIGRpdklEKTtcclxuXHJcbiAgIGJhckdyYXBocy5wdXNoKGN1ckJhckdyYXBoKTtcclxuXHJcbiAgIGN1ckJhckdyYXBoLnN2ZyA9ICBkMy5zZWxlY3QoZGl2SUQpLmFwcGVuZChcInN2Z1wiKVxyXG4gICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxyXG4gICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXHJcbiAgICAgICAgICAgICAuYXBwZW5kKFwiZ1wiKSAvLyBncm91cCBhbGxvd3MgdXMgdG8gbW92ZSBldmVyeXRoaW5nIHRvZ2V0aGVyXHJcbiAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7IC8vIG1vdmVzIGJ5IGEgeCBhbmQgeSB2YWx1ZSBpbiB0aGlzIGNhc2UgdGhlIG1hcmdpbnNcclxuXHJcbiAgICBjdXJCYXJHcmFwaC54MC5kb21haW4oZGF0YS5tYXAoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5lZGI7IH0pKTtcclxuICAgIGN1ckJhckdyYXBoLngxLmRvbWFpbihrZXlzKS5yYW5nZVJvdW5kKFswLCBjdXJCYXJHcmFwaC54MC5iYW5kd2lkdGgoKV0pO1xyXG4gICAgY3VyQmFyR3JhcGgueS5kb21haW4oWzAsIGQzLm1heChkYXRhLCBmdW5jdGlvbihkKSB7IHJldHVybiBkMy5tYXgoa2V5cywgZnVuY3Rpb24oa2V5KSB7IHJldHVybiBNYXRoLmFicyhkW2tleV0pOyB9KTsgfSldKS5uaWNlKCk7XHJcblxyXG5cclxuICAgIC8vIFRoZSBmb3JtYXQgdXNlZCBvbiB0aGUgdGlwIHZhbHVlc1xyXG4gICAgdmFyIGRwRm9ybWF0ID0gZDMuZm9ybWF0KFwiLjJmXCIpO1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgdGlwIHRoYXQgd2lsbCBzaG93IHVwIG9uIGhvdmVyXHJcbiAgICB2YXIgdGlwID0gZDMudGlwKClcclxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2QzLXRpcCcpXHJcbiAgICAgIC5vZmZzZXQoWy0xMCwgMF0pXHJcbiAgICAgIC5odG1sKGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICByZXR1cm4gXCI8c3Ryb25nPlZhbHVlOjwvc3Ryb25nPiA8c3BhbiBzdHlsZT0nY29sb3I6bGlnaHRncmVlbic+XCIgKyBkcEZvcm1hdChkLnZhbHVlKSArIFwiPC9zcGFuPjxicj48YnI+PHN0cm9uZz5ZZWFyOjwvc3Ryb25nPiA8c3BhbiBzdHlsZT0nY29sb3I6bGlnaHRncmVlbic+XCIgKyBkLmtleSArIFwiPC9zcGFuPlwiO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY3VyQmFyR3JhcGguc3ZnLmNhbGwodGlwKTtcclxuXHJcbiAgICAgIGN1ckJhckdyYXBoLnN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLnNlbGVjdEFsbChcImdcIilcclxuICAgICAgICAuZGF0YShkYXRhKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBcInRyYW5zbGF0ZShcIiArIGN1ckJhckdyYXBoLngwKGQuZWRiKSArIFwiLDApXCI7IH0pXHJcbiAgICAgICAgLnNlbGVjdEFsbChcInJlY3RcIilcclxuICAgICAgICAuZGF0YShmdW5jdGlvbihkKSB7IHJldHVybiBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHtuZWcgOiBkW2tleV0gPCAwLGtleToga2V5LCBlZGIgOiBkLmVkYiwgdmFsdWU6IE1hdGguYWJzKGRba2V5XSl9OyB9KTsgfSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGN1ckJhckdyYXBoLngxKGQua2V5KTsgfSlcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gY3VyQmFyR3JhcGgueShkLnZhbHVlKTsgfSlcclxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIGN1ckJhckdyYXBoLngxLmJhbmR3aWR0aCgpKVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGhlaWdodCAtIGN1ckJhckdyYXBoLnkoZC52YWx1ZSk7IH0pXHJcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHsgaWYoZC5uZWcpe1xyXG4gICAgICAgICAgcmV0dXJuIHpSZWQoZC5rZXkpO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgIHJldHVybiB6KGQua2V5KTtcclxuICAgICAgICB9fSlcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oZCl7cmV0dXJuIFwiIFwiK2QuZWRiLnJlcGxhY2UoLyAvZyAsIFwiXCIpO30pIC8vIEFkZCBlYmQgYXMgdGhlIGNsYXNzXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCB0aXAuc2hvdylcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgdGlwLmhpZGUpO1xyXG5cclxuICAgIC8vIEFkZCB4IGF4aXNcclxuICAgIGN1ckJhckdyYXBoLnN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ4QXhpcyBheGlzXCIpXHJcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcclxuICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbShjdXJCYXJHcmFwaC54MCkpXHJcbiAgICAgIC5zZWxlY3RBbGwoXCJ0ZXh0XCIpXHJcbiAgICAgIC5hdHRyKFwieVwiLCAwKVxyXG4gICAgICAuYXR0cihcInhcIiwgOSlcclxuICAgICAgLmF0dHIoXCJkeVwiLCBcIi40MGVtXCIpXHJcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJheGlzLXRleHQtc2NhbGVkXCIpXHJcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDU1KVwiKVxyXG4gICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xyXG5cclxuICAgIGN1ckJhckdyYXBoLnN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInlBeGlzIGF4aXNcIilcclxuICAgICAgICAuY2FsbChjdXJCYXJHcmFwaC55QXhpcy5zY2FsZShjdXJCYXJHcmFwaC55KSkvLy50aWNrcyhudWxsLCBcInNcIilcclxuICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCAyKVxyXG4gICAgICAgIC5hdHRyKFwieVwiLCBjdXJCYXJHcmFwaC55KGN1ckJhckdyYXBoLnkudGlja3MoKS5wb3AoKSkgKyAwLjUpXHJcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIjAuNDBlbVwiKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJheGlzLXRleHQtc2NhbGVkXCIpXHJcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpXHJcblxyXG5cclxuICAgIGN1ckJhckdyYXBoLnN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIikgIC8vIHRoaXMgbWFrZXMgaXQgZWFzeSB0byBjZW50cmUgdGhlIHRleHQgYXMgdGhlIHRyYW5zZm9ybSBpcyBhcHBsaWVkIHRvIHRoZSBhbmNob3JcclxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIrIC0obWFyZ2luLmxlZnQvMikgK1wiLFwiKyhoZWlnaHQvMikrXCIpcm90YXRlKC05MClcIikgIC8vIHRleHQgaXMgZHJhd24gb2ZmIHRoZSBzY3JlZW4gdG9wIGxlZnQsIG1vdmUgZG93biBhbmQgb3V0IGFuZCByb3RhdGVcclxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInVuaXQtdGV4dC1zY2FsZWRcIilcclxuICAgICAgLnRleHQoeUxhYmVsKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIGxlZ2VuZFxyXG4gICAgdmFyIGxlZ2VuZCA9IGN1ckJhckdyYXBoLnN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgIC5hdHRyKFwiZm9udC1mYW1pbHlcIiwgXCJzYW5zLXNlcmlmXCIpXHJcbiAgICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIDgpXHJcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcclxuICAgICAgLnNlbGVjdEFsbChcImdcIilcclxuICAgICAgLmRhdGEoa2V5cy5zbGljZSgpLnJldmVyc2UoKSlcclxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiBcInRyYW5zbGF0ZSgwLFwiICsgaSAqIDEwICsgXCIpXCI7IH0pO1xyXG5cclxuICAgIGxlZ2VuZC5hcHBlbmQoXCJyZWN0XCIpXHJcbiAgICAgIC5hdHRyKFwieFwiLCB3aWR0aCAtIDEwMClcclxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCA4LjUpXHJcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIDguNSlcclxuICAgICAgLmF0dHIoXCJmaWxsXCIsIHopO1xyXG5cclxuICAgIGxlZ2VuZC5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgIC5hdHRyKFwieFwiLCB3aWR0aCAtIDExMClcclxuICAgICAgLmF0dHIoXCJ5XCIsIDQpXHJcbiAgICAgIC5hdHRyKFwiZHlcIiwgXCIwLjMyZW1cIilcclxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImctdGV4dFwiKVxyXG4gICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgXCI4cHhcIilcclxuICAgICAgLnRleHQoZnVuY3Rpb24oZCkgeyByZXR1cm4gZDsgfSk7XHJcblxyXG4gICAgY3VyQmFyR3JhcGguY3JlYXRlZCA9IHRydWU7IC8vIFNldCB0aGUgZ3JhcGggd2l0aCB0aGUgSUQgZGl2SUQgdG8gY3JlYXRlZFxyXG59XHJcblxyXG52YXIgdXBkYXRlRXhpc3RpbmdHcmFwaCA9IGZ1bmN0aW9uIChkYXRhLCBrZXlzLCBjdXJCYXJHcmFwaCwgeUxhYmVsKSB7XHJcblxyXG4gICAgY3VyQmFyR3JhcGgueS5kb21haW4oWzAsIGQzLm1heChkYXRhLCBmdW5jdGlvbihkKSB7IHJldHVybiBkMy5tYXgoa2V5cywgZnVuY3Rpb24oa2V5KSB7IHJldHVybiBNYXRoLmFicyhkW2tleV0pOyB9KTsgfSldKS5uaWNlKCk7XHJcblxyXG4gICAgY3VyQmFyR3JhcGgueUF4aXMuc2NhbGUoY3VyQmFyR3JhcGgueSk7XHJcblxyXG4gICAgICAgIC8qIFkgYXhpcyAqL1xyXG4gICAgY3VyQmFyR3JhcGguc3ZnLnNlbGVjdChcIi55QXhpc1wiKS5yZW1vdmUoKTtcclxuICAgIGN1ckJhckdyYXBoLnN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInlBeGlzIGF4aXNcIilcclxuICAgICAgICAuY2FsbChjdXJCYXJHcmFwaC55QXhpcyk7XHJcblxyXG5cclxuXHJcbiAgICAvLyBUaGUgZm9ybWF0IHVzZWQgb24gdGhlIHRpcCB2YWx1ZXNcclxuICAgIHZhciBkcEZvcm1hdCA9IGQzLmZvcm1hdChcIi4yZlwiKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIHRpcCB0aGF0IHdpbGwgc2hvdyB1cCBvbiBob3ZlclxyXG4gICAgdmFyIHRpcCA9IGQzLnRpcCgpXHJcbiAgICAgIC5hdHRyKCdjbGFzcycsICdkMy10aXAnKVxyXG4gICAgICAub2Zmc2V0KFstMTAsIDBdKVxyXG4gICAgICAuaHRtbChmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiPHN0cm9uZz5WYWx1ZTo8L3N0cm9uZz4gPHNwYW4gc3R5bGU9J2NvbG9yOmxpZ2h0Z3JlZW4nPlwiICsgZHBGb3JtYXQoZC52YWx1ZSkgKyBcIjwvc3Bhbj48YnI+PGJyPjxzdHJvbmc+WWVhcjo8L3N0cm9uZz4gPHNwYW4gc3R5bGU9J2NvbG9yOmxpZ2h0Z3JlZW4nPlwiICsgZC5rZXkgKyBcIjwvc3Bhbj5cIjtcclxuICAgICAgfSk7XHJcblxyXG4gICAgY3VyQmFyR3JhcGguc3ZnLmNhbGwodGlwKTtcclxuXHJcbiAgICB2YXIgc2VsZWN0aW9uID0gY3VyQmFyR3JhcGguc3ZnLnNlbGVjdEFsbChcIi5iYXJcIikucmVtb3ZlKCk7XHJcblxyXG5cclxuICAgIGN1ckJhckdyYXBoLnN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLnNlbGVjdEFsbChcImdcIilcclxuICAgICAgICAuZGF0YShkYXRhKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBcInRyYW5zbGF0ZShcIiArIGN1ckJhckdyYXBoLngwKGQuZWRiKSArIFwiLDApXCI7IH0pXHJcbiAgICAgICAgLnNlbGVjdEFsbChcInJlY3RcIilcclxuICAgICAgICAuZGF0YShmdW5jdGlvbihkKSB7IHJldHVybiBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHtuZWcgOiBkW2tleV0gPCAwLGtleToga2V5LCBlZGIgOiBkLmVkYiwgdmFsdWU6IE1hdGguYWJzKGRba2V5XSl9OyB9KTsgfSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGN1ckJhckdyYXBoLngxKGQua2V5KTsgfSlcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gY3VyQmFyR3JhcGgueShkLnZhbHVlKTsgfSlcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsXCJiYXJcIilcclxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIGN1ckJhckdyYXBoLngxLmJhbmR3aWR0aCgpKVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGhlaWdodCAtIGN1ckJhckdyYXBoLnkoZC52YWx1ZSk7IH0pXHJcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHsgaWYoZC5uZWcpe1xyXG4gICAgICAgICAgcmV0dXJuIHpSZWQoZC5rZXkpO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgIHJldHVybiB6KGQua2V5KTtcclxuICAgICAgICB9fSlcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oZCl7cmV0dXJuIFwiXCIrZC5lZGIucmVwbGFjZSgvIC9nICwgXCJcIik7fSApIC8vIEFkZCBlYmQgYXMgdGhlIGNsYXNzXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCB0aXAuc2hvdylcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgdGlwLmhpZGUpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBsZWdlbmRcclxuICAgIHZhciBsZWdlbmQgPSBjdXJCYXJHcmFwaC5zdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAuYXR0cihcImZvbnQtZmFtaWx5XCIsIFwic2Fucy1zZXJpZlwiKVxyXG4gICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCA4KVxyXG4gICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXHJcbiAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXHJcbiAgICAgIC5kYXRhKGtleXMuc2xpY2UoKS5yZXZlcnNlKCkpXHJcbiAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcclxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoMCxcIiArIGkgKiAxMCArIFwiKVwiOyB9KTtcclxuXHJcbiAgICBsZWdlbmQuYXBwZW5kKFwicmVjdFwiKVxyXG4gICAgICAuYXR0cihcInhcIiwgd2lkdGggLSAxMDApXHJcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgOC41KVxyXG4gICAgICAuYXR0cihcImhlaWdodFwiLCA4LjUpXHJcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCB6KTtcclxuXHJcbn1cclxuICByZXR1cm4ge1xyXG4gICAgaGlnaGxpZ2h0IDogaGlnaGxpZ2h0LFxyXG4gICAgY3JlYXRlZEdyb3VwZWRCYXJHcmFwaCA6IGNyZWF0ZWRHcm91cGVkQmFyR3JhcGhcclxuICB9XHJcbn0pKCk7XHJcbiIsIi8vIFJlcXVpcmVkIHRvIGxpbmUgdXAgc2NhdHRlciBwbG90IGRvdHNcclxudmFyIHdoaXNrQm94V2lkdGggPSAxO1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuLy8gSW5zcGlyZWQgYnkgaHR0cDovL2luZm9ybWF0aW9uYW5kdmlzdWFsaXphdGlvbi5kZS9ibG9nL2JveC1wbG90XHJcbiAgICBkMy5ib3ggPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIGhlaWdodCA9IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uID0gMCxcclxuICAgICAgICAgICAgZG9tYWluID0gbnVsbCxcclxuICAgICAgICAgICAgdmFsdWUgPSBOdW1iZXIsXHJcbiAgICAgICAgICAgIHdoaXNrZXJzID0gYm94V2hpc2tlcnMsXHJcbiAgICAgICAgICAgIHF1YXJ0aWxlcyA9IGJveFF1YXJ0aWxlcyxcclxuICAgICAgICAgICAgc2hvd0xhYmVscyA9IHRydWUsIC8vIHdoZXRoZXIgb3Igbm90IHRvIHNob3cgdGV4dCBsYWJlbHNcclxuICAgICAgICAgICAgbnVtQmFycyA9IDQsXHJcbiAgICAgICAgICAgIGN1ckJhciA9IDEsXHJcbiAgICAgICAgICAgIHRpY2tGb3JtYXQgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBGb3IgZWFjaCBzbWFsbCBtdWx0aXBsZeKAplxyXG4gICAgICAgIGZ1bmN0aW9uIGJveChnKSB7XHJcbiAgICAgICAgICAgIGcuZWFjaChmdW5jdGlvbihkYXRhLCBpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9IGRhdGFbMV0uc29ydChkMy5hc2NlbmRpbmcpOyAvLyBTb3J0cyBvbiBvZiB0aGUgbnVtYmVycyBhcnJheXNcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZyA9IGQzLnNlbGVjdCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICBuID0gZC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gZFswXSxcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBkW24gLSAxXTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBxdWFydGlsZXMuIE11c3QgcmV0dXJuIGV4YWN0bHkgMyBlbGVtZW50cy5cclxuICAgICAgICAgICAgICAgIHZhciBxdWFydGlsZURhdGEgPSBkLnF1YXJ0aWxlcyA9IHF1YXJ0aWxlcyhkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIHdoaXNrZXJzLiBNdXN0IHJldHVybiBleGFjdGx5IDIgZWxlbWVudHMsIG9yIG51bGwuXHJcbiAgICAgICAgICAgICAgICB2YXIgd2hpc2tlckluZGljZXMgPSB3aGlza2VycyAmJiB3aGlza2Vycy5jYWxsKHRoaXMsIGQsIGkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHdoaXNrZXJEYXRhID0gd2hpc2tlckluZGljZXMgJiYgd2hpc2tlckluZGljZXMubWFwKGZ1bmN0aW9uKGkpIHsgcmV0dXJuIGRbaV07IH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgb3V0bGllcnMuIElmIG5vIHdoaXNrZXJzIGFyZSBzcGVjaWZpZWQsIGFsbCBkYXRhIGFyZSBcIm91dGxpZXJzXCIuXHJcbiAgICAgICAgICAgICAgICAvLyBXZSBjb21wdXRlIHRoZSBvdXRsaWVycyBhcyBpbmRpY2VzLCBzbyB0aGF0IHdlIGNhbiBqb2luIGFjcm9zcyB0cmFuc2l0aW9ucyFcclxuICAgICAgICAgICAgICAgIHZhciBvdXRsaWVySW5kaWNlcyA9IHdoaXNrZXJJbmRpY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgPyBkMy5yYW5nZSgwLCB3aGlza2VySW5kaWNlc1swXSkuY29uY2F0KGQzLnJhbmdlKHdoaXNrZXJJbmRpY2VzWzFdICsgMSwgbikpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBkMy5yYW5nZShuKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgbmV3IHgtc2NhbGUuXHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBkMy5zY2FsZUxpbmVhcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRvbWFpbihkb21haW4gJiYgZG9tYWluLmNhbGwodGhpcywgZCwgaSkgfHwgW21pbiwgbWF4XSlcclxuICAgICAgICAgICAgICAgICAgICAucmFuZ2UoW2hlaWdodCwgMF0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZXRyaWV2ZSB0aGUgb2xkIHgtc2NhbGUsIGlmIHRoaXMgaXMgYW4gdXBkYXRlLlxyXG4gICAgICAgICAgICAgICAgdmFyIHgwID0gdGhpcy5fX2NoYXJ0X18gfHwgZDMuc2NhbGVMaW5lYXIoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZG9tYWluKFswLCBJbmZpbml0eV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC5kb21haW4oWzAsIG1heF0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yYW5nZSh4MS5yYW5nZSgpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdGFzaCB0aGUgbmV3IHNjYWxlLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fX2NoYXJ0X18gPSB4MTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiB0aGUgYm94LCBtZWRpYW4sIGFuZCBib3ggdGljayBlbGVtZW50cyBhcmUgZml4ZWQgaW4gbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgLy8gc28gd2Ugb25seSBoYXZlIHRvIGhhbmRsZSBlbnRlciBhbmQgdXBkYXRlLiBJbiBjb250cmFzdCwgdGhlIG91dGxpZXJzXHJcbiAgICAgICAgICAgICAgICAvLyBhbmQgb3RoZXIgZWxlbWVudHMgYXJlIHZhcmlhYmxlLCBzbyB3ZSBuZWVkIHRvIGV4aXQgdGhlbSEgVmFyaWFibGVcclxuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnRzIGFsc28gZmFkZSBpbiBhbmQgb3V0LlxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjZW50ZXIgbGluZTogdGhlIHZlcnRpY2FsIGxpbmUgc3Bhbm5pbmcgdGhlIHdoaXNrZXJzLlxyXG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IGcuc2VsZWN0QWxsKFwibGluZS5jZW50ZXJcIilcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YSh3aGlza2VyRGF0YSA/IFt3aGlza2VyRGF0YV0gOiBbXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy92ZXJ0aWNhbCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjZW50ZXIuZW50ZXIoKS5pbnNlcnQoXCJsaW5lXCIsIFwicmVjdFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJjZW50ZXJcIilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcIngxXCIsIHdoaXNrQm94V2lkdGggLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geDAoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCB3aGlza0JveFdpZHRoIC8gMilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkyXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgwKGRbMV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkxXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgxKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geDEoZFsxXSk7IH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNlbnRlci50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MShkWzFdKTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2VudGVyLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MShkWzFdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGlubmVycXVhcnRpbGUgYm94LlxyXG4gICAgICAgICAgICAgICAgdmFyIGJveCA9IGcuc2VsZWN0QWxsKFwicmVjdC5ib3hcIilcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShbcXVhcnRpbGVEYXRhXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYm94LmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJib3hcIilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkge3JldHVybiB4MChkWzJdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIHdoaXNrQm94V2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geDAoZFswXSkgLSB4MChkWzJdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MShkWzJdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MShkWzBdKSAtIHgxKGRbMl0pOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBib3gudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MShkWzJdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4MShkWzBdKSAtIHgxKGRbMl0pOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgbWVkaWFuIGxpbmUuXHJcbiAgICAgICAgICAgICAgICB2YXIgbWVkaWFuTGluZSA9IGcuc2VsZWN0QWxsKFwibGluZS5tZWRpYW5cIilcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShbcXVhcnRpbGVEYXRhWzFdXSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIG1lZGlhbkxpbmUuZW50ZXIoKS5hcHBlbmQoXCJsaW5lXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcIm1lZGlhblwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieDFcIiwgMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkxXCIsIHgwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieDJcIiwgd2hpc2tCb3hXaWR0aClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkyXCIsIHgwKVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkyXCIsIHgxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtZWRpYW5MaW5lLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkxXCIsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgeDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB3aGlza2Vycy5cclxuICAgICAgICAgICAgICAgIHZhciB3aGlza2VyID0gZy5zZWxlY3RBbGwoXCJsaW5lLndoaXNrZXJcIilcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YSh3aGlza2VyRGF0YSB8fCBbXSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHdoaXNrZXIuZW50ZXIoKS5pbnNlcnQoXCJsaW5lXCIsIFwiY2lyY2xlLCB0ZXh0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcIndoaXNrZXJcIilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcIngxXCIsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcIngyXCIsIDAgKyB3aGlza0JveFdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkyXCIsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpc2tlci50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkyXCIsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpc2tlci5leGl0KCkudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBvdXRsaWVycy5cclxuICAgICAgICAgICAgICAgIHZhciBvdXRsaWVyID0gZy5zZWxlY3RBbGwoXCJjaXJjbGUub3V0bGllclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKG91dGxpZXJJbmRpY2VzLCBOdW1iZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIG91dGxpZXIuZW50ZXIoKS5pbnNlcnQoXCJjaXJjbGVcIiwgXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcIm91dGxpZXJcIilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInJcIiwgMilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImN4XCIsIHdoaXNrQm94V2lkdGggLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY3lcIiwgZnVuY3Rpb24oaSkgeyByZXR1cm4geDAoZFtpXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjeVwiLCBmdW5jdGlvbihpKSB7IHJldHVybiB4MShkW2ldKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIG91dGxpZXIudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY3lcIiwgZnVuY3Rpb24oaSkgeyByZXR1cm4geDEoZFtpXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBvdXRsaWVyLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjeVwiLCBmdW5jdGlvbihpKSB7IHJldHVybiB4MShkW2ldKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgdGhlIHRpY2sgZm9ybWF0LlxyXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdCA9IHRpY2tGb3JtYXQgfHwgeDEudGlja0Zvcm1hdCg4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYm94IHRpY2tzLlxyXG4gICAgICAgICAgICAgICAgdmFyIGJveFRpY2sgPSBnLnNlbGVjdEFsbChcInRleHQuYm94XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEocXVhcnRpbGVEYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmKHNob3dMYWJlbHMgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJveFRpY2suZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJib3hcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zZW1cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJkeFwiLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiBpICYgMSA/IDYgOiAtNiB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gaSAmIDEgPyAgKyB3aGlza0JveFdpZHRoIDogMCB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gaSAmIDEgPyBcInN0YXJ0XCIgOiBcImVuZFwiOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dChmb3JtYXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgeDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGJveFRpY2sudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZvcm1hdClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgeDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB3aGlza2VyIHRpY2tzLiBUaGVzZSBhcmUgaGFuZGxlZCBzZXBhcmF0ZWx5IGZyb20gdGhlIGJveFxyXG4gICAgICAgICAgICAgICAgLy8gdGlja3MgYmVjYXVzZSB0aGV5IG1heSBvciBtYXkgbm90IGV4aXN0LCBhbmQgd2Ugd2FudCBkb24ndCB3YW50XHJcbiAgICAgICAgICAgICAgICAvLyB0byBqb2luIGJveCB0aWNrcyBwcmUtdHJhbnNpdGlvbiB3aXRoIHdoaXNrZXIgdGlja3MgcG9zdC0uXHJcbiAgICAgICAgICAgICAgICB2YXIgd2hpc2tlclRpY2sgPSBnLnNlbGVjdEFsbChcInRleHQud2hpc2tlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHdoaXNrZXJEYXRhIHx8IFtdKTtcclxuICAgICAgICAgICAgICAgIGlmKHNob3dMYWJlbHMgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaXNrZXJUaWNrLmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwid2hpc2tlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjNlbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR4XCIsIDYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCB3aGlza0JveFdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KGZvcm1hdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgd2hpc2tlclRpY2sudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZvcm1hdClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyVGljay5leGl0KCkudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZDMudGltZXJGbHVzaCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYm94LndpZHRoID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB3aGlza0JveFdpZHRoO1xyXG4gICAgICAgICAgICB3aGlza0JveFdpZHRoID0geDtcclxuICAgICAgICAgICAgcmV0dXJuIGJveDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBib3guaGVpZ2h0ID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBoZWlnaHQ7XHJcbiAgICAgICAgICAgIGhlaWdodCA9IHg7XHJcbiAgICAgICAgICAgIHJldHVybiBib3g7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYm94LnRpY2tGb3JtYXQgPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRpY2tGb3JtYXQ7XHJcbiAgICAgICAgICAgIHRpY2tGb3JtYXQgPSB4O1xyXG4gICAgICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGJveC5kdXJhdGlvbiA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gZHVyYXRpb247XHJcbiAgICAgICAgICAgIGR1cmF0aW9uID0geDtcclxuICAgICAgICAgICAgcmV0dXJuIGJveDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBkMy5mdW5jdG9yID0gZnVuY3Rpb24gZnVuY3Rvcih2KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJmdW5jdGlvblwiID8gdiA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIGJveC5kb21haW4gPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGRvbWFpbjtcclxuICAgICAgICAgICAgZG9tYWluID0geCA9PT0gbnVsbCA/IHggOiBkMy5mdW5jdG9yKHgpO1xyXG4gICAgICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGJveC52YWx1ZSA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIHZhbHVlID0geDtcclxuICAgICAgICAgICAgcmV0dXJuIGJveDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBib3gud2hpc2tlcnMgPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHdoaXNrZXJzO1xyXG4gICAgICAgICAgICB3aGlza2VycyA9IHg7XHJcbiAgICAgICAgICAgIHJldHVybiBib3g7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYm94LnNob3dMYWJlbHMgPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHNob3dMYWJlbHM7XHJcbiAgICAgICAgICAgIHNob3dMYWJlbHMgPSB4O1xyXG4gICAgICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGJveC5xdWFydGlsZXMgPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHF1YXJ0aWxlcztcclxuICAgICAgICAgICAgcXVhcnRpbGVzID0geDtcclxuICAgICAgICAgICAgcmV0dXJuIGJveDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBib3hXaGlza2VycyhkKSB7XHJcbiAgICAgICAgcmV0dXJuIFswLCBkLmxlbmd0aCAtIDFdO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJveFF1YXJ0aWxlcyhkKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgZDMucXVhbnRpbGUoZCwgLjI1KSxcclxuICAgICAgICAgICAgZDMucXVhbnRpbGUoZCwgLjUpLFxyXG4gICAgICAgICAgICBkMy5xdWFudGlsZShkLCAuNzUpXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiIsInZhciBCb3hQbG90TW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBsYWJlbHMgPSBmYWxzZTsgLy8gc2hvdyB0aGUgdGV4dCBsYWJlbHMgYmVzaWRlIGluZGl2aWR1YWwgYm94cGxvdHM/XHJcblxyXG4vLyBNYXJnaW5zIGFuZCBncmFwaCB3aWR0aCAvIGhlaWdodFxyXG52YXIgYm94TWFyZ2luID0ge3RvcDogMzAsIHJpZ2h0OiA1MCwgYm90dG9tOiAxMDAsIGxlZnQ6IDEwMH0sXHJcbiAgICAgYm94V2lkdGggPSAxMjAwIC0gYm94TWFyZ2luLmxlZnQgLSBib3hNYXJnaW4ucmlnaHQsXHJcbiAgICAgYm94SGVpZ2h0ID0gODAwICAtIGJveE1hcmdpbi50b3AgIC0gYm94TWFyZ2luLmJvdHRvbTtcclxuXHJcblxyXG4vLyBFbmNhcHN1bGF0ZSBhbGwgcHJvcGVydGllcyBvZiBncmFwaFxyXG4gICAgdmFyIHBsb3RzID0gW107XHJcblxyXG4vLyBPYmplY3QgdG8gaG9sZCB0aGUgdmFsdWVzIGZvciBlYWNoIGluZGl2aWR1YWwgYm94cGxvdFxyXG4gICAgZnVuY3Rpb24gQm94UGxvdERhdGEoeCx5LHhBeGlzLHlBeGlzLHN2ZyxjaGFydCxjcmVhdGVkLCBpZCl7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMueEF4aXMgPSB4QXhpcztcclxuICAgICAgICB0aGlzLnlBeGlzID0geUF4aXM7XHJcbiAgICAgICAgdGhpcy5zdmcgPSBzdmc7XHJcbiAgICAgICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xyXG4gICAgICAgIHRoaXMuY3JlYXRlZCA9IGNyZWF0ZWQ7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkXHJcbiAgICB9XHJcblxyXG5cclxuLy8gQ3JlYXRlIGEgYm94IHBsb3QgZ3JhcGggd2l0aCB0aGUgZGF0YU9iamVjdCBhbmQgcGxhY2UgaXQgaW4gdGhlIGRpdiB3aXRoIGRpdklEIHVuaXQgZm9yIHRoZSB0aGUgeSAtIGF4aXNcclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJveFBsb3QoZGF0YU9iamVjdCxkaXZJRCx1bml0KXtcclxuICAgICAgICB2YXIgYm94UGxvdE9iamVjdHMgPSBudWxsO1xyXG4gICAgICAgIHZhciBkYXRhID0gZGF0YU9iamVjdC5kYXRhO1xyXG4gICAgICAgIHZhciBtaW4gPSBkYXRhT2JqZWN0Lm1pbjtcclxuICAgICAgICB2YXIgbWF4ID0gZGF0YU9iamVjdC5tYXg7XHJcbiAgICAgICAgdmFyIHNjYXR0ZXJEYXRhID0gZGF0YU9iamVjdC5zY2F0dGVyRGF0YTtcclxuXHJcbiAgICAgICAgLy8gRmluZCB0aGUgcGxvdCB0aGF0IG5lZWRzIHRvIGJlIHVwZGF0ZWQgb3IgY3JlYXRlZFxyXG4gICAgICAgIHBsb3RzLmZvckVhY2goZnVuY3Rpb24gKHBsb3QpIHtcclxuICAgICAgICAgICAgaWYocGxvdC5pZCA9PT0gZGl2SUQpe1xyXG4gICAgICAgICAgICAgICAgYm94UGxvdE9iamVjdHMgPSBwbG90O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRoZSBncmFwaCBoYXMgbm90IGJlZW4gY3JlYXRlZCB5ZXRcclxuICAgICAgICBpZihib3hQbG90T2JqZWN0cyA9PT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHZhciB4ID0gZDMuc2NhbGVCYW5kKCkucmFuZ2VSb3VuZChbMCwgYm94V2lkdGhdKS5wYWRkaW5nKDAuNywwLjMpO1xyXG4gICAgICAgICAgICBib3hQbG90T2JqZWN0cyA9IG5ldyBCb3hQbG90RGF0YSh4LG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxmYWxzZSxkaXZJRCk7XHJcbiAgICAgICAgICAgIHBsb3RzLnB1c2goYm94UGxvdE9iamVjdHMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdChkaXZJRCsnIHN2ZycpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdGhlIHktYXhpc1xyXG4gICAgICAgIGJveFBsb3RPYmplY3RzLnkgPSBkMy5zY2FsZUxpbmVhcigpXHJcbiAgICAgICAgICAuZG9tYWluKFttaW4sIG1heF0pLm5pY2UoKVxyXG4gICAgICAgICAgLnJhbmdlKFtib3hIZWlnaHQgKyBib3hNYXJnaW4udG9wLCAwICsgYm94TWFyZ2luLnRvcF0pO1xyXG5cclxuICAgICAgICBib3hQbG90T2JqZWN0cy5jaGFydCA9IGQzLmJveCgpXHJcbiAgICAgICAgICAud2hpc2tlcnMoaXFyKDEuNSkpXHJcbiAgICAgICAgICAuaGVpZ2h0KGJveEhlaWdodClcclxuICAgICAgICAgIC5kb21haW4oYm94UGxvdE9iamVjdHMueS5kb21haW4oKSlcclxuICAgICAgICAgIC5zaG93TGFiZWxzKGxhYmVscyk7XHJcblxyXG5cclxuICAgIGJveFBsb3RPYmplY3RzLnN2ZyA9IGQzLnNlbGVjdChkaXZJRCkuYXBwZW5kKFwic3ZnXCIpXHJcbiAgICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIGJveFdpZHRoICsgYm94TWFyZ2luLmxlZnQgKyBib3hNYXJnaW4ucmlnaHQpXHJcbiAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBib3hIZWlnaHQgKyBib3hNYXJnaW4udG9wICsgYm94TWFyZ2luLmJvdHRvbSlcclxuICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJib3hcIilcclxuICAgICAgICAgICAgIC5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIGJveE1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBib3hNYXJnaW4udG9wICsgXCIpXCIpO1xyXG5cclxuICAgICAgICBib3hQbG90T2JqZWN0cy54LmRvbWFpbiggZGF0YS5tYXAoZnVuY3Rpb24oZCkge3JldHVybiBkWzBdIH0gKSApO1xyXG4gICAgICAgIGJveFBsb3RPYmplY3RzLnhBeGlzID0gZDMuYXhpc0JvdHRvbShib3hQbG90T2JqZWN0cy54KTtcclxuICAgICAgICBib3hQbG90T2JqZWN0cy55QXhpcyA9IGQzLmF4aXNMZWZ0KGJveFBsb3RPYmplY3RzLnkpO1xyXG5cclxuICAgICAgICBib3hQbG90T2JqZWN0cy5zdmcuc2VsZWN0QWxsKFwiLmJveFwiKVxyXG4gICAgICAgICAgLmRhdGEoZGF0YSlcclxuICAgICAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcclxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgIGJveFBsb3RPYmplY3RzLngoZFswXSkgICsgXCIsXCIgKyBib3hNYXJnaW4udG9wICsgXCIpXCI7IH0gKVxyXG4gICAgICAgICAgLmNhbGwoYm94UGxvdE9iamVjdHMuY2hhcnQud2lkdGgoYm94UGxvdE9iamVjdHMueC5iYW5kd2lkdGgoKSkpOyAvL1Y0IFVwZGF0ZWRcclxuXHJcbiAgICAgICAgLy8gZHJhdyB0aGUgYm94cGxvdHNcclxuICAgICAgICBib3hQbG90T2JqZWN0cy5zdmcuc2VsZWN0QWxsKFwiLmJveFwiKVxyXG4gICAgICAgICAgLmRhdGEoZGF0YSlcclxuICAgICAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcclxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgIGJveFBsb3RPYmplY3RzLngoZFswXSkgICsgXCIsXCIgKyBib3hNYXJnaW4udG9wICsgXCIpXCI7IH0gKVxyXG4gICAgICAgICAgLmNhbGwoYm94UGxvdE9iamVjdHMuY2hhcnQud2lkdGgoYm94UGxvdE9iamVjdHMueC5iYW5kd2lkdGgoKSkpOyAvL1Y0IFVwZGF0ZWRcclxuXHJcbiAgICAgICAgLy8gVGhlIGZvcm1hdCB0byBkaXNwbGF5IHRoZSB2YWx1ZXMgaW5cclxuICAgICAgICB2YXIgZHBGb3JtYXQgPSBkMy5mb3JtYXQoXCIuMmZcIik7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgdGlwIHRvIHNob3cgdXAgb24gaG92ZXJcclxuICAgICAgICB2YXIgdGlwID0gZDMudGlwKClcclxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkMy10aXAnKVxyXG4gICAgICAgICAgLm9mZnNldChbLTEwLCAwXSlcclxuICAgICAgICAgIC5odG1sKGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gXCI8c3Ryb25nPlZhbHVlOjwvc3Ryb25nPiA8c3BhbiBzdHlsZT0nY29sb3I6bGlnaHRncmVlbic+XCIgKyBkcEZvcm1hdChkLnZhbHVlKSArIFwiPC9zcGFuPjxicj48YnI+PHN0cm9uZz5FREI6PC9zdHJvbmc+IDxzcGFuIHN0eWxlPSdjb2xvcjpsaWdodGdyZWVuJz5cIiArIGQuZWRiICsgXCI8L3NwYW4+XCI7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICBib3hQbG90T2JqZWN0cy5zdmcuY2FsbCh0aXApO1xyXG5cclxuICAgICAgICAvLyBBZGQgdGhlIGRvdHMgZm9yIHRoZSBzY2F0ZXJwbG90IG9uIHRvcCBvZiB0aGUgYm94IGFuZCB3aGlza2VyXHJcbiAgICAgICAgYm94UGxvdE9iamVjdHMuc3ZnLnNlbGVjdEFsbChcIi5kb3RcIilcclxuICAgICAgICAgIC5kYXRhKHNjYXR0ZXJEYXRhKVxyXG4gICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXHJcbiAgICAgICAgICAuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oZCl7cmV0dXJuIFwiZG90IFwiK2QuZWRiLnJlcGxhY2UoLyAvZyAsIFwiXCIpO30pXHJcbiAgICAgICAgICAuYXR0cihcInJcIiwgNClcclxuICAgICAgICAgIC5hdHRyKFwiY3hcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gYm94UGxvdE9iamVjdHMueChkLnllYXIpICsgd2hpc2tCb3hXaWR0aC8yOyB9KVxyXG4gICAgICAgICAgLmF0dHIoXCJjeVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBib3hQbG90T2JqZWN0cy55KGQudmFsdWUpOyB9KVxyXG4gICAgICAgICAgLm9uKCdtb3VzZW92ZXInLCB0aXAuc2hvdylcclxuICAgICAgICAgIC5vbignbW91c2VvdXQnLCB0aXAuaGlkZSk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgeSBheGlzXHJcbiAgICAgICAgYm94UGxvdE9iamVjdHMuc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ5QXhpcyB5IGF4aXNcIilcclxuICAgICAgICAgIC5jYWxsKGJveFBsb3RPYmplY3RzLnlBeGlzKVxyXG4gICAgICAgICAgLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKC05MClcIilcclxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJheGlzLXRleHQtc2NhbGVkXCIpXHJcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyB4IGF4aXNcclxuICAgICAgICBib3hQbG90T2JqZWN0cy5zdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInhBeGlzIGF4aXNcIilcclxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyAoYm94SGVpZ2h0ICsgYm94TWFyZ2luLnRvcCAgKyAxMCkgKyBcIilcIilcclxuICAgICAgICAgIC5jYWxsKGJveFBsb3RPYmplY3RzLnhBeGlzKVxyXG4gICAgICAgICAgLmFwcGVuZChcInRleHRcIikgICAgICAgICAgICAgLy8gdGV4dCBsYWJlbCBmb3IgdGhlIHggYXhpc1xyXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIChib3hXaWR0aCAvIDIpIClcclxuICAgICAgICAgIC5hdHRyKFwieVwiLCAgMTAgKVxyXG4gICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi43MWVtXCIpXHJcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxyXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImF4aXMtdGV4dC1zY2FsZWRcIik7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgeSBheGlzIHVuaXRcclxuICAgICAgICBib3hQbG90T2JqZWN0cy5zdmcuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKSAgLy8gdGhpcyBtYWtlcyBpdCBlYXN5IHRvIGNlbnRyZSB0aGUgdGV4dCBhcyB0aGUgdHJhbnNmb3JtIGlzIGFwcGxpZWQgdG8gdGhlIGFuY2hvclxyXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIrIC0oYm94TWFyZ2luLmxlZnQvMi0xMCkgK1wiLFwiKyhib3hIZWlnaHQvMikrXCIpcm90YXRlKC05MClcIikgIC8vIHRleHQgaXMgZHJhd24gb2ZmIHRoZSBzY3JlZW4gdG9wIGxlZnQsIG1vdmUgZG93biBhbmQgb3V0IGFuZCByb3RhdGVcclxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ1bml0LXRleHQtc2NhbGVkXCIpXHJcbiAgICAgICAgICAudGV4dCh1bml0KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHllYXIgYXMgdGhlIHgtYXhpcyBsYWJlbFxyXG4gICAgICAgIGJveFBsb3RPYmplY3RzLnN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpICAvLyB0aGlzIG1ha2VzIGl0IGVhc3kgdG8gY2VudHJlIHRoZSB0ZXh0IGFzIHRoZSB0cmFuc2Zvcm0gaXMgYXBwbGllZCB0byB0aGUgYW5jaG9yXHJcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIisgKyhib3hXaWR0aC8yKSArXCIsXCIrKCBib3hNYXJnaW4udG9wICsgNDAgKyBib3hIZWlnaHQpK1wiKVwiKSAgLy8gdGV4dCBpcyBkcmF3biBvZmYgdGhlIHNjcmVlbiB0b3AgbGVmdCwgbW92ZSBkb3duIGFuZCBvdXQgYW5kIHJvdGF0ZVxyXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInVuaXQtdGV4dC1zY2FsZWRcIilcclxuICAgICAgICAgIC50ZXh0KFwiWWVhclwiKTtcclxuXHJcbiAgICAgICAgYm94UGxvdE9iamVjdHMuY3JlYXRlZCA9IHRydWU7IC8vIFNldCB0aGUgcGxvdCB0byBjcmVhdGVkIGZvciB0aGUgSURcclxuICAgIH1cclxuXHJcblxyXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gY29tcHV0ZSB0aGUgaW50ZXJxdWFydGlsZSByYW5nZS5cclxuICAgIGZ1bmN0aW9uIGlxcihrKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIHExID0gZC5xdWFydGlsZXNbMF0sXHJcbiAgICAgICAgICAgICAgcTMgPSBkLnF1YXJ0aWxlc1syXSxcclxuICAgICAgICAgICAgICBpcXIgPSAocTMgLSBxMSkgKiBrLFxyXG4gICAgICAgICAgICAgIGkgPSAtMSxcclxuICAgICAgICAgICAgICBqID0gZC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlIChkWysraV0gPCBxMSAtIGlxcik7XHJcbiAgICAgICAgICAgIHdoaWxlIChkWy0tal0gPiBxMyArIGlxcik7XHJcbiAgICAgICAgICAgIHJldHVybiBbaSwgal07XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY3JlYXRlQm94UGxvdCA6IGNyZWF0ZUJveFBsb3RcclxuICAgIH1cclxufSkoKTtcclxuIiwiLy8gZDMudGlwXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTMgSnVzdGluIFBhbG1lclxuLy8gRVM2IC8gRDMgdjQgQWRhcHRpb24gQ29weXJpZ2h0IChjKSAyMDE2IENvbnN0YW50aW4gR2F2cmlsZXRlXG4vLyBSZW1vdmFsIG9mIEVTNiBmb3IgRDMgdjQgQWRhcHRpb24gQ29weXJpZ2h0IChjKSAyMDE2IERhdmlkIEdvdHpcbi8vXG4vLyBUb29sdGlwcyBmb3IgZDMuanMgU1ZHIHZpc3VhbGl6YXRpb25zXG5cbmQzLmZ1bmN0b3IgPSBmdW5jdGlvbiBmdW5jdG9yKHYpIHtcbiAgcmV0dXJuIHR5cGVvZiB2ID09PSBcImZ1bmN0aW9uXCIgPyB2IDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHY7XG4gIH07XG59O1xuXG5kMy50aXAgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgZGlyZWN0aW9uID0gZDNfdGlwX2RpcmVjdGlvbixcbiAgICAgIG9mZnNldCAgICA9IGQzX3RpcF9vZmZzZXQsXG4gICAgICBodG1sICAgICAgPSBkM190aXBfaHRtbCxcbiAgICAgIG5vZGUgICAgICA9IGluaXROb2RlKCksXG4gICAgICBzdmcgICAgICAgPSBudWxsLFxuICAgICAgcG9pbnQgICAgID0gbnVsbCxcbiAgICAgIHRhcmdldCAgICA9IG51bGxcblxuICBmdW5jdGlvbiB0aXAodmlzKSB7XG4gICAgc3ZnID0gZ2V0U1ZHTm9kZSh2aXMpXG4gICAgcG9pbnQgPSBzdmcuY3JlYXRlU1ZHUG9pbnQoKVxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm9kZSlcbiAgfVxuXG4gIC8vIFB1YmxpYyAtIHNob3cgdGhlIHRvb2x0aXAgb24gdGhlIHNjcmVlblxuICAvL1xuICAvLyBSZXR1cm5zIGEgdGlwXG4gIHRpcC5zaG93ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gICAgaWYoYXJnc1thcmdzLmxlbmd0aCAtIDFdIGluc3RhbmNlb2YgU1ZHRWxlbWVudCkgdGFyZ2V0ID0gYXJncy5wb3AoKVxuXG4gICAgdmFyIGNvbnRlbnQgPSBodG1sLmFwcGx5KHRoaXMsIGFyZ3MpLFxuICAgICAgICBwb2Zmc2V0ID0gb2Zmc2V0LmFwcGx5KHRoaXMsIGFyZ3MpLFxuICAgICAgICBkaXIgICAgID0gZGlyZWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3MpLFxuICAgICAgICBub2RlbCAgID0gZ2V0Tm9kZUVsKCksXG4gICAgICAgIGkgICAgICAgPSBkaXJlY3Rpb25zLmxlbmd0aCxcbiAgICAgICAgY29vcmRzLFxuICAgICAgICBzY3JvbGxUb3AgID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCxcbiAgICAgICAgc2Nyb2xsTGVmdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdFxuXG4gICAgbm9kZWwuaHRtbChjb250ZW50KVxuICAgICAgLnN0eWxlKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpXG4gICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKVxuICAgICAgLnN0eWxlKCdwb2ludGVyLWV2ZW50cycsICdhbGwnKVxuXG4gICAgd2hpbGUoaS0tKSBub2RlbC5jbGFzc2VkKGRpcmVjdGlvbnNbaV0sIGZhbHNlKVxuICAgIGNvb3JkcyA9IGRpcmVjdGlvbl9jYWxsYmFja3NbZGlyXS5hcHBseSh0aGlzKVxuICAgIG5vZGVsLmNsYXNzZWQoZGlyLCB0cnVlKVxuICAgICAgLnN0eWxlKCd0b3AnLCAoY29vcmRzLnRvcCArICBwb2Zmc2V0WzBdKSArIHNjcm9sbFRvcCArICdweCcpXG4gICAgICAuc3R5bGUoJ2xlZnQnLCAoY29vcmRzLmxlZnQgKyBwb2Zmc2V0WzFdKSArIHNjcm9sbExlZnQgKyAncHgnKVxuXG4gICAgcmV0dXJuIHRpcFxuICB9XG5cbiAgLy8gUHVibGljIC0gaGlkZSB0aGUgdG9vbHRpcFxuICAvL1xuICAvLyBSZXR1cm5zIGEgdGlwXG4gIHRpcC5oaWRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5vZGVsID0gZ2V0Tm9kZUVsKClcbiAgICBub2RlbFxuICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMClcbiAgICAgIC5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpXG4gICAgcmV0dXJuIHRpcFxuICB9XG5cbiAgLy8gUHVibGljOiBQcm94eSBhdHRyIGNhbGxzIHRvIHRoZSBkMyB0aXAgY29udGFpbmVyLiAgU2V0cyBvciBnZXRzIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgLy9cbiAgLy8gbiAtIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZVxuICAvLyB2IC0gdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZVxuICAvL1xuICAvLyBSZXR1cm5zIHRpcCBvciBhdHRyaWJ1dGUgdmFsdWVcbiAgdGlwLmF0dHIgPSBmdW5jdGlvbihuLCB2KSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyICYmIHR5cGVvZiBuID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGdldE5vZGVFbCgpLmF0dHIobilcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICAgICAgZDMuc2VsZWN0aW9uLnByb3RvdHlwZS5hdHRyLmFwcGx5KGdldE5vZGVFbCgpLCBhcmdzKVxuICAgIH1cblxuICAgIHJldHVybiB0aXBcbiAgfVxuXG4gIC8vIFB1YmxpYzogUHJveHkgc3R5bGUgY2FsbHMgdG8gdGhlIGQzIHRpcCBjb250YWluZXIuICBTZXRzIG9yIGdldHMgYSBzdHlsZSB2YWx1ZS5cbiAgLy9cbiAgLy8gbiAtIG5hbWUgb2YgdGhlIHByb3BlcnR5XG4gIC8vIHYgLSB2YWx1ZSBvZiB0aGUgcHJvcGVydHlcbiAgLy9cbiAgLy8gUmV0dXJucyB0aXAgb3Igc3R5bGUgcHJvcGVydHkgdmFsdWVcbiAgdGlwLnN0eWxlID0gZnVuY3Rpb24obiwgdikge1xuICAgIC8vIGRlYnVnZ2VyO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiAmJiB0eXBlb2YgbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBnZXROb2RlRWwoKS5zdHlsZShuKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdmFyIHN0eWxlcyA9IGFyZ3NbMF07XG4gICAgICAgIE9iamVjdC5rZXlzKHN0eWxlcykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4gZDMuc2VsZWN0aW9uLnByb3RvdHlwZS5zdHlsZS5hcHBseShnZXROb2RlRWwoKSwgW2tleSwgc3R5bGVzW2tleV1dKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRpcFxuICB9XG5cbiAgLy8gUHVibGljOiBTZXQgb3IgZ2V0IHRoZSBkaXJlY3Rpb24gb2YgdGhlIHRvb2x0aXBcbiAgLy9cbiAgLy8gdiAtIE9uZSBvZiBuKG5vcnRoKSwgcyhzb3V0aCksIGUoZWFzdCksIG9yIHcod2VzdCksIG53KG5vcnRod2VzdCksXG4gIC8vICAgICBzdyhzb3V0aHdlc3QpLCBuZShub3J0aGVhc3QpIG9yIHNlKHNvdXRoZWFzdClcbiAgLy9cbiAgLy8gUmV0dXJucyB0aXAgb3IgZGlyZWN0aW9uXG4gIHRpcC5kaXJlY3Rpb24gPSBmdW5jdGlvbih2KSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gZGlyZWN0aW9uXG4gICAgZGlyZWN0aW9uID0gdiA9PSBudWxsID8gdiA6IGQzLmZ1bmN0b3IodilcblxuICAgIHJldHVybiB0aXBcbiAgfVxuXG4gIC8vIFB1YmxpYzogU2V0cyBvciBnZXRzIHRoZSBvZmZzZXQgb2YgdGhlIHRpcFxuICAvL1xuICAvLyB2IC0gQXJyYXkgb2YgW3gsIHldIG9mZnNldFxuICAvL1xuICAvLyBSZXR1cm5zIG9mZnNldCBvclxuICB0aXAub2Zmc2V0ID0gZnVuY3Rpb24odikge1xuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIG9mZnNldFxuICAgIG9mZnNldCA9IHYgPT0gbnVsbCA/IHYgOiBkMy5mdW5jdG9yKHYpXG5cbiAgICByZXR1cm4gdGlwXG4gIH1cblxuICAvLyBQdWJsaWM6IHNldHMgb3IgZ2V0cyB0aGUgaHRtbCB2YWx1ZSBvZiB0aGUgdG9vbHRpcFxuICAvL1xuICAvLyB2IC0gU3RyaW5nIHZhbHVlIG9mIHRoZSB0aXBcbiAgLy9cbiAgLy8gUmV0dXJucyBodG1sIHZhbHVlIG9yIHRpcFxuICB0aXAuaHRtbCA9IGZ1bmN0aW9uKHYpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBodG1sXG4gICAgaHRtbCA9IHYgPT0gbnVsbCA/IHYgOiBkMy5mdW5jdG9yKHYpXG5cbiAgICByZXR1cm4gdGlwXG4gIH1cblxuICAvLyBQdWJsaWM6IGRlc3Ryb3lzIHRoZSB0b29sdGlwIGFuZCByZW1vdmVzIGl0IGZyb20gdGhlIERPTVxuICAvL1xuICAvLyBSZXR1cm5zIGEgdGlwXG4gIHRpcC5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYobm9kZSkge1xuICAgICAgZ2V0Tm9kZUVsKCkucmVtb3ZlKCk7XG4gICAgICBub2RlID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRpcDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGQzX3RpcF9kaXJlY3Rpb24oKSB7IHJldHVybiAnbicgfVxuICBmdW5jdGlvbiBkM190aXBfb2Zmc2V0KCkgeyByZXR1cm4gWzAsIDBdIH1cbiAgZnVuY3Rpb24gZDNfdGlwX2h0bWwoKSB7IHJldHVybiAnICcgfVxuXG4gIHZhciBkaXJlY3Rpb25fY2FsbGJhY2tzID0ge1xuICAgIG46ICBkaXJlY3Rpb25fbixcbiAgICBzOiAgZGlyZWN0aW9uX3MsXG4gICAgZTogIGRpcmVjdGlvbl9lLFxuICAgIHc6ICBkaXJlY3Rpb25fdyxcbiAgICBudzogZGlyZWN0aW9uX253LFxuICAgIG5lOiBkaXJlY3Rpb25fbmUsXG4gICAgc3c6IGRpcmVjdGlvbl9zdyxcbiAgICBzZTogZGlyZWN0aW9uX3NlXG4gIH07XG5cbiAgdmFyIGRpcmVjdGlvbnMgPSBPYmplY3Qua2V5cyhkaXJlY3Rpb25fY2FsbGJhY2tzKTtcblxuICBmdW5jdGlvbiBkaXJlY3Rpb25fbigpIHtcbiAgICB2YXIgYmJveCA9IGdldFNjcmVlbkJCb3goKVxuICAgIHJldHVybiB7XG4gICAgICB0b3A6ICBiYm94Lm4ueSAtIG5vZGUub2Zmc2V0SGVpZ2h0LFxuICAgICAgbGVmdDogYmJveC5uLnggLSBub2RlLm9mZnNldFdpZHRoIC8gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpcmVjdGlvbl9zKCkge1xuICAgIHZhciBiYm94ID0gZ2V0U2NyZWVuQkJveCgpXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogIGJib3gucy55LFxuICAgICAgbGVmdDogYmJveC5zLnggLSBub2RlLm9mZnNldFdpZHRoIC8gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpcmVjdGlvbl9lKCkge1xuICAgIHZhciBiYm94ID0gZ2V0U2NyZWVuQkJveCgpXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogIGJib3guZS55IC0gbm9kZS5vZmZzZXRIZWlnaHQgLyAyLFxuICAgICAgbGVmdDogYmJveC5lLnhcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkaXJlY3Rpb25fdygpIHtcbiAgICB2YXIgYmJveCA9IGdldFNjcmVlbkJCb3goKVxuICAgIHJldHVybiB7XG4gICAgICB0b3A6ICBiYm94LncueSAtIG5vZGUub2Zmc2V0SGVpZ2h0IC8gMixcbiAgICAgIGxlZnQ6IGJib3gudy54IC0gbm9kZS5vZmZzZXRXaWR0aFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpcmVjdGlvbl9udygpIHtcbiAgICB2YXIgYmJveCA9IGdldFNjcmVlbkJCb3goKVxuICAgIHJldHVybiB7XG4gICAgICB0b3A6ICBiYm94Lm53LnkgLSBub2RlLm9mZnNldEhlaWdodCxcbiAgICAgIGxlZnQ6IGJib3gubncueCAtIG5vZGUub2Zmc2V0V2lkdGhcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkaXJlY3Rpb25fbmUoKSB7XG4gICAgdmFyIGJib3ggPSBnZXRTY3JlZW5CQm94KClcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiAgYmJveC5uZS55IC0gbm9kZS5vZmZzZXRIZWlnaHQsXG4gICAgICBsZWZ0OiBiYm94Lm5lLnhcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkaXJlY3Rpb25fc3coKSB7XG4gICAgdmFyIGJib3ggPSBnZXRTY3JlZW5CQm94KClcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiAgYmJveC5zdy55LFxuICAgICAgbGVmdDogYmJveC5zdy54IC0gbm9kZS5vZmZzZXRXaWR0aFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpcmVjdGlvbl9zZSgpIHtcbiAgICB2YXIgYmJveCA9IGdldFNjcmVlbkJCb3goKVxuICAgIHJldHVybiB7XG4gICAgICB0b3A6ICBiYm94LnNlLnksXG4gICAgICBsZWZ0OiBiYm94LmUueFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXROb2RlKCkge1xuICAgIHZhciBub2RlID0gZDMuc2VsZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKVxuICAgIG5vZGVcbiAgICAgIC5zdHlsZSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxuICAgICAgLnN0eWxlKCd0b3AnLCAwKVxuICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMClcbiAgICAgIC5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpXG4gICAgICAuc3R5bGUoJ2JveC1zaXppbmcnLCAnYm9yZGVyLWJveCcpXG5cbiAgICByZXR1cm4gbm9kZS5ub2RlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNWR05vZGUoZWwpIHtcbiAgICBlbCA9IGVsLm5vZGUoKVxuICAgIGlmKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3N2ZycpXG4gICAgICByZXR1cm4gZWxcblxuICAgIHJldHVybiBlbC5vd25lclNWR0VsZW1lbnRcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE5vZGVFbCgpIHtcbiAgICBpZihub2RlID09PSBudWxsKSB7XG4gICAgICBub2RlID0gaW5pdE5vZGUoKTtcbiAgICAgIC8vIHJlLWFkZCBub2RlIHRvIERPTVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub2RlKTtcbiAgICB9O1xuICAgIHJldHVybiBkMy5zZWxlY3Qobm9kZSk7XG4gIH1cblxuICAvLyBQcml2YXRlIC0gZ2V0cyB0aGUgc2NyZWVuIGNvb3JkaW5hdGVzIG9mIGEgc2hhcGVcbiAgLy9cbiAgLy8gR2l2ZW4gYSBzaGFwZSBvbiB0aGUgc2NyZWVuLCB3aWxsIHJldHVybiBhbiBTVkdQb2ludCBmb3IgdGhlIGRpcmVjdGlvbnNcbiAgLy8gbihub3J0aCksIHMoc291dGgpLCBlKGVhc3QpLCB3KHdlc3QpLCBuZShub3J0aGVhc3QpLCBzZShzb3V0aGVhc3QpLCBudyhub3J0aHdlc3QpLFxuICAvLyBzdyhzb3V0aHdlc3QpLlxuICAvL1xuICAvLyAgICArLSstK1xuICAvLyAgICB8ICAgfFxuICAvLyAgICArICAgK1xuICAvLyAgICB8ICAgfFxuICAvLyAgICArLSstK1xuICAvL1xuICAvLyBSZXR1cm5zIGFuIE9iamVjdCB7biwgcywgZSwgdywgbncsIHN3LCBuZSwgc2V9XG4gIGZ1bmN0aW9uIGdldFNjcmVlbkJCb3goKSB7XG4gICAgdmFyIHRhcmdldGVsICAgPSB0YXJnZXQgfHwgZDMuZXZlbnQudGFyZ2V0O1xuXG4gICAgd2hpbGUgKCd1bmRlZmluZWQnID09PSB0eXBlb2YgdGFyZ2V0ZWwuZ2V0U2NyZWVuQ1RNICYmICd1bmRlZmluZWQnID09PSB0YXJnZXRlbC5wYXJlbnROb2RlKSB7XG4gICAgICAgIHRhcmdldGVsID0gdGFyZ2V0ZWwucGFyZW50Tm9kZTtcbiAgICB9XG5cbiAgICB2YXIgYmJveCAgICAgICA9IHt9LFxuICAgICAgICBtYXRyaXggICAgID0gdGFyZ2V0ZWwuZ2V0U2NyZWVuQ1RNKCksXG4gICAgICAgIHRiYm94ICAgICAgPSB0YXJnZXRlbC5nZXRCQm94KCksXG4gICAgICAgIHdpZHRoICAgICAgPSB0YmJveC53aWR0aCxcbiAgICAgICAgaGVpZ2h0ICAgICA9IHRiYm94LmhlaWdodCxcbiAgICAgICAgeCAgICAgICAgICA9IHRiYm94LngsXG4gICAgICAgIHkgICAgICAgICAgPSB0YmJveC55XG5cbiAgICBwb2ludC54ID0geFxuICAgIHBvaW50LnkgPSB5XG4gICAgYmJveC5udyA9IHBvaW50Lm1hdHJpeFRyYW5zZm9ybShtYXRyaXgpXG4gICAgcG9pbnQueCArPSB3aWR0aFxuICAgIGJib3gubmUgPSBwb2ludC5tYXRyaXhUcmFuc2Zvcm0obWF0cml4KVxuICAgIHBvaW50LnkgKz0gaGVpZ2h0XG4gICAgYmJveC5zZSA9IHBvaW50Lm1hdHJpeFRyYW5zZm9ybShtYXRyaXgpXG4gICAgcG9pbnQueCAtPSB3aWR0aFxuICAgIGJib3guc3cgPSBwb2ludC5tYXRyaXhUcmFuc2Zvcm0obWF0cml4KVxuICAgIHBvaW50LnkgLT0gaGVpZ2h0IC8gMlxuICAgIGJib3gudyAgPSBwb2ludC5tYXRyaXhUcmFuc2Zvcm0obWF0cml4KVxuICAgIHBvaW50LnggKz0gd2lkdGhcbiAgICBiYm94LmUgPSBwb2ludC5tYXRyaXhUcmFuc2Zvcm0obWF0cml4KVxuICAgIHBvaW50LnggLT0gd2lkdGggLyAyXG4gICAgcG9pbnQueSAtPSBoZWlnaHQgLyAyXG4gICAgYmJveC5uID0gcG9pbnQubWF0cml4VHJhbnNmb3JtKG1hdHJpeClcbiAgICBwb2ludC55ICs9IGhlaWdodFxuICAgIGJib3gucyA9IHBvaW50Lm1hdHJpeFRyYW5zZm9ybShtYXRyaXgpXG5cbiAgICByZXR1cm4gYmJveFxuICB9XG5cbiAgcmV0dXJuIHRpcFxufTtcbiIsInZhciBEYXRhYmFzZSA9IChmdW5jdGlvbigpe1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogIEdyYWJzIGFsbCB0aGUgc2VjdGlvbnMgZnJvbSB0aGUgZGF0YWJhc2VcclxuICAgKlxyXG4gICAqICBAY2FsbGJhY2sgc2hvdWxkIHRha2UgKE9iamVjdFtdLCBCb29sZWFuKSBhcnJheSBjb250YWlucyBjYXRlZ29yaWVzIGJvb2xlYW4gaXMgdHJ1ZSBpZiBubyByZXN1bHRzIGZhbHNlIGlmIHRoZXJlIGlzIGEgcmVzdWx0XHJcbiAgICogKi9cclxuICBmdW5jdGlvbiBnZXRTZWN0aW9uc0Zyb21EYXRhYmFzZShjYWxsYmFjayl7XHJcbiAgICAkLmdldChcIi9zZWN0aW9ucy9zZWN0aW9uc1wiLCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLnNlY3Rpb25zLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgY2FsbGJhY2soZGF0YS5zZWN0aW9ucywgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjYWxsYmFjayhzZWN0aW9ucywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiAgR3JhYnMgYWxsIHRoZSBjYXRlZ29yaWVzIGZvciBhIHNwZWNpZmljIHNlY3Rpb25cclxuICAgKlxyXG4gICAqICBAcGFyYW0gc2VjdGlvbiB7U3RyaW5nfSBUaGUgc2VjdGlvbiB0byBsb29rIGZvciBkaXN0aW5jdCBjYXRlZ29yaWVzIGluXHJcbiAgICogIEBjYWxsYmFjayBzaG91bGQgdGFrZSAoT2JqZWN0W10sIEJvb2xlYW4pIGFycmF5IGNvbnRhaW5zIGNhdGVnb3JpZXMgYm9vbGVhbiBpcyB0cnVlIGlmIG5vIHJlc3VsdHMgZmFsc2UgaWYgdGhlcmUgaXMgYSByZXN1bHRcclxuICAgKiAqL1xyXG4gIGZ1bmN0aW9uIGdldENhdGVnb3JpZXNGcm9tRGF0YWJhc2Uoc2VjdGlvbiwgY2FsbGJhY2spe1xyXG4gICAgLy8gRmluZCBhbGwgdGhlIGNhdGVnb3JpZXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc2VjdGlvblxyXG4gICAgJC5wb3N0KFwiL3NlY3Rpb25zL3NcIix7c2VsZWN0ZWQgOiBzZWN0aW9uIH0sIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmNhdGVnb3JpZXMubGVuZ3RoID4gMCAgJiYgIGRhdGEuY2F0ZWdvcmllc1swXSAhPT0gbnVsbCl7XHJcbiAgICAgICAgY2FsbGJhY2soZGF0YS5jYXRlZ29yaWVzLCBmYWxzZSk7XHJcbiAgICAgIH0gZWxzZSB7IC8vIFRoZSBvbmUgc3BlY2lhbCBjYXNlIHdoZXJlIGNhdGVnb3J5IGlzIG51bGxcclxuICAgICAgICBjYWxsYmFjayhbXSwgdHJ1ZSk7IC8vIE5vIHJlc3VsdFxyXG4gICAgICB9fSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogR3JhYnMgYWxsIHN1YiBjYXRlZ29yaWVzIGZvciBhIHNwZWNpZmljIHNlY3Rpb24gYW5kIGNhdGVnb3J5XHJcbiAgICpcclxuICAgKiBAcGFyYW0gc2VjdGlvbiB7U3RyaW5nfSBUaGUgc2VjdGlvbiB0byBsb29rIGZvciBkaXN0aW5jdCBjYXRlZ29yaWVzIGluXHJcbiAgICogQHBhcmFtIGNhdGVnb3J5IHtTdHJpbmd9IFRoZSBjYXRlZ29yeSB0byBsb29rIGZvciBkaXN0aW5jdCBzdWIgY2F0ZWdvcmllcyBpblxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259IFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uY2UgdGhlIHF1ZXJ5IGhhcyBhIHJlc3VsdFxyXG4gICAqICovXHJcbiAgZnVuY3Rpb24gZ2V0U3ViQ2F0ZWdvcmllc0Zyb21EYXRhYmFzZShzZWN0aW9uLCBjYXRlZ29yeSwgY2FsbGJhY2spe1xyXG4gICAgJC5wb3N0KFwiL3NlY3Rpb25zL3NjXCIse3NlY3Rpb24gOiBzZWN0aW9uLCBjYXRlZ29yeSA6IGNhdGVnb3J5fSwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuc3ViQ2F0ZWdvcmllcy5sZW5ndGggPiAwICAmJiAgZGF0YS5zdWJDYXRlZ29yaWVzWzBdICE9PSBudWxsKXtcclxuICAgICAgICBjYWxsYmFjayhkYXRhLnN1YkNhdGVnb3JpZXMsIGZhbHNlKTsgLy8gVGhlcmUgaXMgYSByZXN1bHRcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjYWxsYmFjayhbXSwgdHJ1ZSk7IC8vIE5vIHJlc3VsdHNcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogR3JhYnMgYWxsIGRlc2NyaXB0aW9uIGZvciBhIHNwZWNpZmljIHNlY3Rpb24sIGNhdGVnb3J5IGFuZCBzdWIgY2F0ZWdvcnkgaWYgc3ViIGNhdGVnb3J5XHJcbiAgICogaXMgbm90IGFuIGVtcHR5IHN0cmluZy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzZWN0aW9uIHtTdHJpbmd9IFRoZSBzZWN0aW9uIHRvIGxvb2sgZm9yIGRpc3RpbmN0IGNhdGVnb3JpZXMgaW5cclxuICAgKiBAcGFyYW0gY2F0ZWdvcnkge1N0cmluZ30gVGhlIGNhdGVnb3J5IHRvIGxvb2sgZm9yIGRpc3RpbmN0IHN1YiBjYXRlZ29yaWVzIGluXHJcbiAgICogQHBhcmFtIHN1YkNhdGVnb3J5IHtTdHJpbmd9IFRoZSBzdWIgY2F0ZWdvcnkgdG8gbG9vayBmb3IgZGlzdGluY3Qgc3ViIGNhdGVnb3JpZXMgaW5cclxuICAgKiBAcGFyYW0gY2FsbGJhY2sge2Z1bmN0aW9ufSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbmNlIHRoZSBxdWVyeSBoYXMgYSByZXN1bHRcclxuICAgKiAqL1xyXG4gIGZ1bmN0aW9uIGdldERlc2NyaXB0aW9uc0Zyb21EYXRhYmFzZShzZWN0aW9uLGNhdGVnb3J5LHN1YkNhdGVnb3J5LGNhbGxiYWNrKXtcclxuICAgIC8vIEZpbmQgYWxsIGRlc2NyaXB0aW9ucyBmb3IgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBzdWIgY2F0ZWdvcnlcclxuICAgICQucG9zdChcIi9zZWN0aW9ucy9kZXNjXCIse2NhdGVnb3J5IDogY2F0ZWdvcnksc2VjdGlvbiA6IHNlY3Rpb24sIHN1YkNhdGVnb3J5IDogc3ViQ2F0ZWdvcnl9LCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kZXNjcmlwdGlvbnMubGVuZ3RoID4gMCAmJiAgZGF0YS5kZXNjcmlwdGlvbnNbMF0gIT09IG51bGwpe1xyXG4gICAgICAgIGNhbGxiYWNrKGRhdGEuZGVzY3JpcHRpb25zLCBmYWxzZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2FsbGJhY2soZGF0YS5kZXNjcmlwdGlvbnMsIHRydWUpO1xyXG4gICAgICB9fSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbGwgb2YgdGhlIHJvd3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBzZWxlY3RlZCBzZWN0aW9ucywgY2F0ZWdvcmllcywgc3ViQ2F0ZWdvcmllc1xyXG4gICAqIGFuZCBkZXNjcmlwdGlvbnMgZm9yIG11bHRpcGxlIHJvd3MuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc2VsZWN0aW9ucyB7T2JqZWN0fSBDb250YWlucyBhbGwgdGhlIHNlbGVjdGlvbnMgdGhlIHVzZXIgbWFkZVxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259IFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uY2UgdGhlIHF1ZXJ5IGhhcyBhIHJlc3VsdFxyXG4gICAqICovXHJcbiAgZnVuY3Rpb24gZ2V0Um93c0ZvclNlYXJjaChzZWxlY3Rpb25zLCBjYWxsYmFjaykge1xyXG4gICAgJC5wb3N0KFwiL2NvbXBhcmUvc2VhcmNoXCIse2NvbXBhbnkgOiBcIlwiLCBzZWxlY3Rpb25zIDogSlNPTi5zdHJpbmdpZnkoc2VsZWN0aW9ucyl9LCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgY2FsbGJhY2soZGF0YS5yb3dzKTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAgIGdldENhdGVnb3JpZXNGcm9tRGF0YWJhc2UgOiBnZXRDYXRlZ29yaWVzRnJvbURhdGFiYXNlLFxyXG4gICAgICBnZXRTdWJDYXRlZ29yaWVzRnJvbURhdGFiYXNlIDogZ2V0U3ViQ2F0ZWdvcmllc0Zyb21EYXRhYmFzZSxcclxuICAgICAgZ2V0RGVzY3JpcHRpb25zRnJvbURhdGFiYXNlIDogZ2V0RGVzY3JpcHRpb25zRnJvbURhdGFiYXNlLFxyXG4gICAgICBnZXRTZWN0aW9uc0Zyb21EYXRhYmFzZSA6IGdldFNlY3Rpb25zRnJvbURhdGFiYXNlLFxyXG4gICAgICBnZXRSb3dzRm9yU2VhcmNoIDogZ2V0Um93c0ZvclNlYXJjaFxyXG4gIH1cclxufSkoKTtcclxuIiwidmFyIGV2ZW50cyA9IHtcclxuICBldmVudHM6IHt9LFxyXG4gIG9uOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBmbikge1xyXG4gICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gfHwgW107XHJcbiAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdLnB1c2goZm4pO1xyXG4gIH0sXHJcbiAgb2ZmOiBmdW5jdGlvbihldmVudE5hbWUsIGZuKSB7XHJcbiAgICBpZiAodGhpcy5ldmVudHNbZXZlbnROYW1lXSkge1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAodGhpcy5ldmVudHNbZXZlbnROYW1lXVtpXSA9PT0gZm4pIHtcclxuICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgZW1pdDogZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSkge1xyXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pIHtcclxuICAgICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgZm4oZGF0YSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuIiwidmFyIFZlY3Rvck1vZHVsZSA9IChmdW5jdGlvbigpe1xyXG4gIHZhciB2TWFyZ2luID0ge3RvcDogMzAsIHJpZ2h0OiAyMCwgYm90dG9tOiAxODAsIGxlZnQ6IDcwfSxcclxuICAgIHZXaWR0aCA9IDEwMDAgLSB2TWFyZ2luLmxlZnQgLSB2TWFyZ2luLnJpZ2h0LFxyXG4gICAgdkhlaWdodCA9IDgwMCAtIHZNYXJnaW4udG9wIC0gdk1hcmdpbi5ib3R0b207XHJcblxyXG5cclxuICB2YXIgdmVjdG9yR3JhcGhzID0gW107XHJcblxyXG4gIGZ1bmN0aW9uIFZlY3RvckdyYXBoRGF0YShpZCl7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB0aGlzLmNyZWF0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMueEF4aXMgPSBkMy5heGlzQm90dG9tKCk7XHJcbiAgICB0aGlzLnlBeGlzID0gZDMuYXhpc0xlZnQoKTtcclxuICAgIHRoaXMueCA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2VSb3VuZChbdldpZHRoLCAwXSk7XHJcbiAgICB0aGlzLnkgPSAgZDMuc2NhbGVMaW5lYXIoKS5yYW5nZVJvdW5kKFt2SGVpZ2h0LCAwXSk7XHJcbiAgICB0aGlzLnN2ZyA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVWZWN0b3JHcmFwaChkYXRhLHhMYWJlbCwgeUxhYmVsLCBkaXZJRCl7XHJcbiAgICB2YXIgdmVjdG9yR3JhcGggPSBudWxsO1xyXG5cclxuICAgIHZlY3RvckdyYXBocy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7XHJcbiAgICAgIGlmIChlbGVtLmlkID09PSBkaXZJRCl7dmVjdG9yR3JhcGggPSBlbGVtO31cclxuICAgIH0pO1xyXG5cclxuICAgIGlmKHZlY3RvckdyYXBoID09PSBudWxsKXtcclxuICAgICAgdmVjdG9yR3JhcGggPSBuZXcgVmVjdG9yR3JhcGhEYXRhKGRpdklEKTtcclxuICAgICAgdmVjdG9yR3JhcGhzLnB1c2godmVjdG9yR3JhcGgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpbmQgYWxsIEVEQidcclxuICAgIHZhciBlZGJzID0gW107XHJcbiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZWRicy5wdXNoKGUuZWRiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBjb2xvciA9IGQzLnNjYWxlT3JkaW5hbCgpLmRvbWFpbihlZGJzKVxyXG4gICAgICAucmFuZ2UoW1wiI2U2OWE2MVwiLCBcIiM5ODE3ZmZcIiwgXCIjMThjNjFhXCIsIFwiIzMzYjRmZlwiLCBcIiNjOTE2N2VcIiwgXCIjMjk3ODUzXCIsIFwiI2Q3MDExYlwiLCBcIiM3NDU2YzdcIiwgXCIjN2U2Mjc2XCIsIFwiI2FmYjExM1wiLCBcIiNmZDg3OWNcIiwgXCIjZmI3OGZhXCIsIFwiIzI0YzM3M1wiLCBcIiM0NWJiYzVcIiwgXCIjNzY2YjIxXCIsIFwiI2FiYWQ5M1wiLCBcIiNjMTljZTNcIiwgXCIjZmQ4ZjExXCIsIFwiIzJmNTZmZlwiLCBcIiMzMDdhMTFcIiwgXCIjYjM0ODNjXCIsIFwiIzBkNzM5NlwiLCBcIiM5NGI2NjVcIiwgXCIjOWQ0ZDkxXCIsIFwiI2I4MDdjOFwiLCBcIiMwODZjYmZcIiwgXCIjYTJhYmM1XCIsIFwiI2EzNTcwMlwiLCBcIiNkMzA4NGJcIl0pO1xyXG5cclxuICAgIHZhciBhbGxWYWx1ZXMgPVtdO1xyXG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUueWVhcnMuZm9yRWFjaChmdW5jdGlvbiAoZTEpe1xyXG4gICAgICAgIGUxW1wiZWRiXCJdID0gZS5lZGI7XHJcbiAgICAgICAgYWxsVmFsdWVzLnB1c2goZTEpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciB4VmFsdWVzID0gW107XHJcbiAgICBhbGxWYWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAoZSl7IHhWYWx1ZXMucHVzaChlLnZhbHVlQik7fSk7XHJcblxyXG4gICAgdmFyIHlWYWx1ZXMgPSBbXTtcclxuICAgIGFsbFZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uIChlKXsgeVZhbHVlcy5wdXNoKGUudmFsdWVBKTt9KTtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIHN2ZyBhbmQgYXBwZW5kIHRvIHRoZSBkaXZcclxuICAgIGlmKCF2ZWN0b3JHcmFwaC5jcmVhdGVkKXtcclxuICAgICAgdmVjdG9yR3JhcGguc3ZnID0gZDMuc2VsZWN0KGRpdklEKS5hcHBlbmQoXCJzdmdcIilcclxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIHZXaWR0aCArIHZNYXJnaW4ubGVmdCArIHZNYXJnaW4ucmlnaHQpXHJcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgdkhlaWdodCArIHZNYXJnaW4udG9wICsgdk1hcmdpbi5ib3R0b20pXHJcbiAgICAgICAgLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIHZNYXJnaW4ubGVmdCArIFwiLFwiICsgdk1hcmdpbi50b3AgKyBcIilcIik7IC8vIG1vdmVzIGJ5IGEgeCBhbmQgeSB2YWx1ZSBpbiB0aGlzIGNhc2UgdGhlIG1hcmdpbnNcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gRmluZCBtYXggdmFsdWVzXHJcbiAgICB2YXIgbWF4WCA9IGQzLm1heCh4VmFsdWVzLCBmdW5jdGlvbihkKSB7IHJldHVybiBkO30gKTtcclxuICAgIHZhciBtYXhZID0gZDMubWF4KHlWYWx1ZXMsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQ7fSApO1xyXG5cclxuICAgIC8vIFNldCB0aGUgZG9tYWluIGZvciB4IGFuZCB5XHJcbiAgICB2ZWN0b3JHcmFwaC54LmRvbWFpbihbbWF4WCwwXSkubmljZSgpO1xyXG4gICAgdmVjdG9yR3JhcGgueS5kb21haW4oWzAsbWF4WV0pLm5pY2UoKTtcclxuXHJcblxyXG4gICAgaWYodmVjdG9yR3JhcGguY3JlYXRlZCl7XHJcbiAgICAgIHZlY3RvckdyYXBoLnN2Zy5zZWxlY3QoJy55QXhpcycpLmNhbGwodmVjdG9yR3JhcGgueUF4aXMpO1xyXG4gICAgICB2ZWN0b3JHcmFwaC5zdmcuc2VsZWN0KCcueEF4aXMnKS5jYWxsKHZlY3RvckdyYXBoLnhBeGlzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZlY3RvckdyYXBoLnhBeGlzLnNjYWxlKHZlY3RvckdyYXBoLngpO1xyXG4gICAgICB2ZWN0b3JHcmFwaC55QXhpcy5zY2FsZSh2ZWN0b3JHcmFwaC55KTtcclxuICAgIH1cclxuXHJcbiAgICB2ZWN0b3JHcmFwaC5zdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAuYXR0cihcImNsYXNzXCIsXCJ4QXhpc1wiKVxyXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdkhlaWdodCArIFwiKVwiKVxyXG4gICAgICAuY2FsbCh2ZWN0b3JHcmFwaC54QXhpcy5zY2FsZSh2ZWN0b3JHcmFwaC54KSk7XHJcbiAgICB2YXIgZHBGb3JtYXQgPSBkMy5mb3JtYXQoXCIuMmZcIik7XHJcblxyXG4gICAgLy8gYWRkIHRoZSB5IEF4aXNcclxuICAgIHZlY3RvckdyYXBoLnN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgIC5hdHRyKFwiY2xhc3NcIixcInlBeGlzXCIpXHJcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcImJsYWNrXCIpXHJcbiAgICAgIC5jYWxsKHZlY3RvckdyYXBoLnlBeGlzKTtcclxuXHJcbiAgICB2YXIgdGlwID0gZDMudGlwKClcclxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2QzLXRpcCcpXHJcbiAgICAgIC5vZmZzZXQoWy0xMCwgMF0pXHJcbiAgICAgIC5odG1sKGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICByZXR1cm4gXCI8c3Ryb25nPkVEQjo8L3N0cm9uZz4gPHNwYW4gc3R5bGU9J2NvbG9yOmxpZ2h0Z3JlZW4nPlwiICsgZC5lZGIgKyBcIjwvc3Bhbj48YnI+PGJyPjxzdHJvbmc+WWVhcjo8L3N0cm9uZz4gPHNwYW4gc3R5bGU9J2NvbG9yOmxpZ2h0Z3JlZW4nPlwiICsgZC55ZWFyICsgXCI8L3NwYW4+PGJyPjxicj48c3Ryb25nPlZhbHVlOjwvc3Ryb25nPiA8c3BhbiBzdHlsZT0nY29sb3I6bGlnaHRncmVlbic+W1wiICsgZHBGb3JtYXQoZC52YWx1ZUEpXHQgKyBcIiwgXCIgKyBkcEZvcm1hdChkLnZhbHVlQikgK1wiXTwvc3Bhbj5cIjtcclxuICAgICAgfSk7XHJcbiAgICB2ZWN0b3JHcmFwaC5zdmcuY2FsbCh0aXApO1xyXG5cclxuICAgIGlmKHZlY3RvckdyYXBoLmNyZWF0ZWQpe1xyXG4gICAgICB2ZWN0b3JHcmFwaC5zdmcuc2VsZWN0QWxsKFwiLmRvdG1cIilcclxuICAgICAgICAuZGF0YShhbGxWYWx1ZXMpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImRvdFwiKVxyXG4gICAgICAgIC5hdHRyKFwiclwiLCAzLjUpXHJcbiAgICAgICAgLmF0dHIoXCJjeFwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIHZlY3RvckdyYXBoLngoZC52YWx1ZUIpOyB9KVxyXG4gICAgICAgIC5hdHRyKFwiY3lcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gdmVjdG9yR3JhcGgueShkLnZhbHVlQSk7IH0pXHJcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGNvbG9yKGQuZWRiKTsgfSlcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIHRpcC5zaG93KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCB0aXAuaGlkZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2ZWN0b3JHcmFwaC5zdmcuc2VsZWN0QWxsKFwiLmRvdG1cIilcclxuICAgICAgICAuZGF0YShhbGxWYWx1ZXMpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImRvdG1cIilcclxuICAgICAgICAuYXR0cihcInJcIiwgMy41KVxyXG4gICAgICAgIC5hdHRyKFwiY3hcIiwgZnVuY3Rpb24oZCkge3JldHVybiB2ZWN0b3JHcmFwaC54KGQudmFsdWVCKTsgfSlcclxuICAgICAgICAuYXR0cihcImN5XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHZlY3RvckdyYXBoLnkoZC52YWx1ZUEpOyB9KVxyXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBjb2xvcihkLmVkYik7IH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCB0aXAuc2hvdylcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgdGlwLmhpZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBsaW5lcyA9IFtdOyAvLyB4LHkseDEseTFcclxuXHJcbiAgICAvLyBOZXh0IGNyZWF0ZSB0aGUgbGluZXMgYmV0d2VlbiB0aGVtXHJcbiAgICBmb3IodmFyIGkgPTA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKXtcclxuICAgICAgZm9yKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ueWVhcnMubGVuZ3RoLTE7IGorKyl7IC8vIC0xIGJlY2F1c2Ugd2UgYWRkXHJcbiAgICAgICAgbGluZXMucHVzaCgge2VuZCA6ICB0cnVlLGVkYiA6IGRhdGFbaV0uZWRiLCB4IDogZGF0YVtpXS55ZWFyc1tqXS52YWx1ZUIsIHkgOiBkYXRhW2ldLnllYXJzW2pdLnZhbHVlQSAsIHgxIDogZGF0YVtpXS55ZWFyc1tqKzFdLnZhbHVlQiAsIHkxIDogZGF0YVtpXS55ZWFyc1tqKzFdLnZhbHVlQX0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQnVpbGQgYXJyb3dcclxuICAgIGlmKCF2ZWN0b3JHcmFwaC5jcmVhdGVkKXtcclxuICAgICAgdmVjdG9yR3JhcGguc3ZnLmFwcGVuZChcInN2ZzpkZWZzXCIpLnNlbGVjdEFsbChcIm1hcmtlclwiKVxyXG4gICAgICAgIC5kYXRhKGxpbmVzKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcInN2ZzptYXJrZXJcIilcclxuICAgICAgICAuYXR0cihcImlkXCIsIGZ1bmN0aW9uKGQpe1xyXG4gICAgICAgICAgaWYoZC5lbmQpe1xyXG4gICAgICAgICAgICByZXR1cm4gXCJlbmRcIitkLmVkYi5yZXBsYWNlKC8gL2cgLCBcIlwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwidmlld0JveFwiLCBcIjAgLTUgMTAgMTBcIilcclxuICAgICAgICAuYXR0cihcInJlZlhcIiwgOSlcclxuICAgICAgICAuYXR0cihcInJlZllcIiwgLTAuNSlcclxuICAgICAgICAuYXR0cihcIm1hcmtlcldpZHRoXCIsIDkpXHJcbiAgICAgICAgLmF0dHIoXCJtYXJrZXJIZWlnaHRcIiwgOSlcclxuICAgICAgICAuYXR0cihcIm1hcmtlclVuaXRzXCIsXCJ1c2VyU3BhY2VPblVzZVwiKVxyXG4gICAgICAgIC5hdHRyKFwib3JpZW50XCIsIFwiYXV0b1wiKVxyXG4gICAgICAgIC5hcHBlbmQoXCJzdmc6cGF0aFwiKVxyXG4gICAgICAgIC5hdHRyKFwiZFwiLCBcIk0wLC01TDEwLDBMMCw1XCIpXHJcbiAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCBmdW5jdGlvbihkKXsgcmV0dXJuIGNvbG9yKGQuZWRiKTt9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZih2ZWN0b3JHcmFwaC5jcmVhdGVkKXtcclxuICAgICAgdmVjdG9yR3JhcGguc3ZnLnNlbGVjdEFsbChcIi5saW5lXCIpXHJcbiAgICAgICAgLmRhdGEobGluZXMpXHJcbiAgICAgICAgLmF0dHIoXCJ4MVwiLCAgZnVuY3Rpb24oZCkge3JldHVybiB4KGQueCk7fSlcclxuICAgICAgICAuYXR0cihcInkxXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4geShkLnkpO30pXHJcbiAgICAgICAgLmF0dHIoXCJ4MlwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIHgoZC54MSk7fSlcclxuICAgICAgICAuYXR0cihcInkyXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4geShkLnkxKTt9KVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGQpe3JldHVybiBcIlwiK2QuZWRiLnJlcGxhY2UoLyAvZyAsIFwiXCIpO30gKSAvLyBBZGQgZWJkIGFzIHRoZSBjbGFzc1xyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGNvbG9yKGQuZWRiKTt9KVxyXG4gICAgICAgIC5hdHRyKFwibWFya2VyLWVuZFwiLCBmdW5jdGlvbihkKXtcclxuICAgICAgICAgIGlmKGQuZW5kKXtcclxuICAgICAgICAgICAgcmV0dXJuIFwidXJsKCNlbmRcIitkLmVkYi5yZXBsYWNlKC8gL2cgLCBcIlwiKSArXCIpXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2ZWN0b3JHcmFwaC5zdmcuc2VsZWN0QWxsKFwiLmxpbmVcIilcclxuICAgICAgICAuZGF0YShsaW5lcylcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJsaW5lXCIpXHJcbiAgICAgICAgLmF0dHIoXCJ4MVwiLCAgZnVuY3Rpb24oZCkge3JldHVybiB2ZWN0b3JHcmFwaC54KGQueCk7fSlcclxuICAgICAgICAuYXR0cihcInkxXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gdmVjdG9yR3JhcGgueShkLnkpO30pXHJcbiAgICAgICAgLmF0dHIoXCJ4MlwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIHZlY3RvckdyYXBoLngoZC54MSk7fSlcclxuICAgICAgICAuYXR0cihcInkyXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gdmVjdG9yR3JhcGgueShkLnkxKTt9KVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGQpe3JldHVybiBcIlwiK2QuZWRiLnJlcGxhY2UoLyAvZyAsIFwiXCIpO30gKSAvLyBBZGQgZWJkIGFzIHRoZSBjbGFzc1xyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGNvbG9yKGQuZWRiKTt9KVxyXG4gICAgICAgIC5hdHRyKFwibWFya2VyLWVuZFwiLCBmdW5jdGlvbihkKXtcclxuICAgICAgICAgIGlmKGQuZW5kKXtcclxuICAgICAgICAgICAgcmV0dXJuIFwidXJsKCNlbmRcIitkLmVkYi5yZXBsYWNlKC8gL2cgLCBcIlwiKStcIilcIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFyIHhNZXRyaWNMYWJlbCA9IFwiXCI7XHJcbiAgICB2YXIgeU1ldHJpY0xhYmVsID0gXCJcIjtcclxuICAgIGlmKGRpdklELmluY2x1ZGVzKFwiYWJjZFwiKSl7XHJcbiAgICAgIHhNZXRyaWNMYWJlbCA9IFwiQyAvIERcIjtcclxuICAgICAgeU1ldHJpY0xhYmVsID0gXCJBIC8gQlwiO1xyXG4gICAgfSBlbHNlIGlmKGRpdklELmluY2x1ZGVzKFwiYWJcIikpe1xyXG4gICAgICB4TWV0cmljTGFiZWwgPSBcIkJcIjtcclxuICAgICAgeU1ldHJpY0xhYmVsID0gXCJBXCJcclxuICAgIH0gZWxzZSBpZihkaXZJRC5pbmNsdWRlcyhcImNkXCIpKSB7XHJcbiAgICAgIHhNZXRyaWNMYWJlbCA9IFwiRFwiO1xyXG4gICAgICB5TWV0cmljTGFiZWwgPSBcIkNcIjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgWSBsYWJlbFxyXG4gICAgdmVjdG9yR3JhcGguc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKSAgLy8gdGhpcyBtYWtlcyBpdCBlYXN5IHRvIGNlbnRyZSB0aGUgdGV4dCBhcyB0aGUgdHJhbnNmb3JtIGlzIGFwcGxpZWQgdG8gdGhlIGFuY2hvclxyXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIisgLSh2TWFyZ2luLmxlZnQvMikgK1wiLFwiKyAoICt2SGVpZ2h0LzIpK1wiKXJvdGF0ZSgtOTApXCIpICAvLyB0ZXh0IGlzIGRyYXduIG9mZiB0aGUgc2NyZWVuIHRvcCBsZWZ0LCBtb3ZlIGRvd24gYW5kIG91dCBhbmQgcm90YXRlXHJcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ1bml0LXRleHRcIilcclxuICAgICAgLnRleHQoeU1ldHJpY0xhYmVsICsgXCIgICAgIChcIiArIHlMYWJlbCArIFwiKVwiKTtcclxuXHJcbiAgICAvLyBBZGQgWCBsYWJlbFxyXG4gICAgdmVjdG9yR3JhcGguc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKSAgLy8gdGhpcyBtYWtlcyBpdCBlYXN5IHRvIGNlbnRyZSB0aGUgdGV4dCBhcyB0aGUgdHJhbnNmb3JtIGlzIGFwcGxpZWQgdG8gdGhlIGFuY2hvclxyXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIisgKHZXaWR0aC8yKSArXCIsXCIrICsodkhlaWdodCArIHZNYXJnaW4uYm90dG9tLzQpICsgXCIpXCIpICAvLyB0ZXh0IGlzIGRyYXduIG9mZiB0aGUgc2NyZWVuIHRvcCBsZWZ0LCBtb3ZlIGRvd24gYW5kIG91dCBhbmQgcm90YXRlXHJcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ1bml0LXRleHRcIilcclxuICAgICAgLnRleHQoeE1ldHJpY0xhYmVsKyBcIiAgICAgKFwiICsgeExhYmVsICsgXCIpXCIpO1xyXG5cclxuXHJcbiAgICBpZighdmVjdG9yR3JhcGguY3JlYXRlZCl7XHJcbiAgICAgIHZhciBsZWdlbmQgPSB2ZWN0b3JHcmFwaC5zdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd2ZWN0b3Ita2V5LXRleHQnKVxyXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcclxuICAgICAgICAuc2VsZWN0QWxsKFwiZ1wiKVxyXG4gICAgICAgIC5kYXRhKGVkYnMpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgIC5hcHBlbmQoXCJzdmc6YVwiKVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQsIGkpIHtcclxuICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihpIC8gNSkgKiAyMDtcclxuICAgICAgICAgIHZhciB4ID0gKGkgLSAoTWF0aC5mbG9vcigoaSAvIDUpKSAqIDUpKSAqIDE2MDtcclxuICAgICAgICAgIHggPSB4ICsgdk1hcmdpbi5sZWZ0O1xyXG4gICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiKyB4ICtcIixcIiArICh5ICt2SGVpZ2h0ICt2TWFyZ2luLmJvdHRvbS8zICkgKyBcIilcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZCl7XHJcbiAgICAgICAgICB2ZWN0b3JHcmFwaC5zdmcuc2VsZWN0QWxsKCdsaW5lLicrZC5yZXBsYWNlKC8gL2cgLCBcIlwiKSlcclxuICAgICAgICAgICAgLmNsYXNzZWQoXCJsaW5lLXNlbGVjdGVkXCIsIHRydWUpO1xyXG4gICAgICAgIH0pLlxyXG4gICAgICAgIG9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKGQpe1xyXG4gICAgICAgICAgdmVjdG9yR3JhcGguc3ZnLnNlbGVjdEFsbCgnbGluZS4nK2QucmVwbGFjZSgvIC9nICwgXCJcIikpXHJcbiAgICAgICAgICAgIC5jbGFzc2VkKFwibGluZS1zZWxlY3RlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBsZWdlbmQuYXBwZW5kKFwiY2lyY2xlXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjeFwiLCB2TWFyZ2luLmxlZnQgKyA1NSlcclxuICAgICAgICAuYXR0cihcImN5XCIsIDkuNSlcclxuICAgICAgICAuYXR0cihcInJcIiwgNy41KVxyXG4gICAgICAgIC8vIC5hdHRyKFwiaGVpZ2h0XCIsIDE5KVxyXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCBjb2xvcik7XHJcblxyXG4gICAgICBsZWdlbmQuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCB2TWFyZ2luLmxlZnQgKyA0MClcclxuICAgICAgICAuYXR0cihcInlcIiwgOS41KVxyXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIwLjMyZW1cIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZy10ZXh0XCIpXHJcbiAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMTRweFwiKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQ7IH0pO1xyXG4gICAgfVxyXG4gICAgdmVjdG9yR3JhcGguY3JlYXRlZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY3JlYXRlVmVjdG9yR3JhcGggOiBjcmVhdGVWZWN0b3JHcmFwaFxyXG4gIH1cclxufSkoKTtcclxuXHJcbiJdfQ==
