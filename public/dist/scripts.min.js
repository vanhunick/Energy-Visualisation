function createBarGraph(t,e){x.domain(e.map(function(t){return t.category})),y.domain([0,d3.max(e,function(t){return t.value})]),y.nice(),yAxis.scale(y),created?svg.selectAll(".bar").data(e).transition().duration(1e3).attr("y",function(t){return y(t.value)}).attr("height",function(t){return height-y(t.value)}):svg.selectAll(".bar").data(e).enter().append("rect").attr("class","bar").attr("x",function(t){return x(t.category)}).attr("width",x.bandwidth()).attr("y",function(t){return y(t.value)}).attr("height",function(t){return height-y(t.value)}),created?svg.select(".yAxis").transition().duration(1e3).call(yAxis):(svg.append("g").attr("transform","translate(0,"+height+")").call(d3.axisBottom(x)),svg.append("g").attr("class","yAxis").call(yAxis)),created?svg.select("#bar-title").text(t):svg.append("text").attr("x",width/2).attr("y",0-margin.top/2).attr("id","bar-title").attr("text-anchor","middle").style("font-size","24px").text(t),created=!0}function GroupedBarData(t,e,r,n,a,i){this.x0=t,this.x1=e,this.y=r,this.yAxis=n,this.svg=a,this.id=i,this.created=!1}function highlight(t,e){d3.selectAll(".bar-selected").datum(function(t){return t}).attr("fill",function(t){return z(t.key)}),d3.selectAll(".bar-selected").classed("bar-selected",!1),e||d3.selectAll("rect."+t.replace(/ /g,"")).classed("bar-selected",!0).datum(function(t){return t}).attr("fill",function(t){return zSelected(t.key)})}function createdGroupedBarGraph(t,e,r,n){var a=null;barGraphs.forEach(function(t){t.id===n&&(a=t)}),null===a&&(a=new GroupedBarData(d3.scaleBand().rangeRound([0,width]).paddingInner(.05),d3.scaleBand().padding(.05),d3.scaleLinear().rangeRound([height,0]),d3.axisLeft(),d3.axisBottom(),n),barGraphs.push(a)),a.created||(a.svg=d3.select(n).append("div").classed("svg-container",!0).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+(width+margin.left+margin.right)+" "+(height+margin.top+margin.bottom)).append("g").attr("transform","translate("+margin.left+","+margin.top+")").classed("svg-content-responsive",!0)),a.x0.domain(t.map(function(t){return t.edb})),a.x1.domain(e).rangeRound([0,a.x0.bandwidth()]),a.y.domain([0,d3.max(t,function(t){return d3.max(e,function(e){return Math.abs(t[e])})})]).nice();var i=a.svg.append("g").attr("transform","translate("+margin.left+","+margin.top+")"),o=d3.format(".2f"),s=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>Value:</strong> <span style='color:lightgreen'>"+o(t.value)+"</span><br><br><strong>Year:</strong> <span style='color:lightgreen'>"+t.key+"</span>"});a.svg.call(s),a.created?i.append("g").selectAll("g").data(t).attr("transform",function(t){return"translate("+a.x0(t.edb)+",0)"}).selectAll("rect").data(function(t){return e.map(function(e){return{neg:t[e]<0,key:e,value:Math.abs(t[e])}})}).enter().append("rect").attr("x",function(t){return a.x1(t.key)}).attr("y",function(t){return a.y(t.value)}).attr("width",a.x1.bandwidth()).attr("height",function(t){return height-a.y(t.value)}).attr("fill",function(t){return t.neg?zRed(t.key):z(t.key)}).on("mouseover",s.show).on("mouseout",s.hide):i.append("g").selectAll("g").data(t).enter().append("g").attr("transform",function(t){return"translate("+a.x0(t.edb)+",0)"}).selectAll("rect").data(function(t){return e.map(function(e){return{neg:t[e]<0,key:e,edb:t.edb,value:Math.abs(t[e])}})}).enter().append("rect").attr("x",function(t){return a.x1(t.key)}).attr("y",function(t){return a.y(t.value)}).attr("width",a.x1.bandwidth()).attr("height",function(t){return height-a.y(t.value)}).attr("fill",function(t){return t.neg?zRed(t.key):z(t.key)}).attr("class",function(t){return""+t.edb.replace(/ /g,"")}).on("mouseover",s.show).on("mouseout",s.hide),i.append("g").attr("class","axis").attr("transform","translate(0,"+height+")").call(d3.axisBottom(a.x0)).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("class","axis-text").attr("transform","rotate(55)").style("font-size","8px").style("text-anchor","start"),a.created?a.svg.select(".yAxis").call(a.yAxis):i.append("g").attr("class","axis yAxis y-group").call(a.yAxis.scale(a.y).ticks(null,"s")).append("text").attr("x",2).attr("y",a.y(a.y.ticks().pop())+.5).attr("dy","0.32em").attr("text-anchor","start"),a.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+(margin.left/2-5)+","+(margin.top+8)+")rotate(-90)").style("font-size","10px").attr("class","unit-text").text(r);var l=i.append("g").attr("font-family","sans-serif").attr("font-size",8).attr("text-anchor","end").selectAll("g").data(e.slice().reverse()).enter().append("g").attr("transform",function(t,e){return"translate(0,"+10*e+")"});l.append("rect").attr("x",width-100).attr("width",8.5).attr("height",8.5).attr("fill",z),l.append("text").attr("x",width-110).attr("y",4).attr("dy","0.32em").attr("class","g-text").style("font-size","8px").text(function(t){return t}),a.created=!0}function BoxPlotData(t,e,r,n,a,i,o,s){this.x=t,this.y=e,this.xAxis=r,this.yAxis=n,this.svg=a,this.chart=i,this.created=o,this.id=s}function createBoxPlot(t,e,r){var n=null,a=t.data,i=t.min,o=t.max,s=t.scatterData;if(plots.forEach(function(t){t.id===e&&(n=t)}),null===n){var l=d3.scaleBand().rangeRound([0,boxWidth]).padding(.7,.3);n=new BoxPlotData(l,null,null,null,null,null,!1,e),plots.push(n)}else d3.select(e+" svg").remove();n.y=d3.scaleLinear().domain([i,o]).nice().range([boxHeight+boxMargin.top,0+boxMargin.top]),n.chart=d3.box().whiskers(iqr(1.5)).height(boxHeight).domain(n.y.domain()).showLabels(labels),n.svg=d3.select(e).append("div").classed("svg-container-box",!0).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+(boxWidth+boxMargin.left+boxMargin.right)+" "+(boxHeight+boxMargin.top+boxMargin.bottom)).attr("class","box").append("g").attr("transform","translate("+margin.left+","+margin.top+")").classed("svg-content-responsive",!0),n.x.domain(a.map(function(t){return t[0]})),n.xAxis=d3.axisBottom(n.x),n.yAxis=d3.axisLeft(n.y),n.svg.selectAll(".box").data(a).enter().append("g").attr("transform",function(t){return"translate("+n.x(t[0])+","+boxMargin.top+")"}).call(n.chart.width(n.x.bandwidth())),n.svg.selectAll(".box").data(a).enter().append("g").attr("transform",function(t){return"translate("+n.x(t[0])+","+boxMargin.top+")"}).call(n.chart.width(n.x.bandwidth()));var c=d3.format(".2f"),d=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>Value:</strong> <span style='color:lightgreen'>"+c(t.value)+"</span><br><br><strong>EDB:</strong> <span style='color:lightgreen'>"+t.edb+"</span>"});n.svg.call(d),n.svg.selectAll(".dot").data(s).enter().append("circle").attr("class",function(t){return"dot "+t.edb.replace(/ /g,"")}).attr("r",1.75).attr("cx",function(t){return n.x(t.year)+whiskBoxWidth/2}).attr("cy",function(t){return n.y(t.value)}).on("mouseover",d.show).on("mouseout",d.hide),n.svg.append("g").attr("class","y axis").call(n.yAxis).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-size","8px"),n.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+(boxHeight+boxMargin.top+10)+")").call(n.xAxis).append("text").attr("x",boxWidth/2).attr("y",10).attr("dy",".71em").style("text-anchor","middle").style("font-size","8px").text("Quarter"),n.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+-(boxMargin.left/2-10)+","+(2*boxMargin.top+10)+")rotate(-90)").style("font-size","12px").attr("class","unit-text").text(r),n.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+ +(boxWidth/2)+","+(boxMargin.top+40+boxHeight)+")").style("font-size","12px").attr("class","unit-text").text("Year"),n.created=!0}function iqr(t){return function(e,r){for(var n=e.quartiles[0],a=e.quartiles[2],i=(a-n)*t,r=-1,o=e.length;e[++r]<n-i;);for(;e[--o]>a+i;);return[r,o]}}function VectorGraphData(t){this.id=t,this.created=!1,this.xAxis=d3.axisBottom(),this.yAxis=d3.axisLeft(),this.x=d3.scaleLinear().rangeRound([vWidth,0]),this.y=d3.scaleLinear().rangeRound([vHeight,0]),this.svg=null}function createVectorGraph(t,e,r,n){var a=null;vectorGraphs.forEach(function(t){t.id===n&&(a=t)}),null===a&&(a=new VectorGraphData(n),vectorGraphs.push(a));var i=[];t.forEach(function(t){i.push(t.edb)});var o=d3.scaleOrdinal().domain(i).range(["#e69a61","#9817ff","#18c61a","#33b4ff","#c9167e","#297853","#d7011b","#7456c7","#7e6276","#afb113","#fd879c","#fb78fa","#24c373","#45bbc5","#766b21","#abad93","#c19ce3","#fd8f11","#2f56ff","#307a11","#b3483c","#0d7396","#94b665","#9d4d91","#b807c8","#086cbf","#a2abc5","#a35702","#d3084b"]),s=[];t.forEach(function(t){t.years.forEach(function(e){e.edb=t.edb,s.push(e)})});var l=[];s.forEach(function(t){l.push(t.valueB)});var c=[];s.forEach(function(t){c.push(t.valueA)}),a.created||(a.svg=d3.select(n).append("svg").attr("width",vWidth+vMargin.left+vMargin.right).attr("height",vHeight+vMargin.top+vMargin.bottom).append("g").attr("transform","translate("+vMargin.left+","+vMargin.top+")"));var d=d3.max(l,function(t){return t}),u=d3.max(c,function(t){return t});a.x.domain([d,0]).nice(),a.y.domain([0,u]).nice(),a.created?(a.svg.select(".yAxis").call(a.yAxis),a.svg.select(".xAxis").call(a.xAxis)):(a.xAxis.scale(a.x),a.yAxis.scale(a.y)),a.svg.append("g").attr("class","xAxis").attr("transform","translate(0,"+vHeight+")").attr("stroke","black").call(a.xAxis.scale(a.x));var f=d3.format(".2f");a.svg.append("g").attr("class","yAxis").attr("fill","black").call(a.yAxis);var g=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>EDB:</strong> <span style='color:lightgreen'>"+t.edb+"</span><br><br><strong>Year:</strong> <span style='color:lightgreen'>"+t.year+"</span><br><br><strong>Value:</strong> <span style='color:lightgreen'>["+f(t.valueA)+", "+f(t.valueB)+"]</span>"});a.svg.call(g),a.created?a.svg.selectAll(".dotm").data(s).attr("class","dot").attr("r",3.5).attr("cx",function(t){return a.x(t.valueB)}).attr("cy",function(t){return a.y(t.valueA)}).attr("fill",function(t){return o(t.edb)}).on("mouseover",g.show).on("mouseout",g.hide):a.svg.selectAll(".dotm").data(s).enter().append("circle").attr("class","dotm").attr("r",3.5).attr("cx",function(t){return a.x(t.valueB)}).attr("cy",function(t){return a.y(t.valueA)}).attr("fill",function(t){return o(t.edb)}).on("mouseover",g.show).on("mouseout",g.hide);for(var p=[],h=0;h<t.length;h++)for(var m=0;m<t[h].years.length-1;m++)p.push({end:2016===t[h].years[m].year||2016===t[h].years[m+1].year,edb:t[h].edb,x:t[h].years[m].valueB,y:t[h].years[m].valueA,x1:t[h].years[m+1].valueB,y1:t[h].years[m+1].valueA});if(a.created||a.svg.append("svg:defs").selectAll("marker").data(p).enter().append("svg:marker").attr("id",function(t){if(t.end)return"end"+t.edb.replace(/ /g,"")}).attr("viewBox","0 -5 10 10").attr("refX",9).attr("refY",-.5).attr("markerWidth",9).attr("markerHeight",9).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5").style("fill",function(t){return o(t.edb)}),a.created?a.svg.selectAll(".line").data(p).attr("x1",function(t){return x(t.x)}).attr("y1",function(t){return y(t.y)}).attr("x2",function(t){return x(t.x1)}).attr("y2",function(t){return y(t.y1)}).attr("stroke-width",2).attr("class",function(t){return""+t.edb.replace(/ /g,"")}).attr("stroke",function(t){return o(t.edb)}).attr("marker-end",function(t){if(t.end)return"url(#end"+t.edb.replace(/ /g,"")+")"}):a.svg.selectAll(".line").data(p).enter().append("line").attr("x1",function(t){return a.x(t.x)}).attr("y1",function(t){return a.y(t.y)}).attr("x2",function(t){return a.x(t.x1)}).attr("y2",function(t){return a.y(t.y1)}).attr("stroke-width",2).attr("class",function(t){return""+t.edb.replace(/ /g,"")}).attr("stroke",function(t){return o(t.edb)}).attr("marker-end",function(t){if(t.end)return"url(#end"+t.edb.replace(/ /g,"")+")"}),a.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+-(vMargin.left/2+15)+","+2*vMargin.top+")rotate(-90)").style("font-size","18px").attr("font-family","sans-serif").attr("class","unit-text").text(r),a.svg.append("text").attr("text-anchor","middle").attr("transform","translate("+vWidth/2+","+(vHeight+35)+")").style("font-size","18px").attr("font-family","sans-serif").attr("class","unit-text").text(e),!a.created){var v=a.svg.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","end").selectAll("g").data(i).enter().append("g").append("svg:a").attr("transform",function(t,e){var r=20*Math.floor(e/5),n=160*(e-5*Math.floor(e/5));return n+=vMargin.left,"translate("+n+","+(r+vHeight+vMargin.bottom/3)+")"}).on("mouseover",function(t){a.svg.selectAll("line."+t.replace(/ /g,"")).classed("line-selected",!0)}).on("mouseout",function(t){a.svg.selectAll("line."+t.replace(/ /g,"")).classed("line-selected",!1)});v.append("circle").attr("cx",vMargin.left+55).attr("cy",9.5).attr("r",7.5).attr("fill",o),v.append("text").attr("x",vMargin.left+40).attr("y",9.5).attr("dy","0.32em").attr("class","g-text").style("font-size","14px").text(function(t){return t})}a.created=!0}var margin={top:60,right:20,bottom:30,left:50},width=550-margin.left-margin.right,height=350-margin.top-margin.bottom,x=d3.scaleBand().range([0,width]).padding(.1),y=d3.scaleLinear().range([height,0]).nice(),yAxis=d3.axisLeft(),created=!1,svg=d3.select("#graph-div").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")"),margin={top:35,right:85,bottom:150,left:50},width=850-margin.left-margin.right,height=550-margin.top-margin.bottom,barGraphs=[],z=d3.scaleOrdinal().range(["#BBDEFB","#64B5F6","#1976D2","#1565C0","#0D47A1","#d0743c","#ff8c00"]),zRed=d3.scaleOrdinal().range(["#FF7373","#FF4C4C","#FF2626","#B20000","#D90000","#d0743c","#ff8c00"]),zSelected=d3.scaleOrdinal().range(["#C1FFC1","#90EE90","#5BC85B","#31A231","#137B13","#d0743c","#ff8c00"]),whiskBoxWidth=1;!function(){function t(t){return[0,t.length-1]}function e(t){return[d3.quantile(t,.25),d3.quantile(t,.5),d3.quantile(t,.75)]}d3.box=function(){function r(t){t.each(function(t,e){var r=t[1].sort(d3.ascending),o=d3.select(this),u=r.length,f=r[0],g=r[u-1],p=r.quartiles=l(r),h=s&&s.call(this,r,e),x=h&&h.map(function(t){return r[t]}),y=h?d3.range(0,h[0]).concat(d3.range(h[1]+1,u)):d3.range(u),m=d3.scaleLinear().domain(i&&i.call(this,r,e)||[f,g]).range([n,0]),v=this.__chart__||d3.scaleLinear().domain([0,1/0]).range(m.range());this.__chart__=m;var b=o.selectAll("line.center").data(x?[x]:[]);b.enter().insert("line","rect").attr("class","center").attr("x1",whiskBoxWidth/2).attr("y1",function(t){return v(t[0])}).attr("x2",whiskBoxWidth/2).attr("y2",function(t){return v(t[1])}).style("opacity",1e-6).transition().duration(a).style("opacity",1).attr("y1",function(t){return m(t[0])}).attr("y2",function(t){return m(t[1])}),b.transition().duration(a).style("opacity",1).attr("y1",function(t){return m(t[0])}).attr("y2",function(t){return m(t[1])}),b.exit().transition().duration(a).style("opacity",1e-6).attr("y1",function(t){return m(t[0])}).attr("y2",function(t){return m(t[1])}).remove();var w=o.selectAll("rect.box").data([p]);w.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(t){return v(t[2])}).attr("width",whiskBoxWidth).attr("height",function(t){return v(t[0])-v(t[2])}).transition().duration(a).attr("y",function(t){return m(t[2])}).attr("height",function(t){return m(t[0])-m(t[2])}),w.transition().duration(a).attr("y",function(t){return m(t[2])}).attr("height",function(t){return m(t[0])-m(t[2])});var A=o.selectAll("line.median").data([p[1]]);A.enter().append("line").attr("class","median").attr("x1",0).attr("y1",v).attr("x2",whiskBoxWidth).attr("y2",v).transition().duration(a).attr("y1",m).attr("y2",m),A.transition().duration(a).attr("y1",m).attr("y2",m);var k=o.selectAll("line.whisker").data(x||[]);k.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",v).attr("x2",0+whiskBoxWidth).attr("y2",v).style("opacity",1e-6).transition().duration(a).attr("y1",m).attr("y2",m).style("opacity",1),k.transition().duration(a).attr("y1",m).attr("y2",m).style("opacity",1),k.exit().transition().duration(a).attr("y1",m).attr("y2",m).style("opacity",1e-6).remove();var B=o.selectAll("circle.outlier").data(y,Number);B.enter().insert("circle","text").attr("class","outlier").attr("r",2).attr("cx",whiskBoxWidth/2).attr("cy",function(t){return v(r[t])}).style("opacity",1e-6).transition().duration(a).attr("cy",function(t){return m(r[t])}).style("opacity",1),B.transition().duration(a).attr("cy",function(t){return m(r[t])}).style("opacity",1),B.exit().transition().duration(a).attr("cy",function(t){return m(r[t])}).style("opacity",1e-6).remove();var M=d||m.tickFormat(8),W=o.selectAll("text.box").data(p);1==c&&W.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(t,e){return 1&e?6:-6}).attr("x",function(t,e){return 1&e?+whiskBoxWidth:0}).attr("y",v).attr("text-anchor",function(t,e){return 1&e?"start":"end"}).text(M).transition().duration(a).attr("y",m),W.transition().duration(a).text(M).attr("y",m);var z=o.selectAll("text.whisker").data(x||[]);1==c&&z.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",whiskBoxWidth).attr("y",v).text(M).style("opacity",1e-6).transition().duration(a).attr("y",m).style("opacity",1),z.transition().duration(a).text(M).attr("y",m).style("opacity",1),z.exit().transition().duration(a).attr("y",m).style("opacity",1e-6).remove()}),d3.timerFlush()}var n=1,a=0,i=null,o=Number,s=t,l=e,c=!0,d=null;return r.width=function(t){return arguments.length?(whiskBoxWidth=t,r):whiskBoxWidth},r.height=function(t){return arguments.length?(n=t,r):n},r.tickFormat=function(t){return arguments.length?(d=t,r):d},r.duration=function(t){return arguments.length?(a=t,r):a},d3.functor=function(t){return"function"==typeof t?t:function(){return t}},r.domain=function(t){return arguments.length?(i=null===t?t:d3.functor(t),r):i},r.value=function(t){return arguments.length?(o=t,r):o},r.whiskers=function(t){return arguments.length?(s=t,r):s},r.showLabels=function(t){return arguments.length?(c=t,r):c},r.quartiles=function(t){return arguments.length?(l=t,r):l},r}}();var labels=!1,boxMargin={top:0,right:0,bottom:80,left:100},boxWidth=700-boxMargin.left-boxMargin.right,boxHeight=550-boxMargin.top-boxMargin.bottom,plots=[];d3.functor=function(t){return"function"==typeof t?t:function(){return t}},d3.tip=function(){function t(t){b=g(t),w=b.createSVGPoint(),document.body.appendChild(v)}function e(){return"n"}function r(){return[0,0]}function n(){return" "}function a(){var t=h();return{top:t.n.y-v.offsetHeight,left:t.n.x-v.offsetWidth/2}}function i(){var t=h();return{top:t.s.y,left:t.s.x-v.offsetWidth/2}}function o(){var t=h();return{top:t.e.y-v.offsetHeight/2,left:t.e.x}}function s(){var t=h();return{top:t.w.y-v.offsetHeight/2,left:t.w.x-v.offsetWidth}}function l(){var t=h();return{top:t.nw.y-v.offsetHeight,left:t.nw.x-v.offsetWidth}}function c(){var t=h();return{top:t.ne.y-v.offsetHeight,left:t.ne.x}}function d(){var t=h();return{top:t.sw.y,left:t.sw.x-v.offsetWidth}}function u(){var t=h();return{top:t.se.y,left:t.e.x}}function f(){var t=d3.select(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function g(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function p(){return null===v&&(v=f(),document.body.appendChild(v)),d3.select(v)}function h(){for(var t=A||d3.event.target;"undefined"==typeof t.getScreenCTM&&"undefined"===t.parentNode;)t=t.parentNode;var e={},r=t.getScreenCTM(),n=t.getBBox(),a=n.width,i=n.height,o=n.x,s=n.y;return w.x=o,w.y=s,e.nw=w.matrixTransform(r),w.x+=a,e.ne=w.matrixTransform(r),w.y+=i,e.se=w.matrixTransform(r),w.x-=a,e.sw=w.matrixTransform(r),w.y-=i/2,e.w=w.matrixTransform(r),w.x+=a,e.e=w.matrixTransform(r),w.x-=a/2,w.y-=i/2,e.n=w.matrixTransform(r),w.y+=i,e.s=w.matrixTransform(r),e}var x=e,y=r,m=n,v=f(),b=null,w=null,A=null;t.show=function(){var e=Array.prototype.slice.call(arguments);e[e.length-1]instanceof SVGElement&&(A=e.pop());var r,n=m.apply(this,e),a=y.apply(this,e),i=x.apply(this,e),o=p(),s=B.length,l=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;for(o.html(n).style("position","absolute").style("opacity",1).style("pointer-events","all");s--;)o.classed(B[s],!1);return r=k[i].apply(this),o.classed(i,!0).style("top",r.top+a[0]+l+"px").style("left",r.left+a[1]+c+"px"),t},t.hide=function(){var e=p();return e.style("opacity",0).style("pointer-events","none"),t},t.attr=function(e,r){if(arguments.length<2&&"string"==typeof e)return p().attr(e);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(p(),n),t},t.style=function(e,r){if(arguments.length<2&&"string"==typeof e)return p().style(e);var n=Array.prototype.slice.call(arguments);if(1===n.length){var a=n[0];Object.keys(a).forEach(function(t){return d3.selection.prototype.style.apply(p(),[t,a[t]])})}return t},t.direction=function(e){return arguments.length?(x=null==e?e:d3.functor(e),t):x},t.offset=function(e){return arguments.length?(y=null==e?e:d3.functor(e),t):y},t.html=function(e){return arguments.length?(m=null==e?e:d3.functor(e),t):m},t.destroy=function(){return v&&(p().remove(),v=null),t};var k={n:a,s:i,e:o,w:s,nw:l,ne:c,sw:d,se:u},B=Object.keys(k);return t};var vMargin={top:30,right:20,bottom:180,left:70},vWidth=1e3-vMargin.left-vMargin.right,vHeight=800-vMargin.top-vMargin.bottom,vectorGraphs=[];