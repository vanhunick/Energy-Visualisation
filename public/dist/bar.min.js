function createBarGraph(t,a){x.domain(a.map(function(t){return t.category})),y.domain([0,d3.max(a,function(t){return t.value})]),y.nice(),yAxis.scale(y),created?svg.selectAll(".bar").data(a).transition().duration(1e3).attr("y",function(t){return y(t.value)}).attr("height",function(t){return height-y(t.value)}):svg.selectAll(".bar").data(a).enter().append("rect").attr("class","bar").attr("x",function(t){return x(t.category)}).attr("width",x.bandwidth()).attr("y",function(t){return y(t.value)}).attr("height",function(t){return height-y(t.value)}),created?svg.select(".yAxis").transition().duration(1e3).call(yAxis):(svg.append("g").attr("transform","translate(0,"+height+")").call(d3.axisBottom(x)),svg.append("g").attr("class","yAxis").call(yAxis)),created?svg.select("#bar-title").text(t):svg.append("text").attr("x",width/2).attr("y",0-margin.top/2).attr("id","bar-title").attr("text-anchor","middle").style("font-size","24px").text(t),created=!0}var margin={top:60,right:20,bottom:30,left:50},width=550-margin.left-margin.right,height=350-margin.top-margin.bottom,x=d3.scaleBand().range([0,width]).padding(.1),y=d3.scaleLinear().range([height,0]).nice(),yAxis=d3.axisLeft(),created=!1,svg=d3.select("#graph-div").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");